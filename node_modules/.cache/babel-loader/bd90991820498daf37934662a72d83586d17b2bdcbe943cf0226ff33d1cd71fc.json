{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactVis = require(\"react-vis\");\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _utils = require(\"@kepler.gl/utils\");\nvar _templateObject, _templateObject2;\nvar LineChartWrapper = _styledComponents[\"default\"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  .rv-xy-plot {\\n    /* important for rendering hint */\\n    position: relative;\\n  }\\n  .rv-xy-plot__inner {\\n    /* important to show axis */\\n    overflow: visible;\\n  }\\n\\n  .rv-xy-plot__grid-lines__line {\\n    stroke: \", \";\\n    stroke-dasharray: 1px 4px;\\n  }\\n\\n  .rv-xy-plot__axis__tick__text {\\n    font-size: 9px;\\n    fill: \", \";\\n  }\\n\"])), function (props) {\n  return props.theme.histogramFillOutRange;\n}, function (props) {\n  return props.theme.textColor;\n});\nvar StyledHint = _styledComponents[\"default\"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  background-color: #d3d8e0;\\n  border-radius: 2px;\\n  color: \", \";\\n  font-size: 9px;\\n  margin: 4px;\\n  padding: 3px 6px;\\n  pointer-events: none;\\n  user-select: none;\\n\"])), function (props) {\n  return props.theme.textColorLT;\n});\nvar HintContent = function HintContent(_ref) {\n  var x = _ref.x,\n    y = _ref.y,\n    format = _ref.format;\n  return /*#__PURE__*/_react[\"default\"].createElement(StyledHint, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"hint--x\"\n  }, format(x)), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"row\"\n  }, y));\n};\nvar MARGIN = {\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0\n};\nfunction LineChartFactory() {\n  var LineChartComponent = function LineChartComponent(_ref2) {\n    var brushComponent = _ref2.brushComponent,\n      brushing = _ref2.brushing,\n      color = _ref2.color,\n      enableChartHover = _ref2.enableChartHover,\n      height = _ref2.height,\n      hoveredDP = _ref2.hoveredDP,\n      isEnlarged = _ref2.isEnlarged,\n      lineChart = _ref2.lineChart,\n      margin = _ref2.margin,\n      onMouseMove = _ref2.onMouseMove,\n      width = _ref2.width,\n      timezone = _ref2.timezone,\n      timeFormat = _ref2.timeFormat;\n    var _ref3 = lineChart || {},\n      series = _ref3.series,\n      yDomain = _ref3.yDomain;\n    var brushData = (0, _react.useMemo)(function () {\n      return series && series[0] && series[0].x && yDomain && yDomain[1] ? [{\n        x: series[0].x,\n        y: yDomain[1],\n        customComponent: function customComponent() {\n          return brushComponent;\n        }\n      }] : [];\n    }, [series, yDomain, brushComponent]);\n    var hintFormatter = (0, _react.useMemo)(function () {\n      return (0, _utils.datetimeFormatter)(timezone)(timeFormat);\n    }, [timezone, timeFormat]);\n    return /*#__PURE__*/_react[\"default\"].createElement(LineChartWrapper, {\n      style: {\n        marginTop: \"\".concat(margin.top, \"px\")\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_reactVis.XYPlot, {\n      xType: \"time\",\n      width: width,\n      height: height,\n      margin: MARGIN,\n      onMouseLeave: function onMouseLeave() {\n        onMouseMove(null);\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_reactVis.HorizontalGridLines, {\n      tickTotal: 3\n    }), /*#__PURE__*/_react[\"default\"].createElement(_reactVis.LineSeries, {\n      style: {\n        fill: 'none'\n      },\n      color: color,\n      data: series,\n      onNearestX: enableChartHover ? onMouseMove : undefined\n    }), /*#__PURE__*/_react[\"default\"].createElement(_reactVis.MarkSeries, {\n      data: hoveredDP ? [hoveredDP] : [],\n      color: color\n    }), /*#__PURE__*/_react[\"default\"].createElement(_reactVis.CustomSVGSeries, {\n      data: brushData\n    }), isEnlarged && /*#__PURE__*/_react[\"default\"].createElement(_reactVis.YAxis, {\n      tickTotal: 3\n    }), hoveredDP && enableChartHover && !brushing ? /*#__PURE__*/_react[\"default\"].createElement(_reactVis.Hint, {\n      value: hoveredDP\n    }, /*#__PURE__*/_react[\"default\"].createElement(HintContent, (0, _extends2[\"default\"])({}, hoveredDP, {\n      format: hintFormatter\n    }))) : null));\n  };\n  return LineChartComponent;\n}\nvar _default = LineChartFactory;\nexports[\"default\"] = _default;","map":{"version":3,"names":["Object","defineProperty","exports","value","_extends2","_interopRequireDefault","require","_taggedTemplateLiteral2","_react","_interopRequireWildcard","_reactVis","_styledComponents","_utils","_templateObject","_templateObject2","props","theme","histogramFillOutRange","textColor","StyledHint","div","HintContent","_ref","x","y","format","createElement","className","MARGIN","top","left","right","LineChartFactory","brushData","LineChartComponent","_ref2","brushComponent","brushing","color","enableChartHover","height","hoveredDP","isEnlarged","lineChart","margin","onMouseMove","width","timezone","timeFormat","_ref3","series","yDomain","useMemo","customComponent","hintFormatter","datetimeFormatter","LineChartWrapper","style","marginTop","concat","XYPlot","xType","onMouseLeave","HorizontalGridLines","tickTotal","fill"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/common/line-chart.tsx"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {useMemo} from 'react';\nimport {\n  HorizontalGridLines,\n  LineSeries,\n  XYPlot,\n  CustomSVGSeries,\n  Hint,\n  YAxis,\n  MarkSeries,\n  LineSeriesPoint,\n  RVNearestXData\n} from 'react-vis';\nimport {LineChart} from '@kepler.gl/types';\nimport styled from 'styled-components';\nimport {datetimeFormatter} from '@kepler.gl/utils';\n\nconst LineChartWrapper = styled.div`\n  .rv-xy-plot {\n    /* important for rendering hint */\n    position: relative;\n  }\n  .rv-xy-plot__inner {\n    /* important to show axis */\n    overflow: visible;\n  }\n\n  .rv-xy-plot__grid-lines__line {\n    stroke: ${props => props.theme.histogramFillOutRange};\n    stroke-dasharray: 1px 4px;\n  }\n\n  .rv-xy-plot__axis__tick__text {\n    font-size: 9px;\n    fill: ${props => props.theme.textColor};\n  }\n`;\n\nconst StyledHint = styled.div`\n  background-color: #d3d8e0;\n  border-radius: 2px;\n  color: ${props => props.theme.textColorLT};\n  font-size: 9px;\n  margin: 4px;\n  padding: 3px 6px;\n  pointer-events: none;\n  user-select: none;\n`;\n\ninterface HintContentProps {\n  x: number;\n  y: number;\n  format: (ts: number) => string;\n}\n\nconst HintContent = ({x, y, format}: HintContentProps) => (\n  <StyledHint>\n    <div className=\"hint--x\">{format(x)}</div>\n    <div className=\"row\">{y}</div>\n  </StyledHint>\n);\n\nexport interface HoverDP {\n  x: number;\n  y: number;\n  color?: string | number;\n  opacity?: string | number;\n  stroke?: string | number;\n  fill?: string | number;\n  size?: string | number;\n}\n\ninterface LineChartProps {\n  brushComponent?: any;\n  brushing?: boolean;\n  color?: string;\n  enableChartHover?: boolean;\n  height: number;\n  hoveredDP?: HoverDP | null;\n  isEnlarged?: boolean;\n  lineChart?: LineChart;\n  margin: {top?: number; bottom?: number; left?: number; right?: number};\n  onMouseMove: (datapoint: LineSeriesPoint | null, data?: RVNearestXData<LineSeriesPoint>) => void;\n  width: number;\n  timezone?: string | null;\n  timeFormat?: string;\n}\n\nconst MARGIN = {top: 0, bottom: 0, left: 0, right: 0};\nfunction LineChartFactory() {\n  const LineChartComponent = ({\n    brushComponent,\n    brushing,\n    color,\n    enableChartHover,\n    height,\n    hoveredDP,\n    isEnlarged,\n    lineChart,\n    margin,\n    onMouseMove,\n    width,\n    timezone,\n    timeFormat\n  }: LineChartProps) => {\n    const {series, yDomain} = lineChart || {};\n\n    const brushData = useMemo(() => {\n      return series && series[0] && series[0].x && yDomain && yDomain[1]\n        ? [{x: series[0].x, y: yDomain[1], customComponent: () => brushComponent}]\n        : [];\n    }, [series, yDomain, brushComponent]);\n    const hintFormatter = useMemo(() => datetimeFormatter(timezone)(timeFormat), [\n      timezone,\n      timeFormat\n    ]);\n\n    return (\n      <LineChartWrapper style={{marginTop: `${margin.top}px`}}>\n        <XYPlot\n          xType=\"time\"\n          width={width}\n          height={height}\n          margin={MARGIN}\n          onMouseLeave={() => {\n            onMouseMove(null);\n          }}\n        >\n          <HorizontalGridLines tickTotal={3} />\n          <LineSeries\n            style={{fill: 'none'}}\n            color={color}\n            data={series}\n            onNearestX={enableChartHover ? onMouseMove : undefined}\n          />\n          <MarkSeries data={hoveredDP ? [hoveredDP] : []} color={color} />\n          <CustomSVGSeries data={brushData} />\n          {isEnlarged && <YAxis tickTotal={3} />}\n          {hoveredDP && enableChartHover && !brushing ? (\n            <Hint value={hoveredDP}>\n              <HintContent {...hoveredDP} format={hintFormatter} />\n            </Hint>\n          ) : null}\n        </XYPlot>\n      </LineChartWrapper>\n    );\n  };\n  return LineChartComponent;\n}\n\nexport default LineChartFactory;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}