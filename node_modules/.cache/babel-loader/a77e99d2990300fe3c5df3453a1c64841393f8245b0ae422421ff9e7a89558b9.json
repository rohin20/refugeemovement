{"ast":null,"code":"/*\n * Copyright 2015-2016 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n'use strict';\n\nvar uriEncoder, operations, prefixRE;\nuriEncoder = require('./uriEncoder');\nprefixRE = /^([^:]*):([0-9]+)$/;\noperations = {\n  '': {\n    first: '',\n    separator: ',',\n    named: false,\n    empty: '',\n    encoder: uriEncoder.encode\n  },\n  '+': {\n    first: '',\n    separator: ',',\n    named: false,\n    empty: '',\n    encoder: uriEncoder.encodeURL\n  },\n  '#': {\n    first: '#',\n    separator: ',',\n    named: false,\n    empty: '',\n    encoder: uriEncoder.encodeURL\n  },\n  '.': {\n    first: '.',\n    separator: '.',\n    named: false,\n    empty: '',\n    encoder: uriEncoder.encode\n  },\n  '/': {\n    first: '/',\n    separator: '/',\n    named: false,\n    empty: '',\n    encoder: uriEncoder.encode\n  },\n  ';': {\n    first: ';',\n    separator: ';',\n    named: true,\n    empty: '',\n    encoder: uriEncoder.encode\n  },\n  '?': {\n    first: '?',\n    separator: '&',\n    named: true,\n    empty: '=',\n    encoder: uriEncoder.encode\n  },\n  '&': {\n    first: '&',\n    separator: '&',\n    named: true,\n    empty: '=',\n    encoder: uriEncoder.encode\n  },\n  '=': {\n    reserved: true\n  },\n  ',': {\n    reserved: true\n  },\n  '!': {\n    reserved: true\n  },\n  '@': {\n    reserved: true\n  },\n  '|': {\n    reserved: true\n  }\n};\nfunction apply(operation, expression, params) {\n  /*jshint maxcomplexity:11 */\n  return expression.split(',').reduce(function (result, variable) {\n    var opts, value;\n    opts = {};\n    if (variable.slice(-1) === '*') {\n      variable = variable.slice(0, -1);\n      opts.explode = true;\n    }\n    if (prefixRE.test(variable)) {\n      var prefix = prefixRE.exec(variable);\n      variable = prefix[1];\n      opts.maxLength = parseInt(prefix[2]);\n    }\n    variable = uriEncoder.decode(variable);\n    value = params[variable];\n    if (value === void 0 || value === null) {\n      return result;\n    }\n    if (Array.isArray(value)) {\n      result = value.reduce(function (result, value) {\n        if (result.length) {\n          result += opts.explode ? operation.separator : ',';\n          if (operation.named && opts.explode) {\n            result += operation.encoder(variable);\n            result += value.length ? '=' : operation.empty;\n          }\n        } else {\n          result += operation.first;\n          if (operation.named) {\n            result += operation.encoder(variable);\n            result += value.length ? '=' : operation.empty;\n          }\n        }\n        result += operation.encoder(value);\n        return result;\n      }, result);\n    } else if (typeof value === 'object') {\n      result = Object.keys(value).reduce(function (result, name) {\n        if (result.length) {\n          result += opts.explode ? operation.separator : ',';\n        } else {\n          result += operation.first;\n          if (operation.named && !opts.explode) {\n            result += operation.encoder(variable);\n            result += value[name].length ? '=' : operation.empty;\n          }\n        }\n        result += operation.encoder(name);\n        result += opts.explode ? '=' : ',';\n        result += operation.encoder(value[name]);\n        return result;\n      }, result);\n    } else {\n      value = String(value);\n      if (opts.maxLength) {\n        value = value.slice(0, opts.maxLength);\n      }\n      result += result.length ? operation.separator : operation.first;\n      if (operation.named) {\n        result += operation.encoder(variable);\n        result += value.length ? '=' : operation.empty;\n      }\n      result += operation.encoder(value);\n    }\n    return result;\n  }, '');\n}\nfunction expandExpression(expression, params) {\n  var operation;\n  operation = operations[expression.slice(0, 1)];\n  if (operation) {\n    expression = expression.slice(1);\n  } else {\n    operation = operations[''];\n  }\n  if (operation.reserved) {\n    throw new Error('Reserved expression operations are not supported');\n  }\n  return apply(operation, expression, params);\n}\nfunction expandTemplate(template, params) {\n  var start, end, uri;\n  uri = '';\n  end = 0;\n  while (true) {\n    start = template.indexOf('{', end);\n    if (start === -1) {\n      // no more expressions\n      uri += template.slice(end);\n      break;\n    }\n    uri += template.slice(end, start);\n    end = template.indexOf('}', start) + 1;\n    uri += expandExpression(template.slice(start + 1, end - 1), params);\n  }\n  return uri;\n}\nmodule.exports = {\n  /**\n   * Expand a URI Template with parameters to form a URI.\n   *\n   * Full implementation (level 4) of rfc6570.\n   * @see https://tools.ietf.org/html/rfc6570\n   *\n   * @param {string} template URI template\n   * @param {Object} [params] params to apply to the template durring expantion\n   * @returns {string} expanded URI\n   */\n  expand: expandTemplate\n};","map":{"version":3,"names":["uriEncoder","operations","prefixRE","require","first","separator","named","empty","encoder","encode","encodeURL","reserved","apply","operation","expression","params","split","reduce","result","variable","opts","value","slice","explode","test","prefix","exec","maxLength","parseInt","decode","Array","isArray","length","Object","keys","name","String","expandExpression","Error","expandTemplate","template","start","end","uri","indexOf","module","exports","expand"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/rest/util/uriTemplate.js"],"sourcesContent":["/*\n * Copyright 2015-2016 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n'use strict';\n\nvar uriEncoder, operations, prefixRE;\n\nuriEncoder = require('./uriEncoder');\n\nprefixRE = /^([^:]*):([0-9]+)$/;\noperations = {\n\t'':  { first: '',  separator: ',', named: false, empty: '',  encoder: uriEncoder.encode },\n\t'+': { first: '',  separator: ',', named: false, empty: '',  encoder: uriEncoder.encodeURL },\n\t'#': { first: '#', separator: ',', named: false, empty: '',  encoder: uriEncoder.encodeURL },\n\t'.': { first: '.', separator: '.', named: false, empty: '',  encoder: uriEncoder.encode },\n\t'/': { first: '/', separator: '/', named: false, empty: '',  encoder: uriEncoder.encode },\n\t';': { first: ';', separator: ';', named: true,  empty: '',  encoder: uriEncoder.encode },\n\t'?': { first: '?', separator: '&', named: true,  empty: '=', encoder: uriEncoder.encode },\n\t'&': { first: '&', separator: '&', named: true,  empty: '=', encoder: uriEncoder.encode },\n\t'=': { reserved: true },\n\t',': { reserved: true },\n\t'!': { reserved: true },\n\t'@': { reserved: true },\n\t'|': { reserved: true }\n};\n\nfunction apply(operation, expression, params) {\n\t/*jshint maxcomplexity:11 */\n\treturn expression.split(',').reduce(function (result, variable) {\n\t\tvar opts, value;\n\n\t\topts = {};\n\t\tif (variable.slice(-1) === '*') {\n\t\t\tvariable = variable.slice(0, -1);\n\t\t\topts.explode = true;\n\t\t}\n\t\tif (prefixRE.test(variable)) {\n\t\t\tvar prefix = prefixRE.exec(variable);\n\t\t\tvariable = prefix[1];\n\t\t\topts.maxLength = parseInt(prefix[2]);\n\t\t}\n\n\t\tvariable = uriEncoder.decode(variable);\n\t\tvalue = params[variable];\n\n\t\tif (value === void 0 || value === null) {\n\t\t\treturn result;\n\t\t}\n\t\tif (Array.isArray(value)) {\n\t\t\tresult = value.reduce(function (result, value) {\n\t\t\t\tif (result.length) {\n\t\t\t\t\tresult += opts.explode ? operation.separator : ',';\n\t\t\t\t\tif (operation.named && opts.explode) {\n\t\t\t\t\t\tresult += operation.encoder(variable);\n\t\t\t\t\t\tresult += value.length ? '=' : operation.empty;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tresult += operation.first;\n\t\t\t\t\tif (operation.named) {\n\t\t\t\t\t\tresult += operation.encoder(variable);\n\t\t\t\t\t\tresult += value.length ? '=' : operation.empty;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresult += operation.encoder(value);\n\t\t\t\treturn result;\n\t\t\t}, result);\n\t\t}\n\t\telse if (typeof value === 'object') {\n\t\t\tresult = Object.keys(value).reduce(function (result, name) {\n\t\t\t\tif (result.length) {\n\t\t\t\t\tresult += opts.explode ? operation.separator : ',';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tresult += operation.first;\n\t\t\t\t\tif (operation.named && !opts.explode) {\n\t\t\t\t\t\tresult += operation.encoder(variable);\n\t\t\t\t\t\tresult += value[name].length ? '=' : operation.empty;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresult += operation.encoder(name);\n\t\t\t\tresult += opts.explode ? '=' : ',';\n\t\t\t\tresult += operation.encoder(value[name]);\n\t\t\t\treturn result;\n\t\t\t}, result);\n\t\t}\n\t\telse {\n\t\t\tvalue = String(value);\n\t\t\tif (opts.maxLength) {\n\t\t\t\tvalue = value.slice(0, opts.maxLength);\n\t\t\t}\n\t\t\tresult += result.length ? operation.separator : operation.first;\n\t\t\tif (operation.named) {\n\t\t\t\tresult += operation.encoder(variable);\n\t\t\t\tresult += value.length ? '=' : operation.empty;\n\t\t\t}\n\t\t\tresult += operation.encoder(value);\n\t\t}\n\n\t\treturn result;\n\t}, '');\n}\n\nfunction expandExpression(expression, params) {\n\tvar operation;\n\n\toperation = operations[expression.slice(0,1)];\n\tif (operation) {\n\t\texpression = expression.slice(1);\n\t}\n\telse {\n\t\toperation = operations[''];\n\t}\n\n\tif (operation.reserved) {\n\t\tthrow new Error('Reserved expression operations are not supported');\n\t}\n\n\treturn apply(operation, expression, params);\n}\n\nfunction expandTemplate(template, params) {\n\tvar start, end, uri;\n\n\turi = '';\n\tend = 0;\n\twhile (true) {\n\t\tstart = template.indexOf('{', end);\n\t\tif (start === -1) {\n\t\t\t// no more expressions\n\t\t\turi += template.slice(end);\n\t\t\tbreak;\n\t\t}\n\t\turi += template.slice(end, start);\n\t\tend = template.indexOf('}', start) + 1;\n\t\turi += expandExpression(template.slice(start + 1, end - 1), params);\n\t}\n\n\treturn uri;\n}\n\nmodule.exports = {\n\n\t/**\n\t * Expand a URI Template with parameters to form a URI.\n\t *\n\t * Full implementation (level 4) of rfc6570.\n\t * @see https://tools.ietf.org/html/rfc6570\n\t *\n\t * @param {string} template URI template\n\t * @param {Object} [params] params to apply to the template durring expantion\n\t * @returns {string} expanded URI\n\t */\n\texpand: expandTemplate\n\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}