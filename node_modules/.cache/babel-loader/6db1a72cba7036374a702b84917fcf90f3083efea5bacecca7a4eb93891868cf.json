{"ast":null,"code":"import _classCallCheck from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar LRUCache = /*#__PURE__*/function () {\n  function LRUCache() {\n    var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;\n    _classCallCheck(this, LRUCache);\n    _defineProperty(this, \"limit\", void 0);\n    _defineProperty(this, \"_cache\", {});\n    _defineProperty(this, \"_order\", []);\n    this.limit = limit;\n  }\n  _createClass(LRUCache, [{\n    key: \"get\",\n    value: function get(key) {\n      var value = this._cache[key];\n      if (value) {\n        this._deleteOrder(key);\n        this._appendOrder(key);\n      }\n      return value;\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      if (!this._cache[key]) {\n        if (Object.keys(this._cache).length === this.limit) {\n          this.delete(this._order[0]);\n        }\n        this._cache[key] = value;\n        this._appendOrder(key);\n      } else {\n        this.delete(key);\n        this._cache[key] = value;\n        this._appendOrder(key);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      var value = this._cache[key];\n      if (value) {\n        delete this._cache[key];\n        this._deleteOrder(key);\n      }\n    }\n  }, {\n    key: \"_deleteOrder\",\n    value: function _deleteOrder(key) {\n      var index = this._order.indexOf(key);\n      if (index >= 0) {\n        this._order.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"_appendOrder\",\n    value: function _appendOrder(key) {\n      this._order.push(key);\n    }\n  }]);\n  return LRUCache;\n}();\nexport { LRUCache as default };","map":{"version":3,"names":["LRUCache","limit","arguments","length","undefined","_classCallCheck","_defineProperty","_createClass","key","value","get","_cache","_deleteOrder","_appendOrder","set","Object","keys","delete","_order","_delete","index","indexOf","splice","push","default"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@deck.gl/layers/src/text-layer/lru-cache.ts"],"sourcesContent":["/**\n * LRU Cache class with limit\n *\n * Update order for each get/set operation\n * Delete oldest when reach given limit\n */\n\nexport default class LRUCache<ValueT> {\n  private limit: number;\n  private _cache: Record<string, ValueT> = {};\n  /** access/update order, first item is oldest, last item is newest */\n  private _order: string[] = [];\n\n  constructor(limit: number = 5) {\n    this.limit = limit;\n  }\n\n  get(key: string): ValueT {\n    const value = this._cache[key];\n    if (value) {\n      // update order\n      this._deleteOrder(key);\n      this._appendOrder(key);\n    }\n    return value;\n  }\n\n  set(key: string, value: ValueT): void {\n    if (!this._cache[key]) {\n      // if reach limit, delete the oldest\n      if (Object.keys(this._cache).length === this.limit) {\n        this.delete(this._order[0]);\n      }\n\n      this._cache[key] = value;\n      this._appendOrder(key);\n    } else {\n      // if found in cache, delete the old one, insert new one to the first of list\n      this.delete(key);\n\n      this._cache[key] = value;\n      this._appendOrder(key);\n    }\n  }\n\n  delete(key: string): void {\n    const value = this._cache[key];\n    if (value) {\n      delete this._cache[key];\n      this._deleteOrder(key);\n    }\n  }\n\n  private _deleteOrder(key: string): void {\n    const index = this._order.indexOf(key);\n    if (index >= 0) {\n      this._order.splice(index, 1);\n    }\n  }\n\n  private _appendOrder(key: string): void {\n    this._order.push(key);\n  }\n}\n"],"mappings":";;;IAOqBA,QAAN;EAMb,SAAAA,SAAA,EAA+B;IAAA,IAAnBC,KAAa,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAjB;IAAAG,eAAA,OAAAL,QAAA;IAAoBM,eAAA;IAAAA,eAAA,iBAJU,EAIV;IAAAA,eAAA,iBAFJ,EAEI;IAC7B,KAAKL,KAAL,GAAaA,KAAb;EACD;EAAAM,YAAA,CAAAP,QAAA;IAAAQ,GAAA;IAAAC,KAAA,EAED,SAAAC,IAAIF,GAAD,EAAsB;MACvB,IAAMC,KAAK,GAAG,KAAKE,MAAL,CAAYH,GAAZ,CAAd;MACA,IAAIC,KAAJ,EAAW;QAET,KAAKG,YAAL,CAAkBJ,GAAlB;QACA,KAAKK,YAAL,CAAkBL,GAAlB;MACD;MACD,OAAOC,KAAP;IACD;EAAA;IAAAD,GAAA;IAAAC,KAAA,EAED,SAAAK,IAAIN,GAAD,EAAcC,KAAd,EAAmC;MACpC,IAAI,CAAC,KAAKE,MAAL,CAAYH,GAAZ,CAAL,EAAuB;QAErB,IAAIO,MAAM,CAACC,IAAP,CAAY,KAAKL,MAAjB,EAAyBR,MAAzB,KAAoC,KAAKF,KAA7C,EAAoD;UAClD,KAAKgB,MAAL,CAAY,KAAKC,MAAL,CAAY,CAAZ,CAAZ;QACD;QAED,KAAKP,MAAL,CAAYH,GAAZ,IAAmBC,KAAnB;QACA,KAAKI,YAAL,CAAkBL,GAAlB;MACD,CARD,MAQO;QAEL,KAAKS,MAAL,CAAYT,GAAZ;QAEA,KAAKG,MAAL,CAAYH,GAAZ,IAAmBC,KAAnB;QACA,KAAKI,YAAL,CAAkBL,GAAlB;MACD;IACF;EAAA;IAAAA,GAAA;IAAAC,KAAA,EAED,SAAAU,QAAOX,GAAD,EAAoB;MACxB,IAAMC,KAAK,GAAG,KAAKE,MAAL,CAAYH,GAAZ,CAAd;MACA,IAAIC,KAAJ,EAAW;QACT,OAAO,KAAKE,MAAL,CAAYH,GAAZ,CAAP;QACA,KAAKI,YAAL,CAAkBJ,GAAlB;MACD;IACF;EAAA;IAAAA,GAAA;IAAAC,KAAA,EAEO,SAAAG,aAAaJ,GAAD,EAAoB;MACtC,IAAMY,KAAK,GAAG,KAAKF,MAAL,CAAYG,OAAZ,CAAoBb,GAApB,CAAd;MACA,IAAIY,KAAK,IAAI,CAAb,EAAgB;QACd,KAAKF,MAAL,CAAYI,MAAZ,CAAmBF,KAAnB,EAA0B,CAA1B;MACD;IACF;EAAA;IAAAZ,GAAA;IAAAC,KAAA,EAEO,SAAAI,aAAaL,GAAD,EAAoB;MACtC,KAAKU,MAAL,CAAYK,IAAZ,CAAiBf,GAAjB;IACD;EAAA;EAAA,OAAAR,QAAA;AAAA;AAAA,SAvDkBA,QAAN,IAAAwB,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}