{"ast":null,"code":"import _defineProperty from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _createForOfIteratorHelper from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport { assert } from '../utils/assert';\nimport { formatValue } from '../utils/format-value';\nexport function getDebugTableForUniforms(_ref) {\n  var _ref$header = _ref.header,\n    header = _ref$header === void 0 ? 'Uniforms' : _ref$header,\n    program = _ref.program,\n    uniforms = _ref.uniforms,\n    _ref$undefinedOnly = _ref.undefinedOnly,\n    undefinedOnly = _ref$undefinedOnly === void 0 ? false : _ref$undefinedOnly;\n  assert(program);\n  var SHADER_MODULE_UNIFORM_REGEXP = '.*_.*';\n  var PROJECT_MODULE_UNIFORM_REGEXP = '.*Matrix';\n  var uniformLocations = program._uniformSetters;\n  var table = {};\n  var uniformNames = Object.keys(uniformLocations).sort();\n  var count = 0;\n  var _iterator = _createForOfIteratorHelper(uniformNames),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _uniformName = _step.value;\n      if (!_uniformName.match(SHADER_MODULE_UNIFORM_REGEXP) && !_uniformName.match(PROJECT_MODULE_UNIFORM_REGEXP)) {\n        if (addUniformToTable({\n          table: table,\n          header: header,\n          uniforms: uniforms,\n          uniformName: _uniformName,\n          undefinedOnly: undefinedOnly\n        })) {\n          count++;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  var _iterator2 = _createForOfIteratorHelper(uniformNames),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _uniformName2 = _step2.value;\n      if (_uniformName2.match(PROJECT_MODULE_UNIFORM_REGEXP)) {\n        if (addUniformToTable({\n          table: table,\n          header: header,\n          uniforms: uniforms,\n          uniformName: _uniformName2,\n          undefinedOnly: undefinedOnly\n        })) {\n          count++;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  var _iterator3 = _createForOfIteratorHelper(uniformNames),\n    _step3;\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var _uniformName3 = _step3.value;\n      if (!table[_uniformName3]) {\n        if (addUniformToTable({\n          table: table,\n          header: header,\n          uniforms: uniforms,\n          uniformName: _uniformName3,\n          undefinedOnly: undefinedOnly\n        })) {\n          count++;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n  var unusedCount = 0;\n  var unusedTable = {};\n  if (!undefinedOnly) {\n    for (var uniformName in uniforms) {\n      var uniform = uniforms[uniformName];\n      if (!table[uniformName]) {\n        unusedCount++;\n        unusedTable[uniformName] = _defineProperty({\n          Type: \"NOT USED: \".concat(uniform)\n        }, header, formatValue(uniform));\n      }\n    }\n  }\n  return {\n    table: table,\n    count: count,\n    unusedTable: unusedTable,\n    unusedCount: unusedCount\n  };\n}\nfunction addUniformToTable(_ref2) {\n  var table = _ref2.table,\n    header = _ref2.header,\n    uniforms = _ref2.uniforms,\n    uniformName = _ref2.uniformName,\n    undefinedOnly = _ref2.undefinedOnly;\n  var value = uniforms[uniformName];\n  var isDefined = isUniformDefined(value);\n  if (!undefinedOnly || !isDefined) {\n    var _table$uniformName;\n    table[uniformName] = (_table$uniformName = {}, _defineProperty(_table$uniformName, header, isDefined ? formatValue(value) : 'N/A'), _defineProperty(_table$uniformName, 'Uniform Type', isDefined ? value : 'NOT PROVIDED'), _table$uniformName);\n    return true;\n  }\n  return false;\n}\nfunction isUniformDefined(value) {\n  return value !== undefined && value !== null;\n}","map":{"version":3,"names":["assert","formatValue","getDebugTableForUniforms","_ref","_ref$header","header","program","uniforms","_ref$undefinedOnly","undefinedOnly","SHADER_MODULE_UNIFORM_REGEXP","PROJECT_MODULE_UNIFORM_REGEXP","uniformLocations","_uniformSetters","table","uniformNames","Object","keys","sort","count","_iterator","_createForOfIteratorHelper","_step","s","n","done","uniformName","value","match","addUniformToTable","err","e","f","_iterator2","_step2","_iterator3","_step3","unusedCount","unusedTable","uniform","_defineProperty","Type","concat","_ref2","isDefined","isUniformDefined","_table$uniformName","undefined"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@luma.gl/webgl/src/debug/debug-uniforms.js"],"sourcesContent":["import {assert} from '../utils/assert';\nimport {formatValue} from '../utils/format-value';\n\n// Prepares a table suitable for console.table\n/* eslint-disable max-statements, complexity */\nexport function getDebugTableForUniforms({\n  header = 'Uniforms',\n  program,\n  uniforms,\n  undefinedOnly = false\n}) {\n  assert(program);\n\n  const SHADER_MODULE_UNIFORM_REGEXP = '.*_.*';\n  const PROJECT_MODULE_UNIFORM_REGEXP = '.*Matrix'; // TODO - Use explicit list\n\n  const uniformLocations = program._uniformSetters;\n  const table = {}; // {[header]: {}};\n\n  // Add program's provided uniforms (in alphabetical order)\n  const uniformNames = Object.keys(uniformLocations).sort();\n\n  let count = 0;\n\n  // First add non-underscored uniforms (assumed not coming from shader modules)\n  for (const uniformName of uniformNames) {\n    if (\n      !uniformName.match(SHADER_MODULE_UNIFORM_REGEXP) &&\n      !uniformName.match(PROJECT_MODULE_UNIFORM_REGEXP)\n    ) {\n      if (addUniformToTable({table, header, uniforms, uniformName, undefinedOnly})) {\n        count++;\n      }\n    }\n  }\n\n  // add underscored uniforms (assumed from shader modules)\n  for (const uniformName of uniformNames) {\n    if (uniformName.match(PROJECT_MODULE_UNIFORM_REGEXP)) {\n      if (addUniformToTable({table, header, uniforms, uniformName, undefinedOnly})) {\n        count++;\n      }\n    }\n  }\n\n  for (const uniformName of uniformNames) {\n    if (!table[uniformName]) {\n      if (addUniformToTable({table, header, uniforms, uniformName, undefinedOnly})) {\n        count++;\n      }\n    }\n  }\n\n  // Create a table of unused uniforms\n  let unusedCount = 0;\n  const unusedTable = {};\n  if (!undefinedOnly) {\n    for (const uniformName in uniforms) {\n      const uniform = uniforms[uniformName];\n      if (!table[uniformName]) {\n        unusedCount++;\n        unusedTable[uniformName] = {\n          Type: `NOT USED: ${uniform}`,\n          [header]: formatValue(uniform)\n        };\n      }\n    }\n  }\n\n  return {table, count, unusedTable, unusedCount};\n}\n\n// Helper\nfunction addUniformToTable({table, header, uniforms, uniformName, undefinedOnly}) {\n  const value = uniforms[uniformName];\n  const isDefined = isUniformDefined(value);\n  if (!undefinedOnly || !isDefined) {\n    table[uniformName] = {\n      // Add program's unprovided uniforms\n      [header]: isDefined ? formatValue(value) : 'N/A',\n      'Uniform Type': isDefined ? value : 'NOT PROVIDED'\n    };\n    return true;\n  }\n  return false;\n}\n\nfunction isUniformDefined(value) {\n  return value !== undefined && value !== null;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}