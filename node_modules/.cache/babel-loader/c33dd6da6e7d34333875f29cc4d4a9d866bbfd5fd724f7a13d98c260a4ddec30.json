{"ast":null,"code":"import _objectSpread from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar ShaderAttribute = /*#__PURE__*/function () {\n  function ShaderAttribute(dataColumn, opts) {\n    _classCallCheck(this, ShaderAttribute);\n    _defineProperty(this, \"opts\", void 0);\n    _defineProperty(this, \"source\", void 0);\n    this.opts = opts;\n    this.source = dataColumn;\n  }\n  _createClass(ShaderAttribute, [{\n    key: \"value\",\n    get: function get() {\n      return this.source.value;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var buffer = this.source.getBuffer();\n      var accessor = this.getAccessor();\n      if (buffer) {\n        return [buffer, accessor];\n      }\n      var value = this.source.value;\n      var size = accessor.size;\n      var constantValue = value;\n      if (value && value.length !== size) {\n        constantValue = new Float32Array(size);\n        var index = accessor.elementOffset || 0;\n        for (var i = 0; i < size; ++i) {\n          constantValue[i] = value[index + i];\n        }\n      }\n      return constantValue;\n    }\n  }, {\n    key: \"getAccessor\",\n    value: function getAccessor() {\n      return _objectSpread(_objectSpread({}, this.source.getAccessor()), this.opts);\n    }\n  }]);\n  return ShaderAttribute;\n}();\nexport { ShaderAttribute as default };","map":{"version":3,"names":["ShaderAttribute","dataColumn","opts","_classCallCheck","_defineProperty","source","_createClass","key","get","value","getValue","buffer","getBuffer","accessor","getAccessor","size","constantValue","length","Float32Array","index","elementOffset","i","_objectSpread","default"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@deck.gl/core/src/lib/attribute/shader-attribute.ts"],"sourcesContent":["/* eslint-disable complexity */\nimport type DataColumn from './data-column';\nimport type {BufferAccessor, ShaderAttributeOptions} from './data-column';\nimport type {Buffer} from '@luma.gl/webgl';\nimport type {NumericArray} from '../../types/types';\n\nexport interface IShaderAttribute {\n  value: NumericArray | null;\n  getValue(): [Buffer, BufferAccessor] | NumericArray | null;\n}\n\n/* This class creates a luma.gl-compatible \"view\" on top of a DataColumn instance */\nexport default class ShaderAttribute implements IShaderAttribute {\n  opts: ShaderAttributeOptions;\n  source: DataColumn<any, any>;\n\n  constructor(dataColumn: DataColumn<any, any>, opts: ShaderAttributeOptions) {\n    // Options that cannot be changed later\n    this.opts = opts;\n    this.source = dataColumn;\n  }\n\n  get value(): NumericArray | null {\n    return this.source.value;\n  }\n\n  getValue(): [Buffer, BufferAccessor] | NumericArray | null {\n    const buffer = this.source.getBuffer();\n    const accessor = this.getAccessor();\n    if (buffer) {\n      return [buffer, accessor];\n    }\n\n    const {value} = this.source;\n    const {size} = accessor;\n    let constantValue = value;\n\n    if (value && value.length !== size) {\n      constantValue = new Float32Array(size);\n      // initiate offset values\n      const index = accessor.elementOffset || 0; // element offset\n      for (let i = 0; i < size; ++i) {\n        constantValue[i] = value[index + i];\n      }\n    }\n\n    return constantValue;\n  }\n\n  getAccessor() {\n    return {\n      // source data accessor\n      ...this.source.getAccessor(),\n      // shader attribute overrides\n      ...this.opts\n    };\n  }\n}\n"],"mappings":";;;;IAYqBA,eAAN;EAIb,SAAAA,gBAAYC,UAAD,EAAmCC,IAAnC,EAAiE;IAAAC,eAAA,OAAAH,eAAA;IAAAI,eAAA;IAAAA,eAAA;IAE1E,KAAKF,IAAL,GAAYA,IAAZ;IACA,KAAKG,MAAL,GAAcJ,UAAd;EACD;EAAAK,YAAA,CAAAN,eAAA;IAAAO,GAAA;IAAAC,GAAA,EAEQ,SAAAA,IAAA,EAAwB;MAC/B,OAAO,KAAKH,MAAL,CAAYI,KAAnB;IACD;EAAA;IAAAF,GAAA;IAAAE,KAAA,EAED,SAAAC,SAAA,EAA2D;MACzD,IAAMC,MAAM,GAAG,KAAKN,MAAL,CAAYO,SAAZ,EAAf;MACA,IAAMC,QAAQ,GAAG,KAAKC,WAAL,EAAjB;MACA,IAAIH,MAAJ,EAAY;QACV,OAAO,CAACA,MAAD,EAASE,QAAT,CAAP;MACD;MAED,IAAOJ,KAAA,GAAS,KAAKJ,MAArB,CAAOI,KAAA;MACP,IAAOM,IAAA,GAAQF,QAAf,CAAOE,IAAA;MACP,IAAIC,aAAa,GAAGP,KAApB;MAEA,IAAIA,KAAK,IAAIA,KAAK,CAACQ,MAAN,KAAiBF,IAA9B,EAAoC;QAClCC,aAAa,GAAG,IAAIE,YAAJ,CAAiBH,IAAjB,CAAhB;QAEA,IAAMI,KAAK,GAAGN,QAAQ,CAACO,aAAT,IAA0B,CAAxC;QACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,IAApB,EAA0B,EAAEM,CAA5B,EAA+B;UAC7BL,aAAa,CAACK,CAAD,CAAb,GAAmBZ,KAAK,CAACU,KAAK,GAAGE,CAAT,CAAxB;QACD;MACF;MAED,OAAOL,aAAP;IACD;EAAA;IAAAT,GAAA;IAAAE,KAAA,EAED,SAAAK,YAAA,EAAc;MACZ,OAAAQ,aAAA,CAAAA,aAAA,KAEK,KAAKjB,MAAL,CAAYS,WAAZ,EAFE,GAIF,KAAKZ,IAAA;IAEX;EAAA;EAAA,OAAAF,eAAA;AAAA;AAAA,SA5CkBA,eAAN,IAAAuB,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}