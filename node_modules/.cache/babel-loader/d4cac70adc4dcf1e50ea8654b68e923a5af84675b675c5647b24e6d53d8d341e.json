{"ast":null,"code":"import _slicedToArray from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _objectSpread from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { normalizeTransitionSettings } from './attribute/attribute-transition-utils';\nimport CPUInterpolationTransition from '../transitions/cpu-interpolation-transition';\nimport CPUSpringTransition from '../transitions/cpu-spring-transition';\nimport log from '../utils/log';\nvar TRANSITION_TYPES = {\n  interpolation: CPUInterpolationTransition,\n  spring: CPUSpringTransition\n};\nvar UniformTransitionManager = /*#__PURE__*/function () {\n  function UniformTransitionManager(timeline) {\n    _classCallCheck(this, UniformTransitionManager);\n    this.transitions = new Map();\n    this.timeline = timeline;\n  }\n  _createClass(UniformTransitionManager, [{\n    key: \"active\",\n    get: function get() {\n      return this.transitions.size > 0;\n    }\n  }, {\n    key: \"add\",\n    value: function add(key, fromValue, toValue, settings) {\n      var transitions = this.transitions;\n      if (transitions.has(key)) {\n        var _transition = transitions.get(key);\n        var _transition$value = _transition.value,\n          value = _transition$value === void 0 ? _transition.settings.fromValue : _transition$value;\n        fromValue = value;\n        this.remove(key);\n      }\n      settings = normalizeTransitionSettings(settings);\n      if (!settings) {\n        return;\n      }\n      var TransitionType = TRANSITION_TYPES[settings.type];\n      if (!TransitionType) {\n        log.error(\"unsupported transition type '\".concat(settings.type, \"'\"))();\n        return;\n      }\n      var transition = new TransitionType(this.timeline);\n      transition.start(_objectSpread(_objectSpread({}, settings), {}, {\n        fromValue: fromValue,\n        toValue: toValue\n      }));\n      transitions.set(key, transition);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(key) {\n      var transitions = this.transitions;\n      if (transitions.has(key)) {\n        transitions.get(key).cancel();\n        transitions.delete(key);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var propsInTransition = {};\n      var _iterator = _createForOfIteratorHelper(this.transitions),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n            key = _step$value[0],\n            transition = _step$value[1];\n          transition.update();\n          propsInTransition[key] = transition.value;\n          if (!transition.inProgress) {\n            this.remove(key);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return propsInTransition;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _iterator2 = _createForOfIteratorHelper(this.transitions.keys()),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var key = _step2.value;\n          this.remove(key);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }]);\n  return UniformTransitionManager;\n}();\nexport { UniformTransitionManager as default };","map":{"version":3,"names":["normalizeTransitionSettings","CPUInterpolationTransition","CPUSpringTransition","log","TRANSITION_TYPES","interpolation","spring","UniformTransitionManager","timeline","_classCallCheck","transitions","Map","_createClass","key","get","size","value","add","fromValue","toValue","settings","has","transition","_transition$value","remove","TransitionType","type","error","concat","start","_objectSpread","set","cancel","delete","update","propsInTransition","_iterator","_createForOfIteratorHelper","_step","s","n","done","_step$value","_slicedToArray","inProgress","err","e","f","clear","_iterator2","keys","_step2","default"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@deck.gl/core/src/lib/uniform-transition-manager.js"],"sourcesContent":["import {normalizeTransitionSettings} from './attribute/attribute-transition-utils';\nimport CPUInterpolationTransition from '../transitions/cpu-interpolation-transition';\nimport CPUSpringTransition from '../transitions/cpu-spring-transition';\nimport log from '../utils/log';\n\nconst TRANSITION_TYPES = {\n  interpolation: CPUInterpolationTransition,\n  spring: CPUSpringTransition\n};\n\nexport default class UniformTransitionManager {\n  constructor(timeline) {\n    this.transitions = new Map();\n    this.timeline = timeline;\n  }\n\n  get active() {\n    return this.transitions.size > 0;\n  }\n\n  add(key, fromValue, toValue, settings) {\n    const {transitions} = this;\n    if (transitions.has(key)) {\n      const transition = transitions.get(key);\n      // value may not be available if `update()` has not been called. Fallback to `fromValue`\n      const {value = transition.settings.fromValue} = transition;\n      // start from interrupted position\n      fromValue = value;\n      this.remove(key);\n    }\n\n    settings = normalizeTransitionSettings(settings);\n    if (!settings) {\n      return;\n    }\n\n    const TransitionType = TRANSITION_TYPES[settings.type];\n    if (!TransitionType) {\n      log.error(`unsupported transition type '${settings.type}'`)();\n      return;\n    }\n    const transition = new TransitionType(this.timeline);\n    transition.start({\n      ...settings,\n      fromValue,\n      toValue\n    });\n    transitions.set(key, transition);\n  }\n\n  remove(key) {\n    const {transitions} = this;\n    if (transitions.has(key)) {\n      transitions.get(key).cancel();\n      transitions.delete(key);\n    }\n  }\n\n  update() {\n    const propsInTransition = {};\n\n    for (const [key, transition] of this.transitions) {\n      transition.update();\n      propsInTransition[key] = transition.value;\n      if (!transition.inProgress) {\n        // transition ended\n        this.remove(key);\n      }\n    }\n\n    return propsInTransition;\n  }\n\n  clear() {\n    for (const key of this.transitions.keys()) {\n      this.remove(key);\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}