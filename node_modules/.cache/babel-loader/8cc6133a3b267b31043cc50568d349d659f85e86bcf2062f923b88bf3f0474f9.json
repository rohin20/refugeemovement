{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport function getTransferList(object) {\n  var recursive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var transfers = arguments.length > 2 ? arguments[2] : undefined;\n  var transfersSet = transfers || new Set();\n  if (!object) {} else if (isTransferable(object)) {\n    transfersSet.add(object);\n  } else if (isTransferable(object.buffer)) {\n    transfersSet.add(object.buffer);\n  } else if (ArrayBuffer.isView(object)) {} else if (recursive && _typeof(object) === 'object') {\n    for (var key in object) {\n      getTransferList(object[key], recursive, transfersSet);\n    }\n  }\n  return transfers === undefined ? Array.from(transfersSet) : [];\n}\nfunction isTransferable(object) {\n  if (!object) {\n    return false;\n  }\n  if (object instanceof ArrayBuffer) {\n    return true;\n  }\n  if (typeof MessagePort !== 'undefined' && object instanceof MessagePort) {\n    return true;\n  }\n  if (typeof ImageBitmap !== 'undefined' && object instanceof ImageBitmap) {\n    return true;\n  }\n  if (typeof OffscreenCanvas !== 'undefined' && object instanceof OffscreenCanvas) {\n    return true;\n  }\n  return false;\n}","map":{"version":3,"names":["getTransferList","object","recursive","arguments","length","undefined","transfers","transfersSet","Set","isTransferable","add","buffer","ArrayBuffer","isView","_typeof","key","Array","from","MessagePort","ImageBitmap","OffscreenCanvas"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@loaders.gl/json/node_modules/@loaders.gl/loader-utils/src/lib/worker-utils/get-transfer-list.js"],"sourcesContent":["// NOTE - there is a copy of this function is both in core and loader-utils\n// core does not need all the utils in loader-utils, just this one.\n\n/* global MessagePort, ImageBitmap, OffscreenCanvas */\n\n// Returns an array of Transferrable objects that can be used with postMessage\n// https://developer.mozilla.org/en-US/docs/Web/API/Worker/postMessage\nexport function getTransferList(object, recursive = true, transfers) {\n  // Make sure that items in the transfer list is unique\n  const transfersSet = transfers || new Set();\n\n  if (!object) {\n    // ignore\n  } else if (isTransferable(object)) {\n    transfersSet.add(object);\n  } else if (isTransferable(object.buffer)) {\n    // Typed array\n    transfersSet.add(object.buffer);\n  } else if (ArrayBuffer.isView(object)) {\n    // object is a TypeArray viewing into a SharedArrayBuffer (not transferable)\n    // Do not iterate through the content in this case\n  } else if (recursive && typeof object === 'object') {\n    for (const key in object) {\n      // Avoid perf hit - only go one level deep\n      getTransferList(object[key], recursive, transfersSet);\n    }\n  }\n\n  // If transfers is defined, is internal recursive call\n  // Otherwise it's called by the user\n  return transfers === undefined ? Array.from(transfersSet) : [];\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Transferable\nfunction isTransferable(object) {\n  if (!object) {\n    return false;\n  }\n  if (object instanceof ArrayBuffer) {\n    return true;\n  }\n  if (typeof MessagePort !== 'undefined' && object instanceof MessagePort) {\n    return true;\n  }\n  if (typeof ImageBitmap !== 'undefined' && object instanceof ImageBitmap) {\n    return true;\n  }\n  if (typeof OffscreenCanvas !== 'undefined' && object instanceof OffscreenCanvas) {\n    return true;\n  }\n  return false;\n}\n"],"mappings":";AAOA,OAAO,SAASA,eAATA,CAAyBC,MAAzB,EAA8D;EAAA,IAA7BC,SAA6B,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAjB,IAAiB;EAAA,IAAXG,SAAW,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAEnE,IAAME,YAAY,GAAGD,SAAS,IAAI,IAAIE,GAAJ,EAAlC;EAEA,IAAI,CAACP,MAAL,EAAa,CAEZ,CAFD,MAEO,IAAIQ,cAAc,CAACR,MAAD,CAAlB,EAA4B;IACjCM,YAAY,CAACG,GAAb,CAAiBT,MAAjB;EACD,CAFM,MAEA,IAAIQ,cAAc,CAACR,MAAM,CAACU,MAAR,CAAlB,EAAmC;IAExCJ,YAAY,CAACG,GAAb,CAAiBT,MAAM,CAACU,MAAxB;EACD,CAHM,MAGA,IAAIC,WAAW,CAACC,MAAZ,CAAmBZ,MAAnB,CAAJ,EAAgC,CAGtC,CAHM,MAGA,IAAIC,SAAS,IAAIY,OAAA,CAAOb,MAAP,MAAkB,QAAnC,EAA6C;IAClD,KAAK,IAAMc,GAAX,IAAkBd,MAAlB,EAA0B;MAExBD,eAAe,CAACC,MAAM,CAACc,GAAD,CAAP,EAAcb,SAAd,EAAyBK,YAAzB,CAAf;IACD;EACF;EAID,OAAOD,SAAS,KAAKD,SAAd,GAA0BW,KAAK,CAACC,IAAN,CAAWV,YAAX,CAA1B,GAAqD,EAA5D;AACD;AAGD,SAASE,cAATA,CAAwBR,MAAxB,EAAgC;EAC9B,IAAI,CAACA,MAAL,EAAa;IACX,OAAO,KAAP;EACD;EACD,IAAIA,MAAM,YAAYW,WAAtB,EAAmC;IACjC,OAAO,IAAP;EACD;EACD,IAAI,OAAOM,WAAP,KAAuB,WAAvB,IAAsCjB,MAAM,YAAYiB,WAA5D,EAAyE;IACvE,OAAO,IAAP;EACD;EACD,IAAI,OAAOC,WAAP,KAAuB,WAAvB,IAAsClB,MAAM,YAAYkB,WAA5D,EAAyE;IACvE,OAAO,IAAP;EACD;EACD,IAAI,OAAOC,eAAP,KAA2B,WAA3B,IAA0CnB,MAAM,YAAYmB,eAAhE,EAAiF;IAC/E,OAAO,IAAP;EACD;EACD,OAAO,KAAP;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}