{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FileUpload = exports[\"default\"] = exports.WarningMsg = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _reactIntl = require(\"react-intl\");\nvar _uploadButton = _interopRequireDefault(require(\"./upload-button\"));\nvar _icons = require(\"../icons\");\nvar _fileUploadProgress = _interopRequireDefault(require(\"./file-upload-progress\"));\nvar _fileDrop = _interopRequireDefault(require(\"./file-drop\"));\nvar _utils = require(\"@kepler.gl/utils\");\nvar _constants = require(\"@kepler.gl/constants\");\nvar _reactMarkdown = _interopRequireDefault(require(\"react-markdown\"));\nvar _localization = require(\"@kepler.gl/localization\");\nvar _styles = require(\"@kepler.gl/styles\");\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18;\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/** @typedef {import('./file-upload').FileUploadProps} FileUploadProps */\nvar fileIconColor = '#D3D8E0';\nvar LinkRenderer = function LinkRenderer(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n    href: props.href,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, props.children);\n};\nvar StyledUploadMessage = _styledComponents[\"default\"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  color: \", \";\\n  font-size: 14px;\\n  margin-bottom: 12px;\\n\\n  \", \";\\n\"])), function (props) {\n  return props.theme.textColorLT;\n}, _styles.media.portable(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    font-size: 12px;\\n  \"]))));\nvar WarningMsg = _styledComponents[\"default\"].span(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  margin-top: 10px;\\n  color: \", \";\\n  font-weight: 500;\\n\"])), function (props) {\n  return props.theme.errorColor;\n});\nexports.WarningMsg = WarningMsg;\nvar StyledFileDrop = _styledComponents[\"default\"].div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  background-color: white;\\n  border-radius: 4px;\\n  border-style: \", \";\\n  border-width: 1px;\\n  border-color: \", \";\\n  text-align: center;\\n  width: 100%;\\n  padding: 48px 8px 0;\\n  height: 360px;\\n\\n  .file-upload-or {\\n    color: \", \";\\n    padding-right: 4px;\\n  }\\n\\n  .file-type-row {\\n    opacity: 0.5;\\n  }\\n  \", \";\\n\"])), function (props) {\n  return props.dragOver ? 'solid' : 'dashed';\n}, function (props) {\n  return props.dragOver ? props.theme.textColorLT : props.theme.subtextColorLT;\n}, function (props) {\n  return props.theme.linkBtnColor;\n}, _styles.media.portable(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    padding: 16px 4px 0;\\n  \"]))));\nvar MsgWrapper = _styledComponents[\"default\"].div(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  color: \", \";\\n  font-size: 20px;\\n  height: 36px;\\n\"])), function (props) {\n  return props.theme.modalTitleColor;\n});\nvar StyledDragNDropIcon = _styledComponents[\"default\"].div(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  color: \", \";\\n  margin-bottom: 48px;\\n\\n  \", \";\\n  \", \";\\n\"])), fileIconColor, _styles.media.portable(_templateObject8 || (_templateObject8 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    margin-bottom: 16px;\\n  \"]))), _styles.media.palm(_templateObject9 || (_templateObject9 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    margin-bottom: 8px;\\n  \"]))));\nvar StyledFileTypeFow = _styledComponents[\"default\"].div(_templateObject10 || (_templateObject10 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  margin-bottom: 24px;\\n  \", \";\\n  \", \";\\n\"])), _styles.media.portable(_templateObject11 || (_templateObject11 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    margin-bottom: 16px;\\n  \"]))), _styles.media.palm(_templateObject12 || (_templateObject12 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    margin-bottom: 8px;\\n  \"]))));\nvar StyledFileUpload = _styledComponents[\"default\"].div(_templateObject13 || (_templateObject13 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  .file-drop {\\n    position: relative;\\n  }\\n\"])));\nvar StyledMessage = _styledComponents[\"default\"].div(_templateObject14 || (_templateObject14 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-bottom: 32px;\\n\\n  .loading-action {\\n    margin-right: 10px;\\n  }\\n  .loading-spinner {\\n    margin-left: 10px;\\n  }\\n\"])));\nvar StyledDragFileWrapper = _styledComponents[\"default\"].div(_templateObject15 || (_templateObject15 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  margin-bottom: 32px;\\n  \", \";\\n  \", \";\\n\"])), _styles.media.portable(_templateObject16 || (_templateObject16 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    margin-bottom: 24px;\\n  \"]))), _styles.media.portable(_templateObject17 || (_templateObject17 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    margin-bottom: 16px;\\n  \"]))));\nvar StyledDisclaimer = (0, _styledComponents[\"default\"])(StyledMessage)(_templateObject18 || (_templateObject18 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  margin: 0 auto;\\n\"])));\nfunction FileUploadFactory() {\n  /** @augments {Component<FileUploadProps>} */\n  var FileUpload = /*#__PURE__*/function (_Component) {\n    (0, _inherits2[\"default\"])(FileUpload, _Component);\n    var _super = _createSuper(FileUpload);\n    function FileUpload() {\n      var _this;\n      (0, _classCallCheck2[\"default\"])(this, FileUpload);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"state\", {\n        dragOver: false,\n        fileLoading: false,\n        files: [],\n        errorFiles: []\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"frame\", /*#__PURE__*/(0, _react.createRef)());\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_isValidFileType\", function (filename) {\n        var _this$props$fileExten = _this.props.fileExtensions,\n          fileExtensions = _this$props$fileExten === void 0 ? [] : _this$props$fileExten;\n        var fileExt = fileExtensions.find(function (ext) {\n          return filename.endsWith(ext);\n        });\n        return Boolean(fileExt);\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_handleFileInput\", function (fileList, event) {\n        if (event) {\n          event.stopPropagation();\n        }\n        var files = (0, _toConsumableArray2[\"default\"])(fileList).filter(Boolean);\n        var _this$props$disableEx = _this.props.disableExtensionFilter,\n          disableExtensionFilter = _this$props$disableEx === void 0 ? false : _this$props$disableEx; // TODO - move this code out of the component\n\n        var filesToLoad = [];\n        var errorFiles = [];\n        var _iterator = _createForOfIteratorHelper(files),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var file = _step.value;\n            if (disableExtensionFilter || _this._isValidFileType(file.name)) {\n              filesToLoad.push(file);\n            } else {\n              errorFiles.push(file.name);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        var nextState = {\n          files: filesToLoad,\n          errorFiles: errorFiles,\n          dragOver: false\n        };\n        _this.setState(nextState, function () {\n          return nextState.files.length ? _this.props.onFileUpload(nextState.files) : null;\n        });\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_toggleDragState\", function (newState) {\n        _this.setState({\n          dragOver: newState\n        });\n      });\n      return _this;\n    }\n    (0, _createClass2[\"default\"])(FileUpload, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n        var _this$state = this.state,\n          dragOver = _this$state.dragOver,\n          files = _this$state.files,\n          errorFiles = _this$state.errorFiles;\n        var _this$props = this.props,\n          fileLoading = _this$props.fileLoading,\n          fileLoadingProgress = _this$props.fileLoadingProgress,\n          theme = _this$props.theme,\n          intl = _this$props.intl;\n        var _this$props2 = this.props,\n          _this$props2$fileExte = _this$props2.fileExtensions,\n          fileExtensions = _this$props2$fileExte === void 0 ? [] : _this$props2$fileExte,\n          _this$props2$fileForm = _this$props2.fileFormatNames,\n          fileFormatNames = _this$props2$fileForm === void 0 ? [] : _this$props2$fileForm;\n        return /*#__PURE__*/_react[\"default\"].createElement(StyledFileUpload, {\n          className: \"file-uploader\",\n          ref: this.frame\n        }, _fileDrop[\"default\"] ? /*#__PURE__*/_react[\"default\"].createElement(_fileDrop[\"default\"], {\n          frame: this.frame.current || document,\n          onDragOver: function onDragOver() {\n            return _this2._toggleDragState(true);\n          },\n          onDragLeave: function onDragLeave() {\n            return _this2._toggleDragState(false);\n          },\n          onDrop: this._handleFileInput,\n          className: \"file-uploader__file-drop\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(StyledUploadMessage, {\n          className: \"file-upload__message\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(_reactMarkdown[\"default\"], {\n          source: \"\".concat(intl.formatMessage({\n            id: 'fileUploader.configUploadMessage'\n          }, {\n            fileFormatNames: fileFormatNames.map(function (format) {\n              return \"**\".concat(format, \"**\");\n            }).join(', ')\n          }), \"(\").concat(_constants.GUIDES_FILE_FORMAT_DOC, \").\"),\n          renderers: {\n            link: LinkRenderer\n          }\n        })), /*#__PURE__*/_react[\"default\"].createElement(StyledFileDrop, {\n          dragOver: dragOver\n        }, /*#__PURE__*/_react[\"default\"].createElement(StyledFileTypeFow, {\n          className: \"file-type-row\"\n        }, fileExtensions.map(function (ext) {\n          return /*#__PURE__*/_react[\"default\"].createElement(_icons.FileType, {\n            key: ext,\n            ext: ext,\n            height: \"50px\",\n            fontSize: \"9px\"\n          });\n        })), fileLoading ? /*#__PURE__*/_react[\"default\"].createElement(_fileUploadProgress[\"default\"], {\n          fileLoadingProgress: fileLoadingProgress,\n          theme: theme\n        }) : /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          style: {\n            opacity: dragOver ? 0.5 : 1\n          },\n          className: \"file-upload-display-message\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(StyledDragNDropIcon, null, /*#__PURE__*/_react[\"default\"].createElement(_icons.DragNDrop, {\n          height: \"44px\"\n        })), errorFiles.length ? /*#__PURE__*/_react[\"default\"].createElement(WarningMsg, null, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n          id: 'fileUploader.fileNotSupported',\n          values: {\n            errorFiles: errorFiles.join(', ')\n          }\n        })) : null), !files.length ? /*#__PURE__*/_react[\"default\"].createElement(StyledDragFileWrapper, null, /*#__PURE__*/_react[\"default\"].createElement(MsgWrapper, null, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n          id: 'fileUploader.message'\n        })), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: \"file-upload-or\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n          id: 'fileUploader.or'\n        })), /*#__PURE__*/_react[\"default\"].createElement(_uploadButton[\"default\"], {\n          onUpload: this._handleFileInput\n        }, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n          id: 'fileUploader.browseFiles'\n        }))) : null, /*#__PURE__*/_react[\"default\"].createElement(StyledDisclaimer, null, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n          id: 'fileUploader.disclaimer'\n        }))))) : null, /*#__PURE__*/_react[\"default\"].createElement(WarningMsg, null, (0, _utils.isChrome)() ? /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n          id: 'fileUploader.chromeMessage'\n        }) : ''));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        if (state.fileLoading && props.fileLoading === false && state.files.length) {\n          return {\n            files: [],\n            fileLoading: props.fileLoading\n          };\n        }\n        return {\n          fileLoading: props.fileLoading\n        };\n      }\n    }]);\n    return FileUpload;\n  }(_react.Component);\n  return (0, _reactIntl.injectIntl)(FileUpload);\n}\nvar _default = FileUploadFactory;\nexports[\"default\"] = _default;\nvar FileUpload = FileUploadFactory();\nexports.FileUpload = FileUpload;","map":{"version":3,"names":["exports","FileUpload","WarningMsg","_toConsumableArray2","_interopRequireDefault","require","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_taggedTemplateLiteral2","_react","_interopRequireWildcard","_styledComponents","_constants","_localization","_styles","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","_templateObject17","_templateObject18","_unsupportedIterableToArray","props","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","Reflect","construct","arguments","apply","fileIconColor","LinkRenderer","createElement","href","target","rel","StyledUploadMessage","div","media","portable","span","StyledFileDrop","theme","linkBtnColor","modalTitleColor","StyledDragNDropIcon","palm","StyledFileTypeFow","StyledFileUpload","StyledMessage","StyledDragFileWrapper","StyledDisclaimer","FileUploadFactory","files","_Component","_super","_this","_len","length","args","_key","dragOver","fileLoading","errorFiles","filename","_this$props$fileExten","fileExtensions","fileExt","find","ext","endsWith","fileList","event","stopPropagation","filter","Boolean","_this$props$disableEx","disableExtensionFilter","filesToLoad","_iterator","_createForOfIteratorHelper","_step","file","value","_isValidFileType","push","err","e","nextState","setState","onFileUpload","newState","key","render","_this2","_this$state","state","_this$props","fileLoadingProgress","intl","_this$props2","_this$props2$fileExte","_this$props2$fileForm","fileFormatNames","className","ref","frame","_fileDrop","current","document","onDragOver","_toggleDragState","onDragLeave","onDrop","_handleFileInput","_reactMarkdown","source","concat","formatMessage","id","map","format","join","GUIDES_FILE_FORMAT_DOC","renderers","link","_icons","FileType","height","fontSize","_fileUploadProgress","Fragment","style","opacity","DragNDrop","FormattedMessage","values","MsgWrapper","_uploadButton","onUpload","_utils","isChrome"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/common/file-uploader/file-upload.tsx"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component, createRef} from 'react';\nimport styled from 'styled-components';\nimport {injectIntl, WrappedComponentProps} from 'react-intl';\nimport UploadButton from './upload-button';\nimport {DragNDrop, FileType} from '../icons';\nimport FileUploadProgress from './file-upload-progress';\nimport FileDrop from './file-drop';\nimport {FileLoading, FileLoadingProgress} from '@kepler.gl/types';\n\nimport {isChrome} from '@kepler.gl/utils';\nimport {GUIDES_FILE_FORMAT_DOC} from '@kepler.gl/constants';\nimport ReactMarkdown from 'react-markdown';\n// Breakpoints\nimport {FormattedMessage} from '@kepler.gl/localization';\nimport {media} from '@kepler.gl/styles';\n\n/** @typedef {import('./file-upload').FileUploadProps} FileUploadProps */\n\nconst fileIconColor = '#D3D8E0';\n\nconst LinkRenderer = props => {\n  return (\n    <a href={props.href} target=\"_blank\" rel=\"noopener noreferrer\">\n      {props.children}\n    </a>\n  );\n};\nconst StyledUploadMessage = styled.div`\n  color: ${props => props.theme.textColorLT};\n  font-size: 14px;\n  margin-bottom: 12px;\n\n  ${media.portable`\n    font-size: 12px;\n  `};\n`;\n\nexport const WarningMsg = styled.span`\n  margin-top: 10px;\n  color: ${props => props.theme.errorColor};\n  font-weight: 500;\n`;\n\ninterface StyledFileDropProps {\n  dragOver?: boolean;\n}\n\nconst StyledFileDrop = styled.div<StyledFileDropProps>`\n  background-color: white;\n  border-radius: 4px;\n  border-style: ${props => (props.dragOver ? 'solid' : 'dashed')};\n  border-width: 1px;\n  border-color: ${props => (props.dragOver ? props.theme.textColorLT : props.theme.subtextColorLT)};\n  text-align: center;\n  width: 100%;\n  padding: 48px 8px 0;\n  height: 360px;\n\n  .file-upload-or {\n    color: ${props => props.theme.linkBtnColor};\n    padding-right: 4px;\n  }\n\n  .file-type-row {\n    opacity: 0.5;\n  }\n  ${media.portable`\n    padding: 16px 4px 0;\n  `};\n`;\n\nconst MsgWrapper = styled.div`\n  color: ${props => props.theme.modalTitleColor};\n  font-size: 20px;\n  height: 36px;\n`;\n\nconst StyledDragNDropIcon = styled.div`\n  color: ${fileIconColor};\n  margin-bottom: 48px;\n\n  ${media.portable`\n    margin-bottom: 16px;\n  `};\n  ${media.palm`\n    margin-bottom: 8px;\n  `};\n`;\n\nconst StyledFileTypeFow = styled.div`\n  margin-bottom: 24px;\n  ${media.portable`\n    margin-bottom: 16px;\n  `};\n  ${media.palm`\n    margin-bottom: 8px;\n  `};\n`;\n\nconst StyledFileUpload = styled.div`\n  .file-drop {\n    position: relative;\n  }\n`;\n\nconst StyledMessage = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 32px;\n\n  .loading-action {\n    margin-right: 10px;\n  }\n  .loading-spinner {\n    margin-left: 10px;\n  }\n`;\n\nconst StyledDragFileWrapper = styled.div`\n  margin-bottom: 32px;\n  ${media.portable`\n    margin-bottom: 24px;\n  `};\n  ${media.portable`\n    margin-bottom: 16px;\n  `};\n`;\n\nconst StyledDisclaimer = styled(StyledMessage)`\n  margin: 0 auto;\n`;\n\ntype FileUploadProps = {\n  onFileUpload: (files: File[]) => void;\n  fileLoading: FileLoading | false;\n  fileLoadingProgress: FileLoadingProgress;\n  theme: object;\n  /** A list of names of supported formats suitable to present to user */\n  fileFormatNames?: string[];\n  /** A list of typically 3 letter extensions (without '.') for file matching */\n  fileExtensions?: string[];\n  /** Set to true if app wants to do its own file filtering */\n  disableExtensionFilter?: boolean;\n} & WrappedComponentProps;\n\nfunction FileUploadFactory() {\n  /** @augments {Component<FileUploadProps>} */\n  class FileUpload extends Component<FileUploadProps> {\n    state = {\n      dragOver: false,\n      fileLoading: false,\n      files: [],\n      errorFiles: []\n    };\n\n    static getDerivedStateFromProps(props, state) {\n      if (state.fileLoading && props.fileLoading === false && state.files.length) {\n        return {\n          files: [],\n          fileLoading: props.fileLoading\n        };\n      }\n      return {\n        fileLoading: props.fileLoading\n      };\n    }\n\n    frame = createRef<HTMLDivElement>();\n\n    _isValidFileType = filename => {\n      const {fileExtensions = []} = this.props;\n      const fileExt = fileExtensions.find(ext => filename.endsWith(ext));\n\n      return Boolean(fileExt);\n    };\n\n    /** @param {FileList} fileList */\n    _handleFileInput = (fileList: FileList, event: any) => {\n      if (event) {\n        event.stopPropagation();\n      }\n\n      const files = [...fileList].filter(Boolean);\n\n      const {disableExtensionFilter = false} = this.props;\n\n      // TODO - move this code out of the component\n      const filesToLoad: File[] = [];\n      const errorFiles: string[] = [];\n      for (const file of files) {\n        if (disableExtensionFilter || this._isValidFileType(file.name)) {\n          filesToLoad.push(file);\n        } else {\n          errorFiles.push(file.name);\n        }\n      }\n\n      const nextState = {files: filesToLoad, errorFiles, dragOver: false};\n\n      this.setState(nextState, () =>\n        nextState.files.length ? this.props.onFileUpload(nextState.files) : null\n      );\n    };\n\n    _toggleDragState = newState => {\n      this.setState({dragOver: newState});\n    };\n\n    render() {\n      const {dragOver, files, errorFiles} = this.state;\n      const {fileLoading, fileLoadingProgress, theme, intl} = this.props;\n      const {fileExtensions = [], fileFormatNames = []} = this.props;\n      return (\n        <StyledFileUpload className=\"file-uploader\" ref={this.frame}>\n          {FileDrop ? (\n            <FileDrop\n              frame={this.frame.current || document}\n              onDragOver={() => this._toggleDragState(true)}\n              onDragLeave={() => this._toggleDragState(false)}\n              onDrop={this._handleFileInput}\n              className=\"file-uploader__file-drop\"\n            >\n              <StyledUploadMessage className=\"file-upload__message\">\n                <ReactMarkdown\n                  source={`${intl.formatMessage(\n                    {\n                      id: 'fileUploader.configUploadMessage'\n                    },\n                    {\n                      fileFormatNames: fileFormatNames.map(format => `**${format}**`).join(', ')\n                    }\n                  )}(${GUIDES_FILE_FORMAT_DOC}).`}\n                  renderers={{link: LinkRenderer}}\n                />\n              </StyledUploadMessage>\n              <StyledFileDrop dragOver={dragOver}>\n                <StyledFileTypeFow className=\"file-type-row\">\n                  {fileExtensions.map(ext => (\n                    <FileType key={ext} ext={ext} height=\"50px\" fontSize=\"9px\" />\n                  ))}\n                </StyledFileTypeFow>\n                {fileLoading ? (\n                  <FileUploadProgress fileLoadingProgress={fileLoadingProgress} theme={theme} />\n                ) : (\n                  <>\n                    <div\n                      style={{opacity: dragOver ? 0.5 : 1}}\n                      className=\"file-upload-display-message\"\n                    >\n                      <StyledDragNDropIcon>\n                        <DragNDrop height=\"44px\" />\n                      </StyledDragNDropIcon>\n\n                      {errorFiles.length ? (\n                        <WarningMsg>\n                          <FormattedMessage\n                            id={'fileUploader.fileNotSupported'}\n                            values={{errorFiles: errorFiles.join(', ')}}\n                          />\n                        </WarningMsg>\n                      ) : null}\n                    </div>\n                    {!files.length ? (\n                      <StyledDragFileWrapper>\n                        <MsgWrapper>\n                          <FormattedMessage id={'fileUploader.message'} />\n                        </MsgWrapper>\n                        <span className=\"file-upload-or\">\n                          <FormattedMessage id={'fileUploader.or'} />\n                        </span>\n                        <UploadButton onUpload={this._handleFileInput}>\n                          <FormattedMessage id={'fileUploader.browseFiles'} />\n                        </UploadButton>\n                      </StyledDragFileWrapper>\n                    ) : null}\n\n                    <StyledDisclaimer>\n                      <FormattedMessage id={'fileUploader.disclaimer'} />\n                    </StyledDisclaimer>\n                  </>\n                )}\n              </StyledFileDrop>\n            </FileDrop>\n          ) : null}\n\n          <WarningMsg>\n            {isChrome() ? <FormattedMessage id={'fileUploader.chromeMessage'} /> : ''}\n          </WarningMsg>\n        </StyledFileUpload>\n      );\n    }\n  }\n\n  return injectIntl(FileUpload);\n}\n\nexport default FileUploadFactory;\nexport const FileUpload = FileUploadFactory();\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}