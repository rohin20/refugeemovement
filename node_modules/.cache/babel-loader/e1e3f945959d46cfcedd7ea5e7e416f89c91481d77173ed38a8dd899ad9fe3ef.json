{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _switch = _interopRequireDefault(require(\"../../common/switch\"));\nvar _brushConfig = _interopRequireDefault(require(\"./brush-config\"));\nvar _tooltipConfig = _interopRequireDefault(require(\"./tooltip-config\"));\nvar _styledComponents2 = require(\"../../common/styled-components\");\nvar _icons = require(\"../../common/icons\");\nvar _localization = require(\"@kepler.gl/localization\");\nvar _templateObject;\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nvar StyledInteractionPanel = _styledComponents[\"default\"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  padding-bottom: 6px;\\n\"])));\nInteractionPanelFactory.deps = [_tooltipConfig[\"default\"], _brushConfig[\"default\"]];\nvar INTERACTION_CONFIG_ICONS = {\n  tooltip: _icons.Messages,\n  geocoder: _icons.Pin,\n  brush: _icons.Crosshairs,\n  coordinate: _icons.CursorClick\n};\nfunction InteractionPanelFactory(TooltipConfig, BrushConfig) {\n  var InteractionPanel = function InteractionPanel(_ref) {\n    var config = _ref.config,\n      onConfigChange = _ref.onConfigChange,\n      datasets = _ref.datasets,\n      _ref$interactionConfi = _ref.interactionConfigIcons,\n      interactionConfigIcons = _ref$interactionConfi === void 0 ? INTERACTION_CONFIG_ICONS : _ref$interactionConfi;\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      isConfigActive = _useState2[0],\n      setIsConfigAction = _useState2[1];\n    var _updateConfig = (0, _react.useCallback)(function (newProp) {\n      onConfigChange(_objectSpread(_objectSpread({}, config), newProp));\n    }, [onConfigChange, config]);\n    var togglePanelActive = (0, _react.useCallback)(function () {\n      setIsConfigAction(!isConfigActive);\n    }, [setIsConfigAction, isConfigActive]);\n    var enabled = config.enabled;\n    var toggleEnableConfig = (0, _react.useCallback)(function () {\n      _updateConfig({\n        enabled: !enabled\n      });\n    }, [_updateConfig, enabled]);\n    var onChange = (0, _react.useCallback)(function (newConfig) {\n      return _updateConfig({\n        config: newConfig\n      });\n    }, [_updateConfig]);\n    var IconComponent = interactionConfigIcons[config.id];\n    var template = null;\n    switch (config.id) {\n      case 'tooltip':\n        template = /*#__PURE__*/_react[\"default\"].createElement(TooltipConfig, {\n          datasets: datasets,\n          config: config.config,\n          onChange: onChange\n        });\n        break;\n      case 'brush':\n        template = /*#__PURE__*/_react[\"default\"].createElement(BrushConfig, {\n          config: config.config,\n          onChange: onChange\n        });\n        break;\n      default:\n        break;\n    }\n    return /*#__PURE__*/_react[\"default\"].createElement(StyledInteractionPanel, {\n      className: \"interaction-panel\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.StyledPanelHeader, {\n      className: \"interaction-panel__header\",\n      onClick: togglePanelActive\n    }, /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.PanelHeaderContent, {\n      className: \"interaction-panel__header__content\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"interaction-panel__header__icon icon\"\n    }, IconComponent ? /*#__PURE__*/_react[\"default\"].createElement(IconComponent, {\n      height: \"16px\"\n    }) : null), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"interaction-panel__header__title\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.PanelHeaderTitle, null, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n      id: config.label\n    })))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"interaction-panel__header__actions\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_switch[\"default\"], {\n      checked: config.enabled,\n      id: \"\".concat(config.id, \"-toggle\"),\n      onChange: toggleEnableConfig,\n      secondary: true\n    }))), config.enabled && template && /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.PanelContent, {\n      className: \"interaction-panel__content\"\n    }, template));\n  };\n  return InteractionPanel;\n}\nvar _default = InteractionPanelFactory;\nexports[\"default\"] = _default;","map":{"version":3,"names":["value","exports","_defineProperty2","_interopRequireDefault","require","_styledComponents","_switch","_brushConfig","_tooltipConfig","_styledComponents2","_icons","_localization","_templateObject","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","StyledInteractionPanel","div","_taggedTemplateLiteral2","INTERACTION_CONFIG_ICONS","tooltip","Messages","geocoder","Pin","coordinate","CursorClick","InteractionPanelFactory","enabled","TooltipConfig","BrushConfig","InteractionPanel","_ref","config","onConfigChange","datasets","_ref$interactionConfi","interactionConfigIcons","_useState","_react","useState","_useState2","_slicedToArray2","isConfigActive","setIsConfigAction","newProp","togglePanelActive","useCallback","toggleEnableConfig","_updateConfig","onChange","newConfig","IconComponent","id","template","createElement","className","StyledPanelHeader","onClick","PanelHeaderContent"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/side-panel/interaction-panel/interaction-panel.tsx"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {useState, ComponentType, ReactElement, useCallback} from 'react';\nimport styled from 'styled-components';\nimport Switch from '../../common/switch';\n\nimport BrushConfigFactory from './brush-config';\nimport TooltipConfigFactory from './tooltip-config';\nimport {Datasets} from '@kepler.gl/table';\nimport {InteractionConfig, ValueOf} from '@kepler.gl/types';\n\nimport {\n  StyledPanelHeader,\n  PanelHeaderTitle,\n  PanelHeaderContent,\n  PanelContent\n} from '../../common/styled-components';\nimport {Messages, Crosshairs, CursorClick, Pin} from '../../common/icons';\n\nimport {FormattedMessage} from '@kepler.gl/localization';\n\ninterface InteractionPanelProps {\n  datasets: Datasets;\n  config: ValueOf<InteractionConfig>;\n  onConfigChange: any;\n  interactionConfigIcons?: {\n    [key: string]: React.ElementType;\n  };\n}\n\nconst StyledInteractionPanel = styled.div`\n  padding-bottom: 6px;\n`;\n\nInteractionPanelFactory.deps = [TooltipConfigFactory, BrushConfigFactory];\n\nconst INTERACTION_CONFIG_ICONS: {[key: string]: React.ElementType} = {\n  tooltip: Messages,\n  geocoder: Pin,\n  brush: Crosshairs,\n  coordinate: CursorClick\n};\n\nfunction InteractionPanelFactory(\n  TooltipConfig: ReturnType<typeof TooltipConfigFactory>,\n  BrushConfig: ReturnType<typeof BrushConfigFactory>\n): ComponentType<InteractionPanelProps> {\n  const InteractionPanel: React.FC<InteractionPanelProps> = ({\n    config,\n    onConfigChange,\n    datasets,\n    interactionConfigIcons = INTERACTION_CONFIG_ICONS\n  }) => {\n    const [isConfigActive, setIsConfigAction] = useState(false);\n\n    const _updateConfig = useCallback(\n      newProp => {\n        onConfigChange({\n          ...config,\n          ...newProp\n        });\n      },\n      [onConfigChange, config]\n    );\n\n    const togglePanelActive = useCallback(() => {\n      setIsConfigAction(!isConfigActive);\n    }, [setIsConfigAction, isConfigActive]);\n\n    const {enabled} = config;\n    const toggleEnableConfig = useCallback(() => {\n      _updateConfig({enabled: !enabled});\n    }, [_updateConfig, enabled]);\n\n    const onChange = useCallback(newConfig => _updateConfig({config: newConfig}), [_updateConfig]);\n    const IconComponent = interactionConfigIcons[config.id];\n\n    let template: ReactElement | null = null;\n\n    switch (config.id) {\n      case 'tooltip':\n        template = <TooltipConfig datasets={datasets} config={config.config} onChange={onChange} />;\n        break;\n      case 'brush':\n        template = <BrushConfig config={config.config} onChange={onChange} />;\n        break;\n\n      default:\n        break;\n    }\n    return (\n      <StyledInteractionPanel className=\"interaction-panel\">\n        <StyledPanelHeader className=\"interaction-panel__header\" onClick={togglePanelActive}>\n          <PanelHeaderContent className=\"interaction-panel__header__content\">\n            <div className=\"interaction-panel__header__icon icon\">\n              {IconComponent ? <IconComponent height=\"16px\" /> : null}\n            </div>\n            <div className=\"interaction-panel__header__title\">\n              <PanelHeaderTitle>\n                <FormattedMessage id={config.label} />\n              </PanelHeaderTitle>\n            </div>\n          </PanelHeaderContent>\n          <div className=\"interaction-panel__header__actions\">\n            <Switch\n              checked={config.enabled}\n              id={`${config.id}-toggle`}\n              onChange={toggleEnableConfig}\n              secondary\n            />\n          </div>\n        </StyledPanelHeader>\n        {config.enabled && template && (\n          <PanelContent className=\"interaction-panel__content\">{template}</PanelContent>\n        )}\n      </StyledInteractionPanel>\n    );\n  };\n\n  return InteractionPanel;\n}\n\nexport default InteractionPanelFactory;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}