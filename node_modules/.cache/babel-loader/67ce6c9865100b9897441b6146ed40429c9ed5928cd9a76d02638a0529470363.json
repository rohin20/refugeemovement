{"ast":null,"code":"import _regeneratorRuntime from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { GL } from '@loaders.gl/math';\nimport Tile3DFeatureTable from '../classes/tile-3d-feature-table';\nimport { parse3DTileHeaderSync } from './helpers/parse-3d-tile-header';\nimport { parse3DTileTablesHeaderSync, parse3DTileTablesSync } from './helpers/parse-3d-tile-tables';\nimport { parse3DTileGLTFViewSync, extractGLTF, GLTF_FORMAT } from './helpers/parse-3d-tile-gltf-view';\nexport function parseBatchedModel3DTile(_x, _x2, _x3, _x4, _x5) {\n  return _parseBatchedModel3DTile.apply(this, arguments);\n}\nfunction _parseBatchedModel3DTile() {\n  _parseBatchedModel3DTile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(tile, arrayBuffer, byteOffset, options, context) {\n    var _tile$gltf, extensions;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          byteOffset = parseBatchedModel(tile, arrayBuffer, byteOffset, options, context);\n          _context.next = 3;\n          return extractGLTF(tile, GLTF_FORMAT.EMBEDDED, options, context);\n        case 3:\n          extensions = tile === null || tile === void 0 ? void 0 : (_tile$gltf = tile.gltf) === null || _tile$gltf === void 0 ? void 0 : _tile$gltf.extensions;\n          if (extensions && extensions.CESIUM_RTC) {\n            tile.rtcCenter = extensions.CESIUM_RTC.center;\n          }\n          return _context.abrupt(\"return\", byteOffset);\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _parseBatchedModel3DTile.apply(this, arguments);\n}\nfunction parseBatchedModel(tile, arrayBuffer, byteOffset, options, context) {\n  byteOffset = parse3DTileHeaderSync(tile, arrayBuffer, byteOffset);\n  byteOffset = parse3DTileTablesHeaderSync(tile, arrayBuffer, byteOffset);\n  byteOffset = parse3DTileTablesSync(tile, arrayBuffer, byteOffset, options);\n  byteOffset = parse3DTileGLTFViewSync(tile, arrayBuffer, byteOffset, options);\n  var featureTable = new Tile3DFeatureTable(tile.featureTableJson, tile.featureTableBinary);\n  tile.rtcCenter = featureTable.getGlobalProperty('RTC_CENTER', GL.FLOAT, 3);\n  return byteOffset;\n}","map":{"version":3,"names":["GL","Tile3DFeatureTable","parse3DTileHeaderSync","parse3DTileTablesHeaderSync","parse3DTileTablesSync","parse3DTileGLTFViewSync","extractGLTF","GLTF_FORMAT","parseBatchedModel3DTile","_x","_x2","_x3","_x4","_x5","_parseBatchedModel3DTile","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","tile","arrayBuffer","byteOffset","options","context","_tile$gltf","extensions","wrap","_callee$","_context","prev","next","parseBatchedModel","EMBEDDED","gltf","CESIUM_RTC","rtcCenter","center","abrupt","stop","featureTable","featureTableJson","featureTableBinary","getGlobalProperty","FLOAT"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@deck.gl/geo-layers/node_modules/@loaders.gl/3d-tiles/src/lib/parsers/parse-3d-tile-batched-model.ts"],"sourcesContent":["// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {GL} from '@loaders.gl/math'; // math.gl/geometry;\nimport Tile3DFeatureTable from '../classes/tile-3d-feature-table';\n// import Tile3DBatchTable from '../classes/tile-3d-batch-table';\n\nimport {parse3DTileHeaderSync} from './helpers/parse-3d-tile-header';\nimport {parse3DTileTablesHeaderSync, parse3DTileTablesSync} from './helpers/parse-3d-tile-tables';\nimport {parse3DTileGLTFViewSync, extractGLTF, GLTF_FORMAT} from './helpers/parse-3d-tile-gltf-view';\n\nexport async function parseBatchedModel3DTile(tile, arrayBuffer, byteOffset, options, context) {\n  byteOffset = parseBatchedModel(tile, arrayBuffer, byteOffset, options, context);\n  await extractGLTF(tile, GLTF_FORMAT.EMBEDDED, options, context);\n\n  const extensions = tile?.gltf?.extensions;\n  if (extensions && extensions.CESIUM_RTC) {\n    tile.rtcCenter = extensions.CESIUM_RTC.center;\n  }\n\n  return byteOffset;\n}\n\nfunction parseBatchedModel(tile, arrayBuffer, byteOffset, options, context) {\n  byteOffset = parse3DTileHeaderSync(tile, arrayBuffer, byteOffset);\n\n  byteOffset = parse3DTileTablesHeaderSync(tile, arrayBuffer, byteOffset);\n  byteOffset = parse3DTileTablesSync(tile, arrayBuffer, byteOffset, options);\n\n  byteOffset = parse3DTileGLTFViewSync(tile, arrayBuffer, byteOffset, options);\n\n  const featureTable = new Tile3DFeatureTable(tile.featureTableJson, tile.featureTableBinary);\n  tile.rtcCenter = featureTable.getGlobalProperty('RTC_CENTER', GL.FLOAT, 3);\n\n  return byteOffset;\n}\n"],"mappings":";;AAGA,SAAQA,EAAE,QAAO,kBAAkB;AACnC,OAAOC,kBAAkB,MAAM,kCAAkC;AAGjE,SAAQC,qBAAqB,QAAO,gCAAgC;AACpE,SAAQC,2BAA2B,EAAEC,qBAAqB,QAAO,gCAAgC;AACjG,SAAQC,uBAAuB,EAAEC,WAAW,EAAEC,WAAW,QAAO,mCAAmC;AAEnG,gBAAsBC,uBAAuBA,CAAAC,EAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,wBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAU7C,SAAAF,yBAAA;EAAAA,wBAAA,GAAAG,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAVO,SAAAC,QAAuCC,IAAI,EAAEC,WAAW,EAAEC,UAAU,EAAEC,OAAO,EAAEC,OAAO;IAAA,IAAAC,UAAA,EAAAC,UAAA;IAAA,OAAAT,mBAAA,GAAAU,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAC3FT,UAAU,GAAGU,iBAAiB,CAACZ,IAAI,EAAEC,WAAW,EAAEC,UAAU,EAAEC,OAAO,EAAEC,OAAO,CAAC;UAAAK,QAAA,CAAAE,IAAA;UAAA,OACzE1B,WAAW,CAACe,IAAI,EAAEd,WAAW,CAAC2B,QAAQ,EAAEV,OAAO,EAAEC,OAAO,CAAC;QAAA;UAEzDE,UAAU,GAAGN,IAAI,aAAJA,IAAI,wBAAAK,UAAA,GAAJL,IAAI,CAAEc,IAAI,cAAAT,UAAA,uBAAVA,UAAA,CAAYC,UAAU;UACzC,IAAIA,UAAU,IAAIA,UAAU,CAACS,UAAU,EAAE;YACvCf,IAAI,CAACgB,SAAS,GAAGV,UAAU,CAACS,UAAU,CAACE,MAAM;UAC/C;UAAA,OAAAR,QAAA,CAAAS,MAAA,WAEOhB,UAAU;QAAA;QAAA;UAAA,OAAAO,QAAA,CAAAU,IAAA;MAAA;IAAA,GAAApB,OAAA;EAAA,CACnB;EAAA,OAAAN,wBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAEA,SAASiB,iBAAiBA,CAACZ,IAAI,EAAEC,WAAW,EAAEC,UAAU,EAAEC,OAAO,EAAEC,OAAO,EAAE;EAC1EF,UAAU,GAAGrB,qBAAqB,CAACmB,IAAI,EAAEC,WAAW,EAAEC,UAAU,CAAC;EAEjEA,UAAU,GAAGpB,2BAA2B,CAACkB,IAAI,EAAEC,WAAW,EAAEC,UAAU,CAAC;EACvEA,UAAU,GAAGnB,qBAAqB,CAACiB,IAAI,EAAEC,WAAW,EAAEC,UAAU,EAAEC,OAAO,CAAC;EAE1ED,UAAU,GAAGlB,uBAAuB,CAACgB,IAAI,EAAEC,WAAW,EAAEC,UAAU,EAAEC,OAAO,CAAC;EAE5E,IAAMiB,YAAY,GAAG,IAAIxC,kBAAkB,CAACoB,IAAI,CAACqB,gBAAgB,EAAErB,IAAI,CAACsB,kBAAkB,CAAC;EAC3FtB,IAAI,CAACgB,SAAS,GAAGI,YAAY,CAACG,iBAAiB,CAAC,YAAY,EAAE5C,EAAE,CAAC6C,KAAK,EAAE,CAAC,CAAC;EAE1E,OAAOtB,UAAU;AACnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}