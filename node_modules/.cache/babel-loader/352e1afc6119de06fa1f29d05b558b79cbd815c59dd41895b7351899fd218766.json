{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _awaitAsyncGenerator from \"@babel/runtime/helpers/esm/awaitAsyncGenerator\";\nimport _wrapAsyncGenerator from \"@babel/runtime/helpers/esm/wrapAsyncGenerator\";\nimport _asyncIterator from \"@babel/runtime/helpers/esm/asyncIterator\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport { RowTableBatch } from '@loaders.gl/tables';\nimport { geojsonToBinary } from '@loaders.gl/gis';\nimport parseJSONSync from './lib/parse-json';\nimport parseJSONInBatches from './lib/parse-json-in-batches';\nvar VERSION = typeof \"2.3.13\" !== 'undefined' ? \"2.3.13\" : 'latest';\nvar GeoJSONLoaderOptions = {\n  geojson: {\n    TableBatch: RowTableBatch,\n    batchSize: 'auto',\n    workerUrl: \"https://unpkg.com/@loaders.gl/json@\".concat(VERSION, \"/dist/geojson-loader.worker.js\")\n  },\n  json: {\n    jsonpaths: ['$', '$.features']\n  },\n  gis: {\n    format: 'geojson'\n  }\n};\nexport var GeoJSONWorkerLoader = {\n  id: 'geojson',\n  name: 'GeoJSON',\n  version: VERSION,\n  extensions: ['geojson'],\n  mimeTypes: ['application/geo+json'],\n  category: 'geometry',\n  text: true,\n  options: GeoJSONLoaderOptions\n};\nexport var GeoJSONLoader = _objectSpread(_objectSpread({}, GeoJSONWorkerLoader), {}, {\n  parse: parse,\n  parseTextSync: parseTextSync,\n  parseInBatches: parseInBatches\n});\nfunction parse(_x2, _x3) {\n  return _parse.apply(this, arguments);\n}\nfunction _parse() {\n  _parse = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(arrayBuffer, options) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", parseTextSync(new TextDecoder().decode(arrayBuffer), options));\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _parse.apply(this, arguments);\n}\nfunction parseTextSync(text, options) {\n  options = _objectSpread(_objectSpread({}, GeoJSONLoaderOptions), options);\n  options.json = _objectSpread(_objectSpread({}, GeoJSONLoaderOptions.geojson), options.geojson);\n  options.gis = options.gis || {};\n  var json = parseJSONSync(text, options);\n  switch (options.gis.format) {\n    case 'binary':\n      return geojsonToBinary(json);\n    default:\n      return json;\n  }\n}\nfunction parseInBatches(_x4, _x5) {\n  return _parseInBatches.apply(this, arguments);\n}\nfunction _parseInBatches() {\n  _parseInBatches = _asyncToGenerator(_regeneratorRuntime.mark(function _callee3(asyncIterator, options) {\n    var geojsonIterator;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            options = _objectSpread(_objectSpread({}, GeoJSONLoaderOptions), options);\n            options.json = _objectSpread(_objectSpread({}, GeoJSONLoaderOptions.geojson), options.geojson);\n            geojsonIterator = parseJSONInBatches(asyncIterator, options);\n            _context3.t0 = options.gis.format;\n            _context3.next = _context3.t0 === 'binary' ? 6 : 7;\n            break;\n          case 6:\n            return _context3.abrupt(\"return\", makeBinaryGeometryIterator(geojsonIterator));\n          case 7:\n            return _context3.abrupt(\"return\", geojsonIterator);\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _parseInBatches.apply(this, arguments);\n}\nfunction makeBinaryGeometryIterator(_x) {\n  return _makeBinaryGeometryIterator.apply(this, arguments);\n}\nfunction _makeBinaryGeometryIterator() {\n  _makeBinaryGeometryIterator = _wrapAsyncGenerator(_regeneratorRuntime.mark(function _callee(geojsonIterator) {\n    var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, _value, batch;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _context.prev = 2;\n            _iterator = _asyncIterator(geojsonIterator);\n          case 4:\n            _context.next = 6;\n            return _awaitAsyncGenerator(_iterator.next());\n          case 6:\n            _step = _context.sent;\n            _iteratorNormalCompletion = _step.done;\n            _context.next = 10;\n            return _awaitAsyncGenerator(_step.value);\n          case 10:\n            _value = _context.sent;\n            if (_iteratorNormalCompletion) {\n              _context.next = 19;\n              break;\n            }\n            batch = _value;\n            batch.data = geojsonToBinary(batch.data);\n            _context.next = 16;\n            return batch;\n          case 16:\n            _iteratorNormalCompletion = true;\n            _context.next = 4;\n            break;\n          case 19:\n            _context.next = 25;\n            break;\n          case 21:\n            _context.prev = 21;\n            _context.t0 = _context[\"catch\"](2);\n            _didIteratorError = true;\n            _iteratorError = _context.t0;\n          case 25:\n            _context.prev = 25;\n            _context.prev = 26;\n            if (!(!_iteratorNormalCompletion && _iterator[\"return\"] != null)) {\n              _context.next = 30;\n              break;\n            }\n            _context.next = 30;\n            return _awaitAsyncGenerator(_iterator[\"return\"]());\n          case 30:\n            _context.prev = 30;\n            if (!_didIteratorError) {\n              _context.next = 33;\n              break;\n            }\n            throw _iteratorError;\n          case 33:\n            return _context.finish(30);\n          case 34:\n            return _context.finish(25);\n          case 35:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 21, 25, 35], [26,, 30, 34]]);\n  }));\n  return _makeBinaryGeometryIterator.apply(this, arguments);\n}","map":{"version":3,"names":["RowTableBatch","geojsonToBinary","parseJSONSync","parseJSONInBatches","VERSION","GeoJSONLoaderOptions","geojson","TableBatch","batchSize","workerUrl","concat","json","jsonpaths","gis","format","GeoJSONWorkerLoader","id","name","version","extensions","mimeTypes","category","text","options","GeoJSONLoader","_objectSpread","parse","parseTextSync","parseInBatches","_callee2","arrayBuffer","_regeneratorRuntime","wrap","_callee2$","_context2","prev","next","abrupt","TextDecoder","decode","stop","_callee3","asyncIterator","geojsonIterator","_callee3$","_context3","t0","makeBinaryGeometryIterator","_callee","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_value","batch","_callee$","_context","_asyncIterator","_awaitAsyncGenerator","sent","done","value","data","finish"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@loaders.gl/json/src/geojson-loader.js"],"sourcesContent":["/* global TextDecoder */\n/** @typedef {import('@loaders.gl/loader-utils').LoaderObject} LoaderObject */\n/** @typedef {import('@loaders.gl/loader-utils').WorkerLoaderObject} WorkerLoaderObject */\nimport {RowTableBatch} from '@loaders.gl/tables';\nimport {geojsonToBinary} from '@loaders.gl/gis';\nimport parseJSONSync from './lib/parse-json';\nimport parseJSONInBatches from './lib/parse-json-in-batches';\n\n// __VERSION__ is injected by babel-plugin-version-inline\n// @ts-ignore TS2304: Cannot find name '__VERSION__'.\nconst VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'latest';\n\nconst GeoJSONLoaderOptions = {\n  geojson: {\n    TableBatch: RowTableBatch,\n    batchSize: 'auto',\n    workerUrl: `https://unpkg.com/@loaders.gl/json@${VERSION}/dist/geojson-loader.worker.js`\n  },\n  json: {\n    jsonpaths: ['$', '$.features']\n  },\n  gis: {\n    format: 'geojson'\n  }\n};\n\n/** @type {WorkerLoaderObject} */\nexport const GeoJSONWorkerLoader = {\n  id: 'geojson',\n  name: 'GeoJSON',\n  version: VERSION,\n  extensions: ['geojson'],\n  mimeTypes: ['application/geo+json'],\n  // TODO - support various line based JSON formats\n  /*\n  extensions: {\n    json: null,\n    jsonl: {stream: true},\n    ndjson: {stream: true}\n  },\n  mimeTypes: {\n    'application/json': null,\n    'application/json-seq': {stream: true},\n    'application/x-ndjson': {stream: true}\n  },\n  */\n  category: 'geometry',\n  text: true,\n  options: GeoJSONLoaderOptions\n};\n\n/** @type {LoaderObject} */\nexport const GeoJSONLoader = {\n  ...GeoJSONWorkerLoader,\n  parse,\n  parseTextSync,\n  parseInBatches\n};\n\nasync function parse(arrayBuffer, options) {\n  return parseTextSync(new TextDecoder().decode(arrayBuffer), options);\n}\n\nfunction parseTextSync(text, options) {\n  // Apps can call the parse method directly, we so apply default options here\n  options = {...GeoJSONLoaderOptions, ...options};\n  options.json = {...GeoJSONLoaderOptions.geojson, ...options.geojson};\n  options.gis = options.gis || {};\n  const json = parseJSONSync(text, options);\n  switch (options.gis.format) {\n    case 'binary':\n      return geojsonToBinary(json);\n    default:\n      return json;\n  }\n}\n\nasync function parseInBatches(asyncIterator, options) {\n  // Apps can call the parse method directly, we so apply default options here\n  options = {...GeoJSONLoaderOptions, ...options};\n  options.json = {...GeoJSONLoaderOptions.geojson, ...options.geojson};\n\n  const geojsonIterator = parseJSONInBatches(asyncIterator, options);\n\n  switch (options.gis.format) {\n    case 'binary':\n      return makeBinaryGeometryIterator(geojsonIterator);\n    default:\n      return geojsonIterator;\n  }\n}\n\nasync function* makeBinaryGeometryIterator(geojsonIterator) {\n  for await (const batch of geojsonIterator) {\n    batch.data = geojsonToBinary(batch.data);\n    yield batch;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}