{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LayerTitleSectionFactory = LayerTitleSectionFactory;\nexports[\"default\"] = exports.HeaderWarning = exports.LayerLabelEditor = exports.DragHandle = exports.defaultProps = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _styledComponents = _interopRequireWildcard(require(\"styled-components\"));\nvar _reactSortableHoc = require(\"react-sortable-hoc\");\nvar _panelHeaderAction = _interopRequireDefault(require(\"../panel-header-action\"));\nvar _styledComponents2 = require(\"../../common/styled-components\");\nvar _icons = require(\"../../common/icons\");\nvar _localization = require(\"@kepler.gl/localization\");\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8;\nvar defaultProps = {\n  isDragNDropEnabled: true,\n  showRemoveLayer: true\n};\nexports.defaultProps = defaultProps;\nvar getBorderCss = function getBorderCss(status) {\n  return (0, _styledComponents.css)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    border-top: 2px solid \", \";\\n    border-bottom: 2px solid \", \";\\n    border-right: 2px solid \", \";\\n  \"])), function (_ref) {\n    var theme = _ref.theme;\n    return theme.notificationColors[status];\n  }, function (_ref2) {\n    var theme = _ref2.theme;\n    return theme.notificationColors[status];\n  }, function (_ref3) {\n    var theme = _ref3.theme;\n    return theme.notificationColors[status];\n  });\n};\nvar StyledLayerPanelHeader = (0, _styledComponents[\"default\"])(_styledComponents2.StyledPanelHeader)(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  height: \", \"px;\\n  position: relative;\\n  align-items: stretch;\\n\\n  .layer__remove-layer {\\n    opacity: 0;\\n  }\\n\\n  .layer__drag-handle__placeholder {\\n    height: 20px;\\n    padding: 10px;\\n  }\\n\\n  \", \"\\n\\n  :hover {\\n    cursor: pointer;\\n    background-color: \", \";\\n\\n    .layer__drag-handle {\\n      opacity: 1;\\n    }\\n\\n    .layer__remove-layer {\\n      opacity: 1;\\n    }\\n  }\\n\"])), function (props) {\n  return props.theme.layerPanelHeaderHeight;\n}, function (props) {\n  return props.warning ? getBorderCss('warning') : '';\n}, function (props) {\n  return props.theme.panelBackgroundHover;\n});\nvar HeaderLabelSection = _styledComponents[\"default\"].div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  color: \", \";\\n  flex-grow: 1;\\n  align-items: stretch;\\n  // leave space for eye and collapse icon\\n  padding-right: 50px;\\n\"])), function (props) {\n  return props.theme.textColor;\n});\nvar HeaderActionSection = _styledComponents[\"default\"].div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  position: absolute;\\n  height: 100%;\\n  align-items: stretch;\\n  right: 10px;\\n  pointer-events: \", \";\\n  :hover {\\n    .layer-panel__header__actions__hidden {\\n      opacity: 1;\\n      background-color: \", \";\\n    }\\n  }\\n\"])), function (props) {\n  return props.isEditingLabel ? 'none' : 'all';\n}, function (props) {\n  return props.theme.panelBackgroundHover;\n});\n\n// Hiden actions only show up on hover\nvar StyledPanelHeaderHiddenActions = _styledComponents[\"default\"].div.attrs({\n  className: 'layer-panel__header__actions__hidden'\n})(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  opacity: 0;\\n  display: flex;\\n  align-items: center;\\n  background-color: \", \";\\n  transition: opacity 0.4s ease, background-color 0.4s ease;\\n\\n  :hover {\\n    opacity: 1;\\n  }\\n\"])), function (props) {\n  return props.isConfigActive ? props.theme.panelBackgroundHover : props.theme.panelBackground;\n});\nvar StyledDragHandle = _styledComponents[\"default\"].div(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  align-items: center;\\n  opacity: 0;\\n  z-index: 1000;\\n\\n  :hover {\\n    cursor: move;\\n    opacity: 1;\\n    color: \", \";\\n  }\\n\"])), function (props) {\n  return props.theme.textColorHl;\n});\nvar DragHandle = (0, _reactSortableHoc.SortableHandle)(function (_ref4) {\n  var className = _ref4.className,\n    children = _ref4.children;\n  return /*#__PURE__*/_react[\"default\"].createElement(StyledDragHandle, {\n    className: className\n  }, children);\n});\nexports.DragHandle = DragHandle;\nvar LayerLabelEditor = function LayerLabelEditor(_ref5) {\n  var layerId = _ref5.layerId,\n    label = _ref5.label,\n    onEdit = _ref5.onEdit,\n    onFocus = _ref5.onFocus,\n    onBlur = _ref5.onBlur;\n  return /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.InlineInput, {\n    type: \"text\",\n    className: \"layer__title__editor\",\n    value: label,\n    onClick: function onClick(e) {\n      e.stopPropagation();\n    },\n    onChange: onEdit,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    id: \"\".concat(layerId, \":input-layer-label\")\n  });\n};\nexports.LayerLabelEditor = LayerLabelEditor;\nfunction LayerTitleSectionFactory() {\n  var StyledLayerTitleSection = _styledComponents[\"default\"].div(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    margin-left: 4px;\\n    flex-grow: 1;\\n    align-items: center;\\n    display: flex;\\n    .layer__title__inner {\\n      flex-grow: 1;\\n    }\\n\\n    .layer__title__type {\\n      color: \", \";\\n      font-size: 10px;\\n      line-height: 12px;\\n      letter-spacing: 0.37px;\\n      text-transform: capitalize;\\n    }\\n  \"])), function (props) {\n    return props.theme.subtextColor;\n  });\n  var LayerTitleSection = function LayerTitleSection(_ref6) {\n    var layerType = _ref6.layerType,\n      layerId = _ref6.layerId,\n      label = _ref6.label,\n      onUpdateLayerLabel = _ref6.onUpdateLayerLabel,\n      onFocus = _ref6.onFocus,\n      onBlur = _ref6.onBlur;\n    return /*#__PURE__*/_react[\"default\"].createElement(StyledLayerTitleSection, {\n      className: \"layer__title\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(LayerLabelEditor, {\n      layerId: layerId,\n      label: label,\n      onEdit: onUpdateLayerLabel,\n      onFocus: onFocus,\n      onBlur: onBlur\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"layer__title__type\"\n    }, layerType && /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n      id: \"layer.type.\".concat(layerType.toLowerCase())\n    }))));\n  };\n  return LayerTitleSection;\n}\nvar StyledHeaderWaring = _styledComponents[\"default\"].div(_templateObject8 || (_templateObject8 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  position: absolute;\\n  right: -9px;\\n  top: calc(50% - 9px);\\n  color: \", \";\\n\"])), function (_ref7) {\n  var theme = _ref7.theme;\n  return theme.notificationColors.warning;\n});\nvar HeaderWarning = function HeaderWarning(_ref8) {\n  var warning = _ref8.warning,\n    id = _ref8.id;\n  return /*#__PURE__*/_react[\"default\"].createElement(StyledHeaderWaring, null, /*#__PURE__*/_react[\"default\"].createElement(_icons.WarningSign, {\n    \"data-tip\": true,\n    \"data-for\": \"layer-\".concat(id, \"-warning\"),\n    height: \"16px\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.Tooltip, {\n    id: \"layer-\".concat(id, \"-warning\"),\n    type: \"warning\",\n    effect: \"solid\",\n    textColor: \"black\"\n  }, warning));\n};\nexports.HeaderWarning = HeaderWarning;\nLayerPanelHeaderFactory.deps = [LayerTitleSectionFactory, _panelHeaderAction[\"default\"]];\nvar defaultActionIcons = {\n  remove: _icons.Trash,\n  visible: _icons.EyeSeen,\n  hidden: _icons.EyeUnseen,\n  enableConfig: _icons.ArrowDown,\n  duplicate: _icons.Copy\n};\nfunction LayerPanelHeaderFactory(LayerTitleSection, PanelHeaderAction) {\n  var LayerPanelHeader = function LayerPanelHeader(_ref9) {\n    var isConfigActive = _ref9.isConfigActive,\n      allowDuplicate = _ref9.allowDuplicate,\n      isDragNDropEnabled = _ref9.isDragNDropEnabled,\n      isVisible = _ref9.isVisible,\n      warning = _ref9.warning,\n      label = _ref9.label,\n      layerId = _ref9.layerId,\n      layerType = _ref9.layerType,\n      labelRCGColorValues = _ref9.labelRCGColorValues,\n      onToggleVisibility = _ref9.onToggleVisibility,\n      onUpdateLayerLabel = _ref9.onUpdateLayerLabel,\n      onToggleEnableConfig = _ref9.onToggleEnableConfig,\n      onDuplicateLayer = _ref9.onDuplicateLayer,\n      onRemoveLayer = _ref9.onRemoveLayer,\n      showRemoveLayer = _ref9.showRemoveLayer,\n      _ref9$actionIcons = _ref9.actionIcons,\n      actionIcons = _ref9$actionIcons === void 0 ? defaultActionIcons : _ref9$actionIcons;\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      isEditingLabel = _useState2[0],\n      setIsEditingLabel = _useState2[1];\n    return /*#__PURE__*/_react[\"default\"].createElement(StyledLayerPanelHeader, {\n      className: (0, _classnames[\"default\"])('layer-panel__header', {\n        'sort--handle': !isConfigActive\n      }),\n      warning: warning,\n      active: isConfigActive,\n      labelRCGColorValues: labelRCGColorValues,\n      onClick: onToggleEnableConfig\n    }, warning ? /*#__PURE__*/_react[\"default\"].createElement(HeaderWarning, {\n      warning: warning,\n      id: layerId\n    }) : null, /*#__PURE__*/_react[\"default\"].createElement(HeaderLabelSection, {\n      className: \"layer-panel__header__content\"\n    }, isDragNDropEnabled ? /*#__PURE__*/_react[\"default\"].createElement(DragHandle, {\n      className: \"layer__drag-handle\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_icons.VertDots, {\n      height: \"20px\"\n    })) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"layer__drag-handle__placeholder\"\n    }), /*#__PURE__*/_react[\"default\"].createElement(LayerTitleSection, {\n      layerId: layerId,\n      label: label,\n      onUpdateLayerLabel: onUpdateLayerLabel,\n      layerType: layerType,\n      onFocus: function onFocus() {\n        setIsEditingLabel(true);\n      },\n      onBlur: function onBlur() {\n        setIsEditingLabel(false);\n      }\n    })), /*#__PURE__*/_react[\"default\"].createElement(HeaderActionSection, {\n      className: \"layer-panel__header__actions\",\n      isEditingLabel: isEditingLabel\n    }, /*#__PURE__*/_react[\"default\"].createElement(StyledPanelHeaderHiddenActions, {\n      isConfigActive: isConfigActive\n    }, showRemoveLayer ? /*#__PURE__*/_react[\"default\"].createElement(PanelHeaderAction, {\n      className: \"layer__remove-layer\",\n      id: layerId,\n      tooltip: 'tooltip.removeLayer',\n      onClick: onRemoveLayer,\n      tooltipType: \"error\",\n      IconComponent: actionIcons.remove\n    }) : null, /*#__PURE__*/_react[\"default\"].createElement(PanelHeaderAction, {\n      className: \"layer__duplicate\",\n      id: layerId,\n      tooltip: 'tooltip.duplicateLayer',\n      onClick: onDuplicateLayer,\n      IconComponent: actionIcons.duplicate,\n      disabled: !allowDuplicate\n    })), /*#__PURE__*/_react[\"default\"].createElement(PanelHeaderAction, {\n      className: \"layer__visibility-toggle\",\n      id: layerId,\n      tooltip: isVisible ? 'tooltip.hideLayer' : 'tooltip.showLayer',\n      onClick: onToggleVisibility,\n      IconComponent: isVisible ? actionIcons.visible : actionIcons.hidden\n    }), /*#__PURE__*/_react[\"default\"].createElement(PanelHeaderAction, {\n      className: (0, _classnames[\"default\"])('layer__enable-config ', {\n        'is-open': isConfigActive\n      }),\n      id: layerId,\n      tooltip: 'tooltip.layerSettings',\n      onClick: onToggleEnableConfig,\n      IconComponent: actionIcons.enableConfig\n    })));\n  };\n  LayerPanelHeader.defaultProps = defaultProps;\n  return LayerPanelHeader;\n}\nvar _default = LayerPanelHeaderFactory;\nexports[\"default\"] = _default;","map":{"version":3,"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","HeaderWarning","LayerLabelEditor","DragHandle","defaultProps","_taggedTemplateLiteral2","_react","_styledComponents","_reactSortableHoc","_panelHeaderAction","_styledComponents2","_icons","_localization","isDragNDropEnabled","showRemoveLayer","css","_templateObject","_ref","theme","notificationColors","status","_ref2","_ref3","StyledLayerPanelHeader","StyledPanelHeader","_templateObject2","props","layerPanelHeaderHeight","warning","getBorderCss","panelBackgroundHover","textColor","HeaderActionSection","div","_templateObject4","isEditingLabel","StyledPanelHeaderHiddenActions","attrs","className","_templateObject5","isConfigActive","panelBackground","StyledDragHandle","_templateObject6","textColorHl","SortableHandle","_ref4","children","createElement","label","_ref5","onEdit","onFocus","onBlur","type","value","onClick","e","stopPropagation","onChange","id","concat","layerId","LayerTitleSectionFactory","StyledLayerTitleSection","_templateObject7","subtextColor","LayerTitleSection","_ref6","onUpdateLayerLabel","layerType","FormattedMessage","toLowerCase","_ref7","_ref8","StyledHeaderWaring","WarningSign","height","Tooltip","effect","LayerPanelHeaderFactory","deps","defaultActionIcons","remove","Trash","visible","EyeSeen","hidden","EyeUnseen","enableConfig","ArrowDown","duplicate","Copy","PanelHeaderAction","LayerPanelHeader","_ref9","allowDuplicate","isVisible","labelRCGColorValues","onToggleVisibility","onToggleEnableConfig","onDuplicateLayer","onRemoveLayer","_ref9$actionIcons","actionIcons","_useState","useState","_useState2","_slicedToArray2","setIsEditingLabel","_classnames","active","HeaderLabelSection","VertDots","tooltip","tooltipType","IconComponent","disabled"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/side-panel/layer-panel/layer-panel-header.tsx"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {\n  useState,\n  ComponentType,\n  MouseEventHandler,\n  MouseEvent,\n  ChangeEventHandler\n} from 'react';\nimport classnames from 'classnames';\nimport styled, {css} from 'styled-components';\nimport {SortableHandle} from 'react-sortable-hoc';\nimport PanelHeaderActionFactory from '../panel-header-action';\nimport {Tooltip} from '../../common/styled-components';\nimport {\n  Copy,\n  ArrowDown,\n  EyeSeen,\n  EyeUnseen,\n  Trash,\n  VertDots,\n  WarningSign\n} from '../../common/icons';\n\nimport {InlineInput, StyledPanelHeader} from '../../common/styled-components';\nimport {FormattedMessage} from '@kepler.gl/localization';\nimport {RGBColor} from '@kepler.gl/types';\nimport {BaseProps} from '../../common/icons';\n\ntype LayerLabelEditorProps = {\n  layerId: string;\n  label?: string;\n  onEdit: ChangeEventHandler;\n  onFocus: ChangeEventHandler;\n  onBlur: ChangeEventHandler;\n};\n\ntype LayerTitleSectionProps = {\n  layerType?: string | null;\n  layerId: string;\n  label?: string;\n  onUpdateLayerLabel: ChangeEventHandler;\n  onFocus: ChangeEventHandler;\n  onBlur: ChangeEventHandler;\n};\n\ntype LayerPanelHeaderProps = {\n  layerId: string;\n  isVisible: boolean;\n  onToggleVisibility: MouseEventHandler;\n  onUpdateLayerLabel: ChangeEventHandler;\n  onToggleEnableConfig: MouseEventHandler;\n  onRemoveLayer: MouseEventHandler;\n  onDuplicateLayer: MouseEventHandler;\n  isConfigActive: boolean;\n  showRemoveLayer?: boolean;\n  label?: string;\n  layerType?: string | null;\n  allowDuplicate?: boolean;\n  isDragNDropEnabled?: boolean;\n  warning?: boolean;\n  labelRCGColorValues?: RGBColor | null;\n  actionIcons?: {\n    remove: ComponentType<Partial<BaseProps>>;\n    visible: ComponentType<Partial<BaseProps>>;\n    hidden: ComponentType<Partial<BaseProps>>;\n    enableConfig: ComponentType<Partial<BaseProps>>;\n    resetIsValid: ComponentType<Partial<BaseProps>>;\n    duplicate: ComponentType<Partial<BaseProps>>;\n  };\n};\n\nexport const defaultProps = {\n  isDragNDropEnabled: true,\n  showRemoveLayer: true\n};\n\nconst getBorderCss = status =>\n  css`\n    border-top: 2px solid ${({theme}) => theme.notificationColors[status]};\n    border-bottom: 2px solid ${({theme}) => theme.notificationColors[status]};\n    border-right: 2px solid ${({theme}) => theme.notificationColors[status]};\n  `;\n\nconst StyledLayerPanelHeader = styled(StyledPanelHeader)`\n  height: ${props => props.theme.layerPanelHeaderHeight}px;\n  position: relative;\n  align-items: stretch;\n\n  .layer__remove-layer {\n    opacity: 0;\n  }\n\n  .layer__drag-handle__placeholder {\n    height: 20px;\n    padding: 10px;\n  }\n\n  ${props => (props.warning ? getBorderCss('warning') : '')}\n\n  :hover {\n    cursor: pointer;\n    background-color: ${props => props.theme.panelBackgroundHover};\n\n    .layer__drag-handle {\n      opacity: 1;\n    }\n\n    .layer__remove-layer {\n      opacity: 1;\n    }\n  }\n`;\n\nconst HeaderLabelSection = styled.div`\n  display: flex;\n  color: ${props => props.theme.textColor};\n  flex-grow: 1;\n  align-items: stretch;\n  // leave space for eye and collapse icon\n  padding-right: 50px;\n`;\n\ntype HeaderActionSectionProps = {\n  isEditingLabel: boolean;\n};\n\nconst HeaderActionSection = styled.div<HeaderActionSectionProps>`\n  display: flex;\n  position: absolute;\n  height: 100%;\n  align-items: stretch;\n  right: 10px;\n  pointer-events: ${props => (props.isEditingLabel ? 'none' : 'all')};\n  :hover {\n    .layer-panel__header__actions__hidden {\n      opacity: 1;\n      background-color: ${props => props.theme.panelBackgroundHover};\n    }\n  }\n`;\n\ntype StyledPanelHeaderHiddenActionsProps = {\n  isConfigActive: LayerPanelHeaderProps['isConfigActive'];\n};\n\n// Hiden actions only show up on hover\nconst StyledPanelHeaderHiddenActions = styled.div.attrs({\n  className: 'layer-panel__header__actions__hidden'\n})<StyledPanelHeaderHiddenActionsProps>`\n  opacity: 0;\n  display: flex;\n  align-items: center;\n  background-color: ${props =>\n    props.isConfigActive ? props.theme.panelBackgroundHover : props.theme.panelBackground};\n  transition: opacity 0.4s ease, background-color 0.4s ease;\n\n  :hover {\n    opacity: 1;\n  }\n`;\n\nconst StyledDragHandle = styled.div`\n  display: flex;\n  align-items: center;\n  opacity: 0;\n  z-index: 1000;\n\n  :hover {\n    cursor: move;\n    opacity: 1;\n    color: ${props => props.theme.textColorHl};\n  }\n`;\n\nexport const DragHandle = SortableHandle(({className, children}) => (\n  <StyledDragHandle className={className}>{children}</StyledDragHandle>\n));\n\nexport const LayerLabelEditor: React.FC<LayerLabelEditorProps> = ({\n  layerId,\n  label,\n  onEdit,\n  onFocus,\n  onBlur\n}) => (\n  <InlineInput\n    type=\"text\"\n    className=\"layer__title__editor\"\n    value={label}\n    onClick={(e: MouseEvent) => {\n      e.stopPropagation();\n    }}\n    onChange={onEdit}\n    onFocus={onFocus}\n    onBlur={onBlur}\n    id={`${layerId}:input-layer-label`}\n  />\n);\n\nexport function LayerTitleSectionFactory() {\n  const StyledLayerTitleSection = styled.div`\n    margin-left: 4px;\n    flex-grow: 1;\n    align-items: center;\n    display: flex;\n    .layer__title__inner {\n      flex-grow: 1;\n    }\n\n    .layer__title__type {\n      color: ${props => props.theme.subtextColor};\n      font-size: 10px;\n      line-height: 12px;\n      letter-spacing: 0.37px;\n      text-transform: capitalize;\n    }\n  `;\n  const LayerTitleSection: React.FC<LayerTitleSectionProps> = ({\n    layerType,\n    layerId,\n    label,\n    onUpdateLayerLabel,\n    onFocus,\n    onBlur\n  }) => (\n    <StyledLayerTitleSection className=\"layer__title\">\n      <div>\n        <LayerLabelEditor\n          layerId={layerId}\n          label={label}\n          onEdit={onUpdateLayerLabel}\n          onFocus={onFocus}\n          onBlur={onBlur}\n        />\n        <div className=\"layer__title__type\">\n          {layerType && <FormattedMessage id={`layer.type.${layerType.toLowerCase()}`} />}\n        </div>\n      </div>\n    </StyledLayerTitleSection>\n  );\n  return LayerTitleSection;\n}\n\nconst StyledHeaderWaring = styled.div`\n  position: absolute;\n  right: -9px;\n  top: calc(50% - 9px);\n  color: ${({theme}) => theme.notificationColors.warning};\n`;\n\nexport const HeaderWarning = ({warning, id}) => (\n  <StyledHeaderWaring>\n    <WarningSign data-tip data-for={`layer-${id}-warning`} height=\"16px\" />\n    <Tooltip id={`layer-${id}-warning`} type=\"warning\" effect=\"solid\" textColor=\"black\">\n      {warning}\n    </Tooltip>\n  </StyledHeaderWaring>\n);\nLayerPanelHeaderFactory.deps = [LayerTitleSectionFactory, PanelHeaderActionFactory];\n\nconst defaultActionIcons = {\n  remove: Trash,\n  visible: EyeSeen,\n  hidden: EyeUnseen,\n  enableConfig: ArrowDown,\n  duplicate: Copy\n};\n\nfunction LayerPanelHeaderFactory(\n  LayerTitleSection: ReturnType<typeof LayerTitleSectionFactory>,\n  PanelHeaderAction: ReturnType<typeof PanelHeaderActionFactory>\n) {\n  const LayerPanelHeader: React.FC<LayerPanelHeaderProps> = ({\n    isConfigActive,\n    allowDuplicate,\n    isDragNDropEnabled,\n    isVisible,\n    warning,\n    label,\n    layerId,\n    layerType,\n    labelRCGColorValues,\n    onToggleVisibility,\n    onUpdateLayerLabel,\n    onToggleEnableConfig,\n    onDuplicateLayer,\n    onRemoveLayer,\n    showRemoveLayer,\n    actionIcons = defaultActionIcons\n  }) => {\n    const [isEditingLabel, setIsEditingLabel] = useState(false);\n\n    return (\n      <StyledLayerPanelHeader\n        className={classnames('layer-panel__header', {\n          'sort--handle': !isConfigActive\n        })}\n        warning={warning}\n        active={isConfigActive}\n        labelRCGColorValues={labelRCGColorValues}\n        onClick={onToggleEnableConfig}\n      >\n        {warning ? <HeaderWarning warning={warning} id={layerId} /> : null}\n        <HeaderLabelSection className=\"layer-panel__header__content\">\n          {isDragNDropEnabled ? (\n            <DragHandle className=\"layer__drag-handle\">\n              <VertDots height=\"20px\" />\n            </DragHandle>\n          ) : (\n            <div className=\"layer__drag-handle__placeholder\" />\n          )}\n          <LayerTitleSection\n            layerId={layerId}\n            label={label}\n            onUpdateLayerLabel={onUpdateLayerLabel}\n            layerType={layerType}\n            onFocus={() => {\n              setIsEditingLabel(true);\n            }}\n            onBlur={() => {\n              setIsEditingLabel(false);\n            }}\n          />\n        </HeaderLabelSection>\n        <HeaderActionSection\n          className=\"layer-panel__header__actions\"\n          isEditingLabel={isEditingLabel}\n        >\n          <StyledPanelHeaderHiddenActions isConfigActive={isConfigActive}>\n            {showRemoveLayer ? (\n              <PanelHeaderAction\n                className=\"layer__remove-layer\"\n                id={layerId}\n                tooltip={'tooltip.removeLayer'}\n                onClick={onRemoveLayer}\n                tooltipType=\"error\"\n                IconComponent={actionIcons.remove}\n              />\n            ) : null}\n            <PanelHeaderAction\n              className=\"layer__duplicate\"\n              id={layerId}\n              tooltip={'tooltip.duplicateLayer'}\n              onClick={onDuplicateLayer}\n              IconComponent={actionIcons.duplicate}\n              disabled={!allowDuplicate}\n            />\n          </StyledPanelHeaderHiddenActions>\n          <PanelHeaderAction\n            className=\"layer__visibility-toggle\"\n            id={layerId}\n            tooltip={isVisible ? 'tooltip.hideLayer' : 'tooltip.showLayer'}\n            onClick={onToggleVisibility}\n            IconComponent={isVisible ? actionIcons.visible : actionIcons.hidden}\n          />\n          <PanelHeaderAction\n            className={classnames('layer__enable-config ', {\n              'is-open': isConfigActive\n            })}\n            id={layerId}\n            tooltip={'tooltip.layerSettings'}\n            onClick={onToggleEnableConfig}\n            IconComponent={actionIcons.enableConfig}\n          />\n        </HeaderActionSection>\n      </StyledLayerPanelHeader>\n    );\n  };\n\n  LayerPanelHeader.defaultProps = defaultProps;\n\n  return LayerPanelHeader;\n}\n\nexport default LayerPanelHeaderFactory;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}