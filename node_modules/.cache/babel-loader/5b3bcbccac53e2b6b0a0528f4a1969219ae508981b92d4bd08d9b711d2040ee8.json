{"ast":null,"code":"import _objectSpread from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { projectPosition } from '../../shaderlib/project/project-functions';\nimport { COORDINATE_SYSTEM } from '../../lib/constants';\nvar DEFAULT_LIGHT_COLOR = [255, 255, 255];\nvar DEFAULT_LIGHT_INTENSITY = 1.0;\nvar DEFAULT_ATTENUATION = [0, 0, 1];\nvar DEFAULT_LIGHT_POSITION = [0.0, 0.0, 1.0];\nvar idCount = 0;\nexport var PointLight = /*#__PURE__*/function () {\n  function PointLight() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, PointLight);\n    _defineProperty(this, \"id\", void 0);\n    _defineProperty(this, \"color\", void 0);\n    _defineProperty(this, \"intensity\", void 0);\n    _defineProperty(this, \"type\", 'point');\n    _defineProperty(this, \"position\", void 0);\n    _defineProperty(this, \"attenuation\", void 0);\n    _defineProperty(this, \"projectedLight\", void 0);\n    var _props$color = props.color,\n      color = _props$color === void 0 ? DEFAULT_LIGHT_COLOR : _props$color;\n    var _props$intensity = props.intensity,\n      intensity = _props$intensity === void 0 ? DEFAULT_LIGHT_INTENSITY : _props$intensity;\n    var _props$position = props.position,\n      position = _props$position === void 0 ? DEFAULT_LIGHT_POSITION : _props$position;\n    this.id = props.id || \"point-\".concat(idCount++);\n    this.color = color;\n    this.intensity = intensity;\n    this.type = 'point';\n    this.position = position;\n    this.attenuation = getAttenuation(props);\n    this.projectedLight = _objectSpread({}, this);\n  }\n  _createClass(PointLight, [{\n    key: \"getProjectedLight\",\n    value: function getProjectedLight(_ref) {\n      var layer = _ref.layer;\n      var projectedLight = this.projectedLight;\n      var viewport = layer.context.viewport;\n      var _layer$props = layer.props,\n        coordinateSystem = _layer$props.coordinateSystem,\n        coordinateOrigin = _layer$props.coordinateOrigin;\n      var position = projectPosition(this.position, {\n        viewport: viewport,\n        coordinateSystem: coordinateSystem,\n        coordinateOrigin: coordinateOrigin,\n        fromCoordinateSystem: viewport.isGeospatial ? COORDINATE_SYSTEM.LNGLAT : COORDINATE_SYSTEM.CARTESIAN,\n        fromCoordinateOrigin: [0, 0, 0]\n      });\n      projectedLight.color = this.color;\n      projectedLight.intensity = this.intensity;\n      projectedLight.position = position;\n      return projectedLight;\n    }\n  }]);\n  return PointLight;\n}();\nfunction getAttenuation(props) {\n  if (props.attenuation) {\n    return props.attenuation;\n  }\n  if ('intensity' in props) {\n    return [0, 0, props.intensity || 0];\n  }\n  return DEFAULT_ATTENUATION;\n}","map":{"version":3,"names":["projectPosition","COORDINATE_SYSTEM","DEFAULT_LIGHT_COLOR","DEFAULT_LIGHT_INTENSITY","DEFAULT_ATTENUATION","DEFAULT_LIGHT_POSITION","idCount","PointLight","props","arguments","length","undefined","_classCallCheck","_defineProperty","_props$color","color","_props$intensity","intensity","_props$position","position","id","concat","type","attenuation","getAttenuation","projectedLight","_objectSpread","_createClass","key","value","getProjectedLight","_ref","layer","viewport","context","_layer$props","coordinateSystem","coordinateOrigin","fromCoordinateSystem","isGeospatial","LNGLAT","CARTESIAN","fromCoordinateOrigin"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@deck.gl/core/src/effects/lighting/point-light.ts"],"sourcesContent":["import {projectPosition} from '../../shaderlib/project/project-functions';\nimport {COORDINATE_SYSTEM} from '../../lib/constants';\n\nimport type Layer from '../../lib/layer';\n\nconst DEFAULT_LIGHT_COLOR = [255, 255, 255];\nconst DEFAULT_LIGHT_INTENSITY = 1.0;\nconst DEFAULT_ATTENUATION = [0, 0, 1];\nconst DEFAULT_LIGHT_POSITION = [0.0, 0.0, 1.0];\n\nlet idCount = 0;\n\nexport type PointLightOptions = {\n  id?: string;\n  /** Light color, [r, g, b] in the 0-255 range\n   * @default [255, 255, 255]\n   */\n  color?: number[];\n  /** Light intensity, higher number is brighter\n   * @default 1.0\n   */\n  intensity?: number;\n  /** Light position [x, y, z] in the common space\n   * @default [0.0, 0.0, 1.0]\n   */\n  position?: number[];\n  /** Light attenuation\n   * @default [0.0, 0.0, 1.0]\n   */\n  attenuation?: number[];\n};\n\nexport class PointLight {\n  id: string;\n  color: number[];\n  intensity: number;\n  type = 'point';\n  position: number[];\n  attenuation: number[];\n\n  protected projectedLight: PointLight;\n\n  constructor(props: PointLightOptions = {}) {\n    const {color = DEFAULT_LIGHT_COLOR} = props;\n    const {intensity = DEFAULT_LIGHT_INTENSITY} = props;\n    const {position = DEFAULT_LIGHT_POSITION} = props;\n\n    this.id = props.id || `point-${idCount++}`;\n    this.color = color;\n    this.intensity = intensity;\n    this.type = 'point';\n    this.position = position;\n    this.attenuation = getAttenuation(props);\n    this.projectedLight = {...this};\n  }\n\n  getProjectedLight({layer}: {layer: Layer}): PointLight {\n    const {projectedLight} = this;\n    const viewport = layer.context.viewport;\n    const {coordinateSystem, coordinateOrigin} = layer.props;\n    const position = projectPosition(this.position, {\n      viewport,\n      coordinateSystem,\n      coordinateOrigin,\n      fromCoordinateSystem: viewport.isGeospatial\n        ? COORDINATE_SYSTEM.LNGLAT\n        : COORDINATE_SYSTEM.CARTESIAN,\n      fromCoordinateOrigin: [0, 0, 0]\n    });\n    projectedLight.color = this.color;\n    projectedLight.intensity = this.intensity;\n    projectedLight.position = position;\n    return projectedLight;\n  }\n}\n\nfunction getAttenuation(props: PointLightOptions): number[] {\n  if (props.attenuation) {\n    return props.attenuation;\n  }\n  if ('intensity' in props) {\n    return [0, 0, props.intensity || 0];\n  }\n  return DEFAULT_ATTENUATION;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}