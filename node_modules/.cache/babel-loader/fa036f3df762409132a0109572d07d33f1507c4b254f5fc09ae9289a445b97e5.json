{"ast":null,"code":"import _classCallCheck from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { ClipSpace, setParameters, withParameters, clear } from '@luma.gl/core';\nimport Pass from './pass';\nvar ScreenPass = /*#__PURE__*/function (_Pass) {\n  _inherits(ScreenPass, _Pass);\n  var _super = _createSuper(ScreenPass);\n  function ScreenPass(gl, props) {\n    var _this;\n    _classCallCheck(this, ScreenPass);\n    _this = _super.call(this, gl, props);\n    _defineProperty(_assertThisInitialized(_this), \"model\", void 0);\n    var module = props.module,\n      fs = props.fs,\n      id = props.id;\n    _this.model = new ClipSpace(gl, {\n      id: id,\n      fs: fs,\n      modules: [module]\n    });\n    return _this;\n  }\n  _createClass(ScreenPass, [{\n    key: \"render\",\n    value: function render(params) {\n      var _this2 = this;\n      var gl = this.gl;\n      setParameters(gl, {\n        viewport: [0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight]\n      });\n      withParameters(gl, {\n        framebuffer: params.outputBuffer,\n        clearColor: [0, 0, 0, 0]\n      }, function () {\n        return _this2._renderPass(gl, params);\n      });\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      this.model.delete();\n      this.model = null;\n    }\n  }, {\n    key: \"_renderPass\",\n    value: function _renderPass(gl, options) {\n      var inputBuffer = options.inputBuffer;\n      clear(gl, {\n        color: true\n      });\n      this.model.draw({\n        moduleSettings: this.props.moduleSettings,\n        uniforms: {\n          texture: inputBuffer,\n          texSize: [inputBuffer.width, inputBuffer.height]\n        },\n        parameters: {\n          depthWrite: false,\n          depthTest: false\n        }\n      });\n    }\n  }]);\n  return ScreenPass;\n}(Pass);\nexport { ScreenPass as default };","map":{"version":3,"names":["ClipSpace","setParameters","withParameters","clear","Pass","ScreenPass","_Pass","_inherits","_super","_createSuper","gl","props","_this","_classCallCheck","call","_defineProperty","_assertThisInitialized","module","fs","id","model","modules","_createClass","key","value","render","params","_this2","viewport","drawingBufferWidth","drawingBufferHeight","framebuffer","outputBuffer","clearColor","_renderPass","_delete","delete","options","inputBuffer","color","draw","moduleSettings","uniforms","texture","texSize","width","height","parameters","depthWrite","depthTest","default"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@deck.gl/core/src/passes/screen-pass.ts"],"sourcesContent":["//\n// A base render pass.\n//\n// Attribution: This class and the multipass system were inspired by\n// the THREE.js EffectComposer and *Pass classes\n\nimport type {Framebuffer} from '@luma.gl/core';\nimport {ClipSpace, setParameters, withParameters, clear} from '@luma.gl/core';\nimport Pass from './pass';\n\nimport type {ShaderModule} from '../types/types';\n\ntype ScreenPassProps = {\n  module: ShaderModule;\n  fs: string | null;\n  id: string;\n  moduleSettings: any;\n};\n\ntype ScreenPassRenderOptions = {\n  inputBuffer: Framebuffer;\n  outputBuffer: Framebuffer;\n};\n\nexport default class ScreenPass extends Pass {\n  model: ClipSpace;\n\n  constructor(gl: WebGLRenderingContext, props: ScreenPassProps) {\n    super(gl, props);\n    const {module, fs, id} = props;\n    this.model = new ClipSpace(gl, {id, fs, modules: [module]});\n  }\n\n  render(params: ScreenPassRenderOptions): void {\n    const gl = this.gl;\n\n    setParameters(gl, {viewport: [0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight]});\n\n    withParameters(gl, {framebuffer: params.outputBuffer, clearColor: [0, 0, 0, 0]}, () =>\n      this._renderPass(gl, params)\n    );\n  }\n\n  delete() {\n    this.model.delete();\n    this.model = null;\n  }\n\n  // Private methods\n\n  /**\n   * Renders the pass.\n   * This is an abstract method that should be overridden.\n   * @param inputBuffer - Frame buffer that contains the result of the previous pass\n   * @param outputBuffer - Frame buffer that serves as the output render target\n   */\n  protected _renderPass(gl: WebGLRenderingContext, options: ScreenPassRenderOptions) {\n    const {inputBuffer} = options;\n    clear(gl, {color: true});\n    this.model.draw({\n      moduleSettings: this.props.moduleSettings,\n      uniforms: {\n        texture: inputBuffer,\n        texSize: [inputBuffer.width, inputBuffer.height]\n      },\n      parameters: {\n        depthWrite: false,\n        depthTest: false\n      }\n    });\n  }\n}\n"],"mappings":";;;;;;AAOA,SAAQA,SAAR,EAAmBC,aAAnB,EAAkCC,cAAlC,EAAkDC,KAAlD,QAA8D,eAA9D;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAAA,IAgBqBC,UAAN,0BAAAC,KAAA;EAAAC,SAAA,CAAAF,UAAA,EAAAC,KAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,UAAA;EAGb,SAAAA,WAAYK,EAAD,EAA4BC,KAA5B,EAAoD;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAR,UAAA;IAC7DO,KAAA,GAAAJ,MAAA,CAAAM,IAAA,OAAMJ,EAAN,EAAUC,KAAV;IAD6DI,eAAA,CAAAC,sBAAA,CAAAJ,KAAA;IAE7D,IAAOK,MAAD,GAAmBN,KAAzB,CAAOM,MAAD;MAASC,EAAT,GAAmBP,KAAzB,CAAeO,EAAT;MAAaC,EAAA,GAAMR,KAAzB,CAAmBQ,EAAA;IACnBP,KAAA,CAAKQ,KAAL,GAAa,IAAIpB,SAAJ,CAAcU,EAAd,EAAkB;MAACS,EAAD,EAACA,EAAD;MAAKD,EAAL,EAAKA,EAAL;MAASG,OAAO,EAAE,CAACJ,MAAD;IAAlB,CAAlB,CAAb;IAAA,OAAAL,KAAA;EACD;EAAAU,YAAA,CAAAjB,UAAA;IAAAkB,GAAA;IAAAC,KAAA,EAED,SAAAC,OAAOC,MAAD,EAAwC;MAAA,IAAAC,MAAA;MAC5C,IAAMjB,EAAE,GAAG,KAAKA,EAAhB;MAEAT,aAAa,CAACS,EAAD,EAAK;QAACkB,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAOlB,EAAE,CAACmB,kBAAV,EAA8BnB,EAAE,CAACoB,mBAAjC;MAAX,CAAL,CAAb;MAEA5B,cAAc,CAACQ,EAAD,EAAK;QAACqB,WAAW,EAAEL,MAAM,CAACM,YAArB;QAAmCC,UAAU,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV;MAA/C,CAAL,EAAmE;QAAA,OAC/EN,MAAA,CAAKO,WAAL,CAAiBxB,EAAjB,EAAqBgB,MAArB,CADY;MAAA,EAAd;IAGD;EAAA;IAAAH,GAAA;IAAAC,KAAA,EAED,SAAAW,QAAA,EAAS;MACP,KAAKf,KAAL,CAAWgB,MAAX;MACA,KAAKhB,KAAL,GAAa,IAAb;IACD;EAAA;IAAAG,GAAA;IAAAC,KAAA,EAUS,SAAAU,YAAYxB,EAAD,EAA4B2B,OAA5B,EAA8D;MACjF,IAAOC,WAAA,GAAeD,OAAtB,CAAOC,WAAA;MACPnC,KAAK,CAACO,EAAD,EAAK;QAAC6B,KAAK,EAAE;MAAR,CAAL,CAAL;MACA,KAAKnB,KAAL,CAAWoB,IAAX,CAAgB;QACdC,cAAc,EAAE,KAAK9B,KAAL,CAAW8B,cADb;QAEdC,QAAQ,EAAE;UACRC,OAAO,EAAEL,WADD;UAERM,OAAO,EAAE,CAACN,WAAW,CAACO,KAAb,EAAoBP,WAAW,CAACQ,MAAhC;QAFD,CAFI;QAMdC,UAAU,EAAE;UACVC,UAAU,EAAE,KADF;UAEVC,SAAS,EAAE;QAFD;MANE,CAAhB;IAWD;EAAA;EAAA,OAAA5C,UAAA;AAAA,EA9CqCD,IAAzB;AAAA,SAAMC,UAAN,IAAA6C,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}