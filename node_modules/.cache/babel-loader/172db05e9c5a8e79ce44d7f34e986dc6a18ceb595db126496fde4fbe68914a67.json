{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Texture2D, ProgramManager } from '@luma.gl/core';\nimport { AmbientLight } from './ambient-light';\nimport { DirectionalLight } from './directional-light';\nimport { Matrix4, Vector3 } from '@math.gl/core';\nimport ShadowPass from '../../passes/shadow-pass';\nimport shadow from '../../shaderlib/shadow/shadow';\nvar DEFAULT_AMBIENT_LIGHT_PROPS = {\n  color: [255, 255, 255],\n  intensity: 1.0\n};\nvar DEFAULT_DIRECTIONAL_LIGHT_PROPS = [{\n  color: [255, 255, 255],\n  intensity: 1.0,\n  direction: [-1, 3, -1]\n}, {\n  color: [255, 255, 255],\n  intensity: 0.9,\n  direction: [1, -8, -2.5]\n}];\nvar DEFAULT_SHADOW_COLOR = [0, 0, 0, 200 / 255];\nvar LightingEffect = /*#__PURE__*/function () {\n  function LightingEffect() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, LightingEffect);\n    _defineProperty(this, \"id\", 'lighting-effect');\n    _defineProperty(this, \"props\", null);\n    _defineProperty(this, \"shadowColor\", DEFAULT_SHADOW_COLOR);\n    _defineProperty(this, \"shadow\", void 0);\n    _defineProperty(this, \"ambientLight\", null);\n    _defineProperty(this, \"directionalLights\", []);\n    _defineProperty(this, \"pointLights\", []);\n    _defineProperty(this, \"shadowPasses\", []);\n    _defineProperty(this, \"shadowMaps\", []);\n    _defineProperty(this, \"dummyShadowMap\", null);\n    _defineProperty(this, \"programManager\", void 0);\n    _defineProperty(this, \"shadowMatrices\", void 0);\n    for (var key in props) {\n      var lightSource = props[key];\n      switch (lightSource.type) {\n        case 'ambient':\n          this.ambientLight = lightSource;\n          break;\n        case 'directional':\n          this.directionalLights.push(lightSource);\n          break;\n        case 'point':\n          this.pointLights.push(lightSource);\n          break;\n        default:\n      }\n    }\n    this._applyDefaultLights();\n    this.shadow = this.directionalLights.some(function (light) {\n      return light.shadow;\n    });\n  }\n  _createClass(LightingEffect, [{\n    key: \"preRender\",\n    value: function preRender(gl, _ref) {\n      var layers = _ref.layers,\n        layerFilter = _ref.layerFilter,\n        viewports = _ref.viewports,\n        onViewportActive = _ref.onViewportActive,\n        views = _ref.views;\n      if (!this.shadow) return;\n      this.shadowMatrices = this._calculateMatrices();\n      if (this.shadowPasses.length === 0) {\n        this._createShadowPasses(gl);\n      }\n      if (!this.programManager) {\n        this.programManager = ProgramManager.getDefaultProgramManager(gl);\n        if (shadow) {\n          this.programManager.addDefaultModule(shadow);\n        }\n      }\n      if (!this.dummyShadowMap) {\n        this.dummyShadowMap = new Texture2D(gl, {\n          width: 1,\n          height: 1\n        });\n      }\n      for (var i = 0; i < this.shadowPasses.length; i++) {\n        var shadowPass = this.shadowPasses[i];\n        shadowPass.render({\n          layers: layers,\n          layerFilter: layerFilter,\n          viewports: viewports,\n          onViewportActive: onViewportActive,\n          views: views,\n          moduleParameters: {\n            shadowLightId: i,\n            dummyShadowMap: this.dummyShadowMap,\n            shadowMatrices: this.shadowMatrices\n          }\n        });\n      }\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters(layer) {\n      var parameters = this.shadow ? {\n        shadowMaps: this.shadowMaps,\n        dummyShadowMap: this.dummyShadowMap,\n        shadowColor: this.shadowColor,\n        shadowMatrices: this.shadowMatrices\n      } : {};\n      parameters.lightSources = {\n        ambientLight: this.ambientLight,\n        directionalLights: this.directionalLights.map(function (directionalLight) {\n          return directionalLight.getProjectedLight({\n            layer: layer\n          });\n        }),\n        pointLights: this.pointLights.map(function (pointLight) {\n          return pointLight.getProjectedLight({\n            layer: layer\n          });\n        })\n      };\n      return parameters;\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {\n      var _iterator = _createForOfIteratorHelper(this.shadowPasses),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var shadowPass = _step.value;\n          shadowPass.delete();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this.shadowPasses.length = 0;\n      this.shadowMaps.length = 0;\n      if (this.dummyShadowMap) {\n        this.dummyShadowMap.delete();\n        this.dummyShadowMap = null;\n      }\n      if (this.shadow && this.programManager) {\n        this.programManager.removeDefaultModule(shadow);\n        this.programManager = null;\n      }\n    }\n  }, {\n    key: \"_calculateMatrices\",\n    value: function _calculateMatrices() {\n      var lightMatrices = [];\n      var _iterator2 = _createForOfIteratorHelper(this.directionalLights),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var light = _step2.value;\n          var viewMatrix = new Matrix4().lookAt({\n            eye: new Vector3(light.direction).negate()\n          });\n          lightMatrices.push(viewMatrix);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return lightMatrices;\n    }\n  }, {\n    key: \"_createShadowPasses\",\n    value: function _createShadowPasses(gl) {\n      for (var i = 0; i < this.directionalLights.length; i++) {\n        var shadowPass = new ShadowPass(gl);\n        this.shadowPasses[i] = shadowPass;\n        this.shadowMaps[i] = shadowPass.shadowMap;\n      }\n    }\n  }, {\n    key: \"_applyDefaultLights\",\n    value: function _applyDefaultLights() {\n      var ambientLight = this.ambientLight,\n        pointLights = this.pointLights,\n        directionalLights = this.directionalLights;\n      if (!ambientLight && pointLights.length === 0 && directionalLights.length === 0) {\n        this.ambientLight = new AmbientLight(DEFAULT_AMBIENT_LIGHT_PROPS);\n        this.directionalLights.push(new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[0]), new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[1]));\n      }\n    }\n  }]);\n  return LightingEffect;\n}();\nexport { LightingEffect as default };","map":{"version":3,"names":["Texture2D","ProgramManager","AmbientLight","DirectionalLight","Matrix4","Vector3","ShadowPass","shadow","DEFAULT_AMBIENT_LIGHT_PROPS","color","intensity","DEFAULT_DIRECTIONAL_LIGHT_PROPS","direction","DEFAULT_SHADOW_COLOR","LightingEffect","props","arguments","length","undefined","_classCallCheck","_defineProperty","key","lightSource","type","ambientLight","directionalLights","push","pointLights","_applyDefaultLights","some","light","_createClass","value","preRender","gl","_ref","layers","layerFilter","viewports","onViewportActive","views","shadowMatrices","_calculateMatrices","shadowPasses","_createShadowPasses","programManager","getDefaultProgramManager","addDefaultModule","dummyShadowMap","width","height","i","shadowPass","render","moduleParameters","shadowLightId","getModuleParameters","layer","parameters","shadowMaps","shadowColor","lightSources","map","directionalLight","getProjectedLight","pointLight","cleanup","_iterator","_createForOfIteratorHelper","_step","s","n","done","delete","err","e","f","removeDefaultModule","lightMatrices","_iterator2","_step2","viewMatrix","lookAt","eye","negate","shadowMap","default"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@deck.gl/core/src/effects/lighting/lighting-effect.ts"],"sourcesContent":["import {Texture2D, ProgramManager} from '@luma.gl/core';\nimport {AmbientLight} from './ambient-light';\nimport {DirectionalLight} from './directional-light';\nimport {PointLight} from './point-light';\nimport {Matrix4, Vector3} from '@math.gl/core';\nimport ShadowPass from '../../passes/shadow-pass';\nimport shadow from '../../shaderlib/shadow/shadow';\n\nimport type Layer from '../../lib/layer';\nimport type {Effect, PreRenderOptions} from '../../lib/effect';\n\nconst DEFAULT_AMBIENT_LIGHT_PROPS = {color: [255, 255, 255], intensity: 1.0};\nconst DEFAULT_DIRECTIONAL_LIGHT_PROPS = [\n  {\n    color: [255, 255, 255],\n    intensity: 1.0,\n    direction: [-1, 3, -1]\n  },\n  {\n    color: [255, 255, 255],\n    intensity: 0.9,\n    direction: [1, -8, -2.5]\n  }\n];\nconst DEFAULT_SHADOW_COLOR = [0, 0, 0, 200 / 255];\n\n// Class to manage ambient, point and directional light sources in deck\nexport default class LightingEffect implements Effect {\n  id = 'lighting-effect';\n  props = null;\n  shadowColor: number[] = DEFAULT_SHADOW_COLOR;\n\n  private shadow: boolean;\n  private ambientLight: AmbientLight | null = null;\n  private directionalLights: DirectionalLight[] = [];\n  private pointLights: PointLight[] = [];\n  private shadowPasses: ShadowPass[] = [];\n  private shadowMaps: Texture2D[] = [];\n  private dummyShadowMap: Texture2D | null = null;\n  private programManager?: ProgramManager;\n  private shadowMatrices?: Matrix4[];\n\n  constructor(props: Record<string, PointLight | DirectionalLight | AmbientLight> = {}) {\n    for (const key in props) {\n      const lightSource = props[key];\n\n      switch (lightSource.type) {\n        case 'ambient':\n          this.ambientLight = lightSource;\n          break;\n\n        case 'directional':\n          this.directionalLights.push(lightSource as DirectionalLight);\n          break;\n\n        case 'point':\n          this.pointLights.push(lightSource as PointLight);\n          break;\n        default:\n      }\n    }\n    this._applyDefaultLights();\n\n    this.shadow = this.directionalLights.some(light => light.shadow);\n  }\n\n  preRender(\n    gl: WebGLRenderingContext,\n    {layers, layerFilter, viewports, onViewportActive, views}: PreRenderOptions\n  ) {\n    if (!this.shadow) return;\n\n    // create light matrix every frame to make sure always updated from light source\n    this.shadowMatrices = this._calculateMatrices();\n\n    if (this.shadowPasses.length === 0) {\n      this._createShadowPasses(gl);\n    }\n    if (!this.programManager) {\n      // TODO - support multiple contexts\n      this.programManager = ProgramManager.getDefaultProgramManager(gl);\n      if (shadow) {\n        this.programManager.addDefaultModule(shadow);\n      }\n    }\n\n    if (!this.dummyShadowMap) {\n      this.dummyShadowMap = new Texture2D(gl, {\n        width: 1,\n        height: 1\n      });\n    }\n\n    for (let i = 0; i < this.shadowPasses.length; i++) {\n      const shadowPass = this.shadowPasses[i];\n      shadowPass.render({\n        layers,\n        layerFilter,\n        viewports,\n        onViewportActive,\n        views,\n        moduleParameters: {\n          shadowLightId: i,\n          dummyShadowMap: this.dummyShadowMap,\n          shadowMatrices: this.shadowMatrices\n        }\n      });\n    }\n  }\n\n  getModuleParameters(layer: Layer) {\n    const parameters: {\n      lightSources?: {\n        ambientLight: AmbientLight | null;\n        directionalLights: DirectionalLight[];\n        pointLights: PointLight[];\n      };\n      shadowMaps?: Texture2D[];\n      dummyShadowMap?: Texture2D;\n      shadowColor?: number[];\n      shadowMatrices?: Matrix4[];\n    } = this.shadow\n      ? {\n          shadowMaps: this.shadowMaps,\n          dummyShadowMap: this.dummyShadowMap,\n          shadowColor: this.shadowColor,\n          shadowMatrices: this.shadowMatrices\n        }\n      : {};\n\n    // when not rendering to screen, turn off lighting by adding empty light source object\n    // lights shader module relies on the `lightSources` to turn on/off lighting\n    parameters.lightSources = {\n      ambientLight: this.ambientLight,\n      directionalLights: this.directionalLights.map(directionalLight =>\n        directionalLight.getProjectedLight({layer})\n      ),\n      pointLights: this.pointLights.map(pointLight => pointLight.getProjectedLight({layer}))\n    };\n\n    return parameters;\n  }\n\n  cleanup(): void {\n    for (const shadowPass of this.shadowPasses) {\n      shadowPass.delete();\n    }\n    this.shadowPasses.length = 0;\n    this.shadowMaps.length = 0;\n\n    if (this.dummyShadowMap) {\n      this.dummyShadowMap.delete();\n      this.dummyShadowMap = null;\n    }\n\n    if (this.shadow && this.programManager) {\n      this.programManager.removeDefaultModule(shadow);\n      this.programManager = null;\n    }\n  }\n\n  private _calculateMatrices(): Matrix4[] {\n    const lightMatrices: Matrix4[] = [];\n    for (const light of this.directionalLights) {\n      const viewMatrix = new Matrix4().lookAt({\n        eye: new Vector3(light.direction).negate()\n      });\n\n      lightMatrices.push(viewMatrix);\n    }\n    return lightMatrices;\n  }\n\n  private _createShadowPasses(gl: WebGLRenderingContext): void {\n    for (let i = 0; i < this.directionalLights.length; i++) {\n      const shadowPass = new ShadowPass(gl);\n      this.shadowPasses[i] = shadowPass;\n      this.shadowMaps[i] = shadowPass.shadowMap;\n    }\n  }\n\n  private _applyDefaultLights(): void {\n    const {ambientLight, pointLights, directionalLights} = this;\n    if (!ambientLight && pointLights.length === 0 && directionalLights.length === 0) {\n      this.ambientLight = new AmbientLight(DEFAULT_AMBIENT_LIGHT_PROPS);\n      this.directionalLights.push(\n        new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[0]),\n        new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[1])\n      );\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}