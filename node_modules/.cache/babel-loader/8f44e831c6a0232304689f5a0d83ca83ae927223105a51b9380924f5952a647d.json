{"ast":null,"code":"import _classCallCheck from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport VectorTileFeature from './vector-tile-feature';\nvar VectorTileLayer = /*#__PURE__*/function () {\n  function VectorTileLayer(pbf, end) {\n    _classCallCheck(this, VectorTileLayer);\n    _defineProperty(this, \"version\", void 0);\n    _defineProperty(this, \"name\", void 0);\n    _defineProperty(this, \"extent\", void 0);\n    _defineProperty(this, \"length\", void 0);\n    _defineProperty(this, \"_pbf\", void 0);\n    _defineProperty(this, \"_keys\", void 0);\n    _defineProperty(this, \"_values\", void 0);\n    _defineProperty(this, \"_features\", void 0);\n    this.version = 1;\n    this.name = '';\n    this.extent = 4096;\n    this.length = 0;\n    this._pbf = pbf;\n    this._keys = [];\n    this._values = [];\n    this._features = [];\n    pbf.readFields(readLayer, this, end);\n    this.length = this._features.length;\n  }\n  _createClass(VectorTileLayer, [{\n    key: \"feature\",\n    value: function feature(i) {\n      if (i < 0 || i >= this._features.length) {\n        throw new Error('feature index out of bounds');\n      }\n      this._pbf.pos = this._features[i];\n      var end = this._pbf.readVarint() + this._pbf.pos;\n      return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values);\n    }\n  }]);\n  return VectorTileLayer;\n}();\nexport { VectorTileLayer as default };\nfunction readLayer(tag, layer, pbf) {\n  if (layer && pbf) {\n    if (tag === 15) layer.version = pbf.readVarint();else if (tag === 1) layer.name = pbf.readString();else if (tag === 5) layer.extent = pbf.readVarint();else if (tag === 2) layer._features.push(pbf.pos);else if (tag === 3) layer._keys.push(pbf.readString());else if (tag === 4) layer._values.push(readValueMessage(pbf));\n  }\n}\nfunction readValueMessage(pbf) {\n  var value = null;\n  var end = pbf.readVarint() + pbf.pos;\n  while (pbf.pos < end) {\n    var tag = pbf.readVarint() >> 3;\n    value = tag === 1 ? pbf.readString() : tag === 2 ? pbf.readFloat() : tag === 3 ? pbf.readDouble() : tag === 4 ? pbf.readVarint64() : tag === 5 ? pbf.readVarint() : tag === 6 ? pbf.readSVarint() : tag === 7 ? pbf.readBoolean() : null;\n  }\n  return value;\n}","map":{"version":3,"names":["VectorTileFeature","VectorTileLayer","pbf","end","_classCallCheck","_defineProperty","version","name","extent","length","_pbf","_keys","_values","_features","readFields","readLayer","_createClass","key","value","feature","i","Error","pos","readVarint","default","tag","layer","readString","push","readValueMessage","readFloat","readDouble","readVarint64","readSVarint","readBoolean"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@loaders.gl/mvt/src/lib/mapbox-vector-tile/vector-tile-layer.ts"],"sourcesContent":["/* eslint-disable indent */\n// This code is forked from https://github.com/mapbox/vector-tile-js under BSD 3-clause license.\n\nimport Protobuf from 'pbf';\nimport VectorTileFeature from './vector-tile-feature';\n\nexport default class VectorTileLayer {\n  version: number;\n  name: string;\n  extent: number;\n  length: number;\n  _pbf: Protobuf;\n  _keys: string[];\n  _values: (string | number | boolean | null)[];\n  _features: number[];\n  constructor(pbf: Protobuf, end: number) {\n    // Public\n    this.version = 1;\n    this.name = '';\n    this.extent = 4096;\n    this.length = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._keys = [];\n    this._values = [];\n    this._features = [];\n\n    pbf.readFields(readLayer, this, end);\n\n    this.length = this._features.length;\n  }\n\n  /**\n   * return feature `i` from this layer as a `VectorTileFeature`\n   * @param index\n   * @returns feature\n   */\n\n  feature(i: number): VectorTileFeature {\n    if (i < 0 || i >= this._features.length) {\n      throw new Error('feature index out of bounds');\n    }\n\n    this._pbf.pos = this._features[i];\n\n    const end = this._pbf.readVarint() + this._pbf.pos;\n    return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values);\n  }\n}\n\n/**\n *\n * @param tag\n * @param layer\n * @param pbf\n */\nfunction readLayer(tag: number, layer?: VectorTileLayer, pbf?: Protobuf): void {\n  if (layer && pbf) {\n    if (tag === 15) layer.version = pbf.readVarint();\n    else if (tag === 1) layer.name = pbf.readString();\n    else if (tag === 5) layer.extent = pbf.readVarint();\n    else if (tag === 2) layer._features.push(pbf.pos);\n    else if (tag === 3) layer._keys.push(pbf.readString());\n    else if (tag === 4) layer._values.push(readValueMessage(pbf));\n  }\n}\n\n/**\n *\n * @param pbf\n * @returns value\n */\nfunction readValueMessage(pbf: Protobuf) {\n  let value: string | number | boolean | null = null;\n  const end = pbf.readVarint() + pbf.pos;\n\n  while (pbf.pos < end) {\n    const tag = pbf.readVarint() >> 3;\n\n    value =\n      tag === 1\n        ? pbf.readString()\n        : tag === 2\n        ? pbf.readFloat()\n        : tag === 3\n        ? pbf.readDouble()\n        : tag === 4\n        ? pbf.readVarint64()\n        : tag === 5\n        ? pbf.readVarint()\n        : tag === 6\n        ? pbf.readSVarint()\n        : tag === 7\n        ? pbf.readBoolean()\n        : null;\n  }\n\n  return value;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}