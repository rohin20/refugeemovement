{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _icons = require(\"../common/icons\");\nvar _styledComponents2 = require(\"../common/styled-components\");\nvar _loadingSpinner = _interopRequireDefault(require(\"../common/loading-spinner\"));\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nvar StyledTileWrapper = _styledComponents[\"default\"].div.attrs({\n  className: 'provider-tile__wrapper'\n})(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: flex-start;\\n  border-radius: 2px;\\n  border: 1px solid\\n    \", \";\\n  color: \", \";\\n  cursor: pointer;\\n  font-weight: 500;\\n  width: 120px;\\n  height: 168px;\\n  background-color: #ffffff;\\n  transition: \", \";\\n  position: relative;\\n  :hover {\\n    border: 1px solid \", \";\\n    color: \", \";\\n  }\\n\\n  .button {\\n    margin-top: 20px;\\n  }\\n\"])), function (props) {\n  return props.selected ? props.theme.primaryBtnBgd : props.theme.selectBorderColorLT;\n}, function (props) {\n  return props.selected ? props.theme.primaryBtnBgd : props.theme.selectBorderColorLT;\n}, function (props) {\n  return props.theme.transition;\n}, function (props) {\n  return props.theme.primaryBtnBgd;\n}, function (props) {\n  return props.theme.primaryBtnBgd;\n});\nvar StyledBox = (0, _styledComponents[\"default\"])(_styledComponents2.CenterVerticalFlexbox)(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  margin-right: 12px;\\n\"])));\nvar StyledCloudName = _styledComponents[\"default\"].div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  font-size: 12px;\\n  margin-top: 12px;\\n  margin-bottom: 4px;\\n\"])));\nvar StyledUserName = _styledComponents[\"default\"].div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  font-size: 11px;\\n  margin-top: 8px;\\n  text-align: center;\\n  color: \", \";\\n  overflow: hidden;\\n  width: 100px;\\n  text-overflow: ellipsis;\\n\"])), function (props) {\n  return props.theme.primaryBtnActBgd;\n});\nvar LoginButton = function LoginButton(_ref) {\n  var onClick = _ref.onClick;\n  return /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.Button, {\n    className: \"login-button\",\n    link: true,\n    small: true,\n    onClick: onClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(_icons.Login, null), \"Login\");\n};\nvar LogoutButton = function LogoutButton(_ref2) {\n  var onClick = _ref2.onClick;\n  return /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.Button, {\n    className: \"logout-button\",\n    link: true,\n    small: true,\n    onClick: onClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(_icons.Logout, null), \"Logout\");\n};\nvar ActionButton = function ActionButton(_ref3) {\n  var isConnected = _ref3.isConnected,\n    _ref3$actionName = _ref3.actionName,\n    actionName = _ref3$actionName === void 0 ? null : _ref3$actionName,\n    isReady = _ref3.isReady;\n  return isConnected && actionName ? /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.Button, {\n    className: \"cloud-tile__action\",\n    small: true,\n    secondary: true,\n    disabled: !isReady\n  }, isReady ? actionName : /*#__PURE__*/_react[\"default\"].createElement(_loadingSpinner[\"default\"], {\n    size: 12\n  })) : null;\n};\nvar CloudTile = function CloudTile(_ref4) {\n  var onSelect = _ref4.onSelect,\n    _ref4$onConnect = _ref4.onConnect,\n    onConnect = _ref4$onConnect === void 0 ? null : _ref4$onConnect,\n    _ref4$onLogout = _ref4.onLogout,\n    onLogout = _ref4$onLogout === void 0 ? null : _ref4$onLogout,\n    _ref4$actionName = _ref4.actionName,\n    actionName = _ref4$actionName === void 0 ? null : _ref4$actionName,\n    cloudProvider = _ref4.cloudProvider,\n    onSetCloudProvider = _ref4.onSetCloudProvider,\n    isSelected = _ref4.isSelected,\n    isConnected = _ref4.isConnected,\n    _ref4$isReady = _ref4.isReady,\n    isReady = _ref4$isReady === void 0 ? true : _ref4$isReady;\n  var userName = typeof cloudProvider.getUserName === 'function' ? cloudProvider.getUserName() : null;\n  var onClickConnect = typeof onConnect === 'function' ? onConnect : function () {\n    return cloudProvider.login(function () {\n      return onSetCloudProvider(cloudProvider.name);\n    });\n  };\n  var onClickLogout = typeof onLogout === 'function' ? onLogout : function () {\n    return cloudProvider.logout(function () {\n      return isSelected ? onSetCloudProvider(null) : null;\n    });\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(StyledBox, null, /*#__PURE__*/_react[\"default\"].createElement(StyledTileWrapper, {\n    onClick: isConnected ? onSelect : onClickConnect,\n    selected: isSelected\n  }, /*#__PURE__*/_react[\"default\"].createElement(StyledCloudName, null, cloudProvider.displayName || cloudProvider.name), cloudProvider.icon ? /*#__PURE__*/_react[\"default\"].createElement(cloudProvider.icon, {\n    height: \"64px\"\n  }) : null, /*#__PURE__*/_react[\"default\"].createElement(ActionButton, {\n    isConnected: isConnected,\n    actionName: actionName,\n    isReady: isReady\n  }), userName && /*#__PURE__*/_react[\"default\"].createElement(StyledUserName, null, userName), isSelected && /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.CheckMark, null)), isConnected ? /*#__PURE__*/_react[\"default\"].createElement(LogoutButton, {\n    onClick: onClickLogout\n  }) : /*#__PURE__*/_react[\"default\"].createElement(LoginButton, {\n    onClick: onClickConnect\n  }));\n};\nvar _default = CloudTile;\nexports[\"default\"] = _default;","map":{"version":3,"names":["Object","defineProperty","exports","value","_taggedTemplateLiteral2","_interopRequireDefault","require","_react","_styledComponents","_icons","_styledComponents2","_loadingSpinner","_templateObject","_templateObject2","_templateObject3","_templateObject4","StyledTileWrapper","div","attrs","props","selected","theme","primaryBtnBgd","selectBorderColorLT","transition","StyledBox","CenterVerticalFlexbox","StyledCloudName","StyledUserName","primaryBtnActBgd","LoginButton","_ref","onClick","createElement","Button","className","link","small","Login","LogoutButton","_ref2","Logout","ActionButton","_ref3","isConnected","_ref3$actionName","actionName","isReady","secondary","disabled","size","CloudTile","_ref4","onSelect","_ref4$onConnect","onConnect","_ref4$onLogout","onLogout","_ref4$actionName","cloudProvider","onSetCloudProvider","isSelected","_ref4$isReady","userName","getUserName","onClickConnect","login","name"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/modals/cloud-tile.tsx"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport {Logout, Login} from '../common/icons';\nimport {CenterVerticalFlexbox, Button, CheckMark} from '../common/styled-components';\nimport LoadingSpinner from '../common/loading-spinner';\nimport {Provider} from '@kepler.gl/cloud-providers';\n\ninterface StyledTileWrapperProps {\n  selected?: boolean;\n}\n\nconst StyledTileWrapper = styled.div.attrs({\n  className: 'provider-tile__wrapper'\n})<StyledTileWrapperProps>`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  border-radius: 2px;\n  border: 1px solid\n    ${props => (props.selected ? props.theme.primaryBtnBgd : props.theme.selectBorderColorLT)};\n  color: ${props => (props.selected ? props.theme.primaryBtnBgd : props.theme.selectBorderColorLT)};\n  cursor: pointer;\n  font-weight: 500;\n  width: 120px;\n  height: 168px;\n  background-color: #ffffff;\n  transition: ${props => props.theme.transition};\n  position: relative;\n  :hover {\n    border: 1px solid ${props => props.theme.primaryBtnBgd};\n    color: ${props => props.theme.primaryBtnBgd};\n  }\n\n  .button {\n    margin-top: 20px;\n  }\n`;\n\nconst StyledBox = styled(CenterVerticalFlexbox)`\n  margin-right: 12px;\n`;\n\nconst StyledCloudName = styled.div`\n  font-size: 12px;\n  margin-top: 12px;\n  margin-bottom: 4px;\n`;\n\nconst StyledUserName = styled.div`\n  font-size: 11px;\n  margin-top: 8px;\n  text-align: center;\n  color: ${props => props.theme.primaryBtnActBgd};\n  overflow: hidden;\n  width: 100px;\n  text-overflow: ellipsis;\n`;\n\ninterface OnClickProps {\n  onClick?: React.MouseEventHandler<HTMLDivElement>;\n}\n\nconst LoginButton = ({onClick}: OnClickProps) => (\n  <Button className=\"login-button\" link small onClick={onClick}>\n    <Login />\n    Login\n  </Button>\n);\n\nconst LogoutButton = ({onClick}: OnClickProps) => (\n  <Button className=\"logout-button\" link small onClick={onClick}>\n    <Logout />\n    Logout\n  </Button>\n);\n\ninterface ActionButtonProps {\n  isConnected?: boolean;\n  actionName?: string | null;\n  isReady?: boolean;\n}\n\nconst ActionButton = ({isConnected, actionName = null, isReady}: ActionButtonProps) =>\n  isConnected && actionName ? (\n    <Button className=\"cloud-tile__action\" small secondary disabled={!isReady}>\n      {isReady ? actionName : <LoadingSpinner size={12} />}\n    </Button>\n  ) : null;\n\ninterface CloudTileProps {\n  onSelect?: React.MouseEventHandler<HTMLDivElement>;\n  // default to login\n  onConnect?: (() => void) | null;\n  // default to logout\n  onLogout?: (() => void) | null;\n  // action name\n  actionName?: string | null;\n  // cloud provider class\n  cloudProvider: Provider;\n  // function to take after login or logout\n  onSetCloudProvider: (providerName: string | null) => void;\n  // whether provider is selected as currentProvider\n  isSelected?: boolean;\n  // whether user has logged in\n  isConnected?: boolean;\n  isReady?: boolean;\n}\n\nconst CloudTile: React.FC<CloudTileProps> = ({\n  // action when click on the tile\n  onSelect,\n  // default to login\n  onConnect = null,\n  // default to logout\n  onLogout = null,\n  // action name\n  actionName = null,\n  // cloud provider class\n  cloudProvider,\n  // function to take after login or logout\n  onSetCloudProvider,\n  // whether provider is selected as currentProvider\n  isSelected,\n  // whether user has logged in\n  isConnected,\n\n  isReady = true\n}) => {\n  const userName =\n    typeof cloudProvider.getUserName === 'function' ? cloudProvider.getUserName() : null;\n\n  const onClickConnect =\n    typeof onConnect === 'function'\n      ? onConnect\n      : () => cloudProvider.login(() => onSetCloudProvider(cloudProvider.name));\n\n  const onClickLogout =\n    typeof onLogout === 'function'\n      ? onLogout\n      : () => cloudProvider.logout(() => (isSelected ? onSetCloudProvider(null) : null));\n\n  return (\n    <StyledBox>\n      <StyledTileWrapper onClick={isConnected ? onSelect : onClickConnect} selected={isSelected}>\n        <StyledCloudName>{cloudProvider.displayName || cloudProvider.name}</StyledCloudName>\n        {cloudProvider.icon ? <cloudProvider.icon height=\"64px\" /> : null}\n        <ActionButton isConnected={isConnected} actionName={actionName} isReady={isReady} />\n        {userName && <StyledUserName>{userName}</StyledUserName>}\n        {isSelected && <CheckMark />}\n      </StyledTileWrapper>\n      {isConnected ? (\n        <LogoutButton onClick={onClickLogout} />\n      ) : (\n        <LoginButton onClick={onClickConnect} />\n      )}\n    </StyledBox>\n  );\n};\n\nexport default CloudTile;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}