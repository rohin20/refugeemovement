{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mergeMessages = exports.flattenMessages = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _utils = require(\"./utils\");\nvar _console = _interopRequireDefault(require(\"global/console\"));\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\n\n// Flat messages since react-intl does not seem to support nested structures\n// Adapted from https://medium.com/siren-apparel-press/internationalization-and-localization-of-sirenapparel-eu-sirenapparel-us-and-sirenapparel-asia-ddee266066a2\nvar flattenMessages = function flattenMessages(nestedMessages) {\n  var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return Object.keys(nestedMessages).reduce(function (messages, key) {\n    var value = nestedMessages[key];\n    var prefixedKey = prefix ? \"\".concat(prefix, \".\").concat(key) : key;\n    if (typeof value === 'string') {\n      messages[prefixedKey] = value;\n    } else {\n      Object.assign(messages, flattenMessages(value, prefixedKey));\n    }\n    return messages;\n  }, {});\n};\nexports.flattenMessages = flattenMessages;\nvar mergeMessages = function mergeMessages(defaultMessages, userMessages) {\n  if (!(0, _utils.isObject)(userMessages) || !(0, _utils.isObject)(userMessages.en)) {\n    _console[\"default\"].error('message should be an object and contain at least the `en` translation. Read more at https://docs.kepler.gl/docs/api-reference/localization');\n    return defaultMessages;\n  }\n  var userEnFlat = flattenMessages(userMessages.en);\n  return Object.keys(defaultMessages).reduce(function (acc, key) {\n    return _objectSpread(_objectSpread({}, acc), {}, (0, _defineProperty2[\"default\"])({}, key, key === 'en' ? _objectSpread(_objectSpread({}, defaultMessages.en), userEnFlat) : _objectSpread(_objectSpread(_objectSpread({}, defaultMessages[key]), userEnFlat), flattenMessages(userMessages[key] || {}))));\n  }, {});\n};\nexports.mergeMessages = mergeMessages;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","mergeMessages","flattenMessages","_defineProperty2","_utils","_console","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","nestedMessages","reduce","messages","key","prefixedKey","assign"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/utils/src/locale-utils.ts"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {isObject} from './utils';\nimport Console from 'global/console';\n\n// Flat messages since react-intl does not seem to support nested structures\n// Adapted from https://medium.com/siren-apparel-press/internationalization-and-localization-of-sirenapparel-eu-sirenapparel-us-and-sirenapparel-asia-ddee266066a2\nexport const flattenMessages = (nestedMessages, prefix = '') => {\n  return Object.keys(nestedMessages).reduce((messages, key) => {\n    const value = nestedMessages[key];\n    const prefixedKey = prefix ? `${prefix}.${key}` : key;\n    if (typeof value === 'string') {\n      messages[prefixedKey] = value;\n    } else {\n      Object.assign(messages, flattenMessages(value, prefixedKey));\n    }\n    return messages;\n  }, {});\n};\n\nexport const mergeMessages = (defaultMessages, userMessages) => {\n  if (!isObject(userMessages) || !isObject(userMessages.en)) {\n    Console.error(\n      'message should be an object and contain at least the `en` translation. Read more at https://docs.kepler.gl/docs/api-reference/localization'\n    );\n\n    return defaultMessages;\n  }\n\n  const userEnFlat = flattenMessages(userMessages.en);\n  return Object.keys(defaultMessages).reduce(\n    (acc, key) => ({\n      ...acc,\n      [key]:\n        key === 'en'\n          ? {...defaultMessages.en, ...userEnFlat}\n          : {...defaultMessages[key], ...userEnFlat, ...flattenMessages(userMessages[key] || {})}\n    }),\n    {}\n  );\n};\n"],"mappings":";;;;;;;;;;;AAoBA;;AACA;;;;;;;AAGA;;AACgE,IAAAA,sBAAA,GAAAC,OAAA,+CAAP;AAErDC,MAAA,CAAAC,cAAc,CAAAC,OAAA,EAAe,YAA7B;EACAC,KAAA,EAAM;;AACND,OAAA,CAAIE,aAAA,GAAAF,OAAiB,CAAAG,eAAU;AAE9B,IAAAC,gBAAM,GAAAR,sBAAA,CAAAC,OAAA;AAEN,IAAAQ,MAAA,GAAAR,OAAA;AACD,IAAAS,QAAO,GAAAV,sBAAP,CAAAC,OAAA;AAEH,SAXMU,QAAAC,MAAA,EAAAC,cAAA;EAAA,IAAAC,IAAA,GAAAZ,MAAA,CAAAY,IAAA,CAAAF,MAAA;EAAA,IAAAV,MAAA,CAAAa,qBAAA;IAAA,IAAAC,OAAA,GAAAd,MAAA,CAAAa,qBAAA,CAAAH,MAAA;IAAA,IAAAC,cAAA,EAAAG,OAAA,GAAAA,OAAA,CAAAC,MAAA,WAAAC,GAAA;MAAA,OAAAhB,MAAA,CAAAiB,wBAAA,CAAAP,MAAA,EAAAM,GAAA,EAAAE,UAAA;IAAA;IAAAN,IAAA,CAAAO,IAAA,CAAAC,KAAA,CAAAR,IAAA,EAAAE,OAAA;EAAA;EAAA,OAAAF,IAAA;AAAA;;;;;;;;;;;;;;;;;;;AAaA;AACL;AACE,IAAAP,eAAA,YACEA,gBAAAgB,cAAA;;EAGF,OAAArB,MAAO,CAAAY,IAAA,CAAAS,cAAP,EAAAC,MAAA,WAAAC,QAAA,EAAAC,GAAA;IACD,IAAArB,KAAA,GAAAkB,cAAA,CAAAG,GAAA;;IAGD,WAAarB,KAAN,KAAY;MACjBoB,QAAA,CAAAE,WAAA,IAAAtB,KAAA;IADK,CAQL,MARF;MAVKH,MAAA,CAAA0B,MAAA,CAAAH,QAAA,EAAAlB,eAAA,CAAAF,KAAA,EAAAsB,WAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}