{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getQuantileDomain = getQuantileDomain;\nexports.getOrdinalDomain = getOrdinalDomain;\nexports.getLinearDomain = getLinearDomain;\nexports.getLogDomain = getLogDomain;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _dataUtils = require(\"./data-utils\");\nvar _d3Array = require(\"d3-array\"); /**\n                                    * return quantile domain for an array of data\n                                    */\nfunction getQuantileDomain(data, valueAccessor, sortFunc) {\n  var values = typeof valueAccessor === 'function' ? data.map(valueAccessor) : data;\n  return values.filter(_dataUtils.notNullorUndefined).sort(sortFunc);\n}\n/**\n * return ordinal domain for a data container\n */\n\nfunction getOrdinalDomain(dataContainer, valueAccessor) {\n  var values = dataContainer.mapIndex(valueAccessor);\n  return (0, _dataUtils.unique)(values).filter(_dataUtils.notNullorUndefined).sort();\n}\n/**\n * return linear domain for an array of data\n */\n\nfunction getLinearDomain(data, valueAccessor) {\n  var range = typeof valueAccessor === 'function' ? (0, _d3Array.extent)(data, valueAccessor) : (0, _d3Array.extent)(data);\n  return range.map(function (d, i) {\n    return d === undefined ? i : d;\n  });\n}\n/**\n * return linear domain for an array of data. A log scale domain cannot contain 0\n */\n\nfunction getLogDomain(data, valueAccessor) {\n  var _getLinearDomain = getLinearDomain(data, valueAccessor),\n    _getLinearDomain2 = (0, _slicedToArray2[\"default\"])(_getLinearDomain, 2),\n    d0 = _getLinearDomain2[0],\n    d1 = _getLinearDomain2[1];\n  return [d0 === 0 ? 1e-5 : d0, d1];\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","getQuantileDomain","getOrdinalDomain","getLinearDomain","getLogDomain","_slicedToArray2","_dataUtils","_d3Array","data","valueAccessor","sortFunc","values","map","filter","notNullorUndefined","sort","unique","range","d","i","undefined","_getLinearDomain2","_getLinearDomain","d0","d1"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/utils/src/data-scale-utils.ts"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {notNullorUndefined, unique} from './data-utils';\nimport {extent} from 'd3-array';\nimport {DataContainerInterface} from './data-container-interface';\n\ntype dataValueAccessor = <T>(param: T) => T;\ntype dataContainerValueAccessor = (d: {index: number}, dc: DataContainerInterface) => any;\ntype sort = (a: any, b: any) => any;\n/**\n * return quantile domain for an array of data\n */\nexport function getQuantileDomain(\n  data: any[],\n  valueAccessor?: dataValueAccessor,\n  sortFunc?: sort\n): number[] {\n  const values = typeof valueAccessor === 'function' ? data.map(valueAccessor) : data;\n\n  return values.filter(notNullorUndefined).sort(sortFunc);\n}\n\n/**\n * return ordinal domain for a data container\n */\nexport function getOrdinalDomain(\n  dataContainer: DataContainerInterface,\n  valueAccessor: dataContainerValueAccessor\n): string[] {\n  const values = dataContainer.mapIndex(valueAccessor);\n\n  return unique(values)\n    .filter(notNullorUndefined)\n    .sort();\n}\n\n/**\n * return linear domain for an array of data\n */\nexport function getLinearDomain(\n  data: number[],\n  valueAccessor?: dataValueAccessor\n): [number, number] {\n  const range = typeof valueAccessor === 'function' ? extent(data, valueAccessor) : extent(data);\n  return range.map((d: undefined | number, i: number) => (d === undefined ? i : d)) as [\n    number,\n    number\n  ];\n}\n\n/**\n * return linear domain for an array of data. A log scale domain cannot contain 0\n */\nexport function getLogDomain(data: any[], valueAccessor: dataValueAccessor): [number, number] {\n  const [d0, d1] = getLinearDomain(data, valueAccessor);\n  return [d0 === 0 ? 1e-5 : d0, d1];\n}\n"],"mappings":";;;;;;;;;;;;;;AAoBA;;AACA;;AArBA;;AAEA;;AAEA,IAAAA,sBAAA,GAAAC,OAAA;AAEAC,MAAA,CAAAC,cAAA,CAAAC,OAAA;EACAC,KAAA;AACA;AACAD,OAAA,CAAAE,iBAAA,GAAAA,iBAAA;AACAF,OAAA,CAAAG,gBAAA,GAAAA,gBAAA;AACAH,OAAA,CAAAI,eAAA,GAAAA,eAAA;AACAJ,OAAA,CAAAK,YAAA,GAAAA,YAAA;AAEA,IAAAC,eAAA,GAAAV,sBAAA,CAAAC,OAAA;AAEA,IAAAU,UAAA,GAAAV,OAAA;AAEA,IAAAW,QAAA,GAAAX,OAAA;;AASA;AACA,SAAAK,kBAAAO,IAAA,EAAAC,aAAA,EAAAC,QAAA;EACA,IAAAC,MAAA,UAAAF,aAAA,kBAAAD,IAAA,CAAAI,GAAA,CAAAH,aAAA,IAAAD,IAAA;EACO,OAASG,MAAA,CAAAE,MAAA,CAAAP,UAEd,CAAAQ,kBACA,EAAAC,IACU,CAAAL,QAAA;AACV;AAEA;AACD;AAED;;;;EAGO,OAAS,IAAAJ,UAAA,CAAAU,MACd,EAAAL,MAAA,CADK,CAAAE,MAEL,CAAAP,UACU,CAAAQ,kBAAA,EAAAC,IAAA;AACV;AAEA;AAGD;AAED;;;;EAGO,OAASE,KAAA,CAAAL,GAAA,WAATM,CAAA,EAELC,CAAA;IAEA,OAAWD,CAAA,KAAGE,SAAO,GAAAD,CAAA,GAAAD,CAAP;EACd;AAAiB;AAAA;AAIlB;AAED;;;;IAGOG,iBAAsB,GAAtB,EAAmC,EAAAhB,eAAoD,aAAAiB,gBAAA;IAAAC,EAAA,GAAAF,iBAC3E;IAD2EG,EAAA,GAAAH,iBAAA;EAAA,QAAAE,EAAA,gBAAAA,EAAA,EAAAC,EAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}