{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.hexagonAggregation = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _aggregationLayers = require(\"@deck.gl/aggregation-layers\");\nvar _cpuAggregator = _interopRequireWildcard(require(\"../layer-utils/cpu-aggregator\"));\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar hexagonAggregation = {\n  key: 'position',\n  updateSteps: [{\n    key: 'aggregate',\n    triggers: {\n      cellSize: {\n        prop: 'radius'\n      },\n      position: {\n        prop: 'getPosition',\n        updateTrigger: 'getPosition'\n      },\n      aggregator: {\n        prop: 'hexagonAggregator'\n      }\n    },\n    updater: _cpuAggregator.getAggregatedData\n  }]\n};\nexports.hexagonAggregation = hexagonAggregation;\nvar ScaleEnhancedHexagonLayer = /*#__PURE__*/function (_HexagonLayer) {\n  (0, _inherits2[\"default\"])(ScaleEnhancedHexagonLayer, _HexagonLayer);\n  var _super = _createSuper(ScaleEnhancedHexagonLayer);\n  function ScaleEnhancedHexagonLayer() {\n    (0, _classCallCheck2[\"default\"])(this, ScaleEnhancedHexagonLayer);\n    return _super.apply(this, arguments);\n  }\n  (0, _createClass2[\"default\"])(ScaleEnhancedHexagonLayer, [{\n    key: \"initializeState\",\n    value: function initializeState() {\n      var cpuAggregator = new _cpuAggregator[\"default\"]({\n        aggregation: hexagonAggregation\n      });\n      this.state = {\n        cpuAggregator: cpuAggregator,\n        aggregatorState: cpuAggregator.state\n      };\n      var attributeManager = this.getAttributeManager();\n      attributeManager.add({\n        positions: {\n          size: 3,\n          accessor: 'getPosition'\n        }\n      });\n    }\n  }]);\n  return ScaleEnhancedHexagonLayer;\n}(_aggregationLayers.HexagonLayer);\nexports[\"default\"] = ScaleEnhancedHexagonLayer;\nScaleEnhancedHexagonLayer.layerName = 'ScaleEnhancedHexagonLayer';","map":{"version":3,"names":["exports","hexagonAggregation","_classCallCheck2","_interopRequireDefault","require","_createClass2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_aggregationLayers","_cpuAggregator","_interopRequireWildcard","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","updater","getAggregatedData","ScaleEnhancedHexagonLayer","_HexagonLayer","_super","cpuAggregator"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/deckgl-layers/src/hexagon-layer/enhanced-hexagon-layer.ts"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {HexagonLayer} from '@deck.gl/aggregation-layers';\nimport CPUAggregator, {AggregationType, getAggregatedData} from '../layer-utils/cpu-aggregator';\n\nexport const hexagonAggregation: AggregationType = {\n  key: 'position',\n  updateSteps: [\n    {\n      key: 'aggregate',\n      triggers: {\n        cellSize: {\n          prop: 'radius'\n        },\n        position: {\n          prop: 'getPosition',\n          updateTrigger: 'getPosition'\n        },\n        aggregator: {\n          prop: 'hexagonAggregator'\n        }\n      },\n      updater: getAggregatedData\n    }\n  ]\n};\n\nexport default class ScaleEnhancedHexagonLayer extends HexagonLayer<any> {\n  initializeState() {\n    const cpuAggregator = new CPUAggregator({\n      aggregation: hexagonAggregation\n    });\n\n    this.state = {\n      cpuAggregator,\n      aggregatorState: cpuAggregator.state\n    };\n    const attributeManager = this.getAttributeManager();\n    attributeManager.add({\n      positions: {size: 3, accessor: 'getPosition'}\n    });\n  }\n}\n\nScaleEnhancedHexagonLayer.layerName = 'ScaleEnhancedHexagonLayer';\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBOA,OAAM,cAAAA,OAAsC,CAAAC,kBAAA;AAEjD,IAAAC,gBACE,GAAAC,sBAAA,CAAAC,OAAA;AAEE,IAAAC,aAAU,GAAAF,sBAAA,CAAAC,OAAA;AAEN,IAAAE,UAAM,GAAAH,sBAAA,CAAAC,OAAA;AAER,IAAAG,2BAAU,GAAAJ,sBAAA,CAAAC,OAAA;AAER,IAAAI,gBAAA,GAAeL,sBAAA,CAAAC,OAAA;AAEjB,IAAAK,kBAAY,GAAAL,OAAA;AAAA,IAAAM,cAAA,GAAAC,uBAAA,CAAAP,OAAA;AAId,SAAAQ,YAASA,CAAAC,OAAA;EAAA,IAAAC,yBAAA,GAAAC,yBAAA;EAAA,gBAAAC,qBAAA;IAAA,IAAAC,KAAA,OAAAT,gBAAA,aAAAK,OAAA;MAAAK,MAAA;IAAA,IAAAJ,yBAAA;MAAA,IAAAK,SAAA,OAAAX,gBAAA,mBAAAY,WAAA;MAAAF,MAAA,GAAAG,OAAA,CAAAC,SAAA,CAAAL,KAAA,EAAAM,SAAA,EAAAJ,SAAA;IAAA;MAAAD,MAAA,GAAAD,KAAA,CAAAO,KAAA,OAAAD,SAAA;IAAA;IAAA,WAAAhB,2BAAA,mBAAAW,MAAA;EAAA;AAAA;AAjBoC,SAA5CH,0BAAA;EAAA,WAAAM,OAAA,qBAAAA,OAAA,CAAAC,SAAA;EAAA,IAAAD,OAAA,CAAAC,SAAA,CAAAG,IAAA;EAAA,WAAAC,KAAA;EAAA;IAAAC,OAAA,CAAAC,SAAA,CAAAC,OAAA,CAAAC,IAAA,CAAAT,OAAA,CAAAC,SAAA,CAAAK,OAAA;IAAA;EAAA,SAAAI,CAAA;IAAA;EAAA;AAAA;;KAsBc;;;;;;;;;;;;YACnB;MACE;IACE;IADsCC,OAAxC,EAAAtB,cAAA,CAAAuB;EAIA;AACE;AACAjC,OAAA,CAAAC,kBAAiB,GAAAA,kBAAc;AAEjC,IAAAiC,yBAAyB,gBAAK,UAA9BC,aAAA;EACA,IAAA7B,UAAA,WAAqB,EAAA4B,yBAAA,EAAAC,aAAA;EACP,IAAAC,MAAA,GAAIxB,YAAL,CAAAsB,yBAAA;EAAA,SAAAA,0BAAA;IADQ,IAArBhC,gBAAA,mBAAAgC,yBAAA;IAGD,OAAAE,MAAA,CAAAZ,KAAA,OAAAD,SAAA;;EAdoD,IAAAlB,aAAA,aAAA6B,yB;;;MAiBvD,IAAAG,aAAA,GAA0B,IAAA3B,cAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}