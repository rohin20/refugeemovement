{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.DatasetTabs = exports.DatasetModalTab = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _styledComponents = _interopRequireWildcard(require(\"styled-components\"));\nvar _datasetLabel = _interopRequireDefault(require(\"../common/dataset-label\"));\nvar _dataTable = _interopRequireDefault(require(\"../common/data-table\"));\nvar _reselect = require(\"reselect\");\nvar _cellSize = require(\"../common/data-table/cell-size\");\nvar _canvas = _interopRequireDefault(require(\"../common/data-table/canvas\"));\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar MIN_STATS_CELL_SIZE = 142;\nvar dgSettings = {\n  sidePadding: '38px',\n  verticalPadding: '16px',\n  height: '36px'\n};\nvar StyledModal = _styledComponents[\"default\"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  min-height: 85vh;\\n  overflow: hidden;\\n  display: flex;\\n\"])));\nvar DatasetCatalog = _styledComponents[\"default\"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  padding: \", \" \", \" 0;\\n\"])), dgSettings.verticalPadding, dgSettings.sidePadding);\nvar DatasetModalTab = _styledComponents[\"default\"].div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  align-items: center;\\n  border-bottom: 3px solid \", \";\\n  cursor: pointer;\\n  display: flex;\\n  height: 35px;\\n  margin: 0 3px;\\n  padding: 0 5px;\\n\\n  :first-child {\\n    margin-left: 0;\\n    padding-left: 0;\\n  }\\n\"])), function (props) {\n  return props.active ? 'black' : 'transparent';\n});\nexports.DatasetModalTab = DatasetModalTab;\nvar DatasetTabsUnmemoized = function DatasetTabsUnmemoized(_ref) {\n  var activeDataset = _ref.activeDataset,\n    datasets = _ref.datasets,\n    showDatasetTable = _ref.showDatasetTable;\n  return /*#__PURE__*/_react[\"default\"].createElement(DatasetCatalog, {\n    className: \"dataset-modal-catalog\"\n  }, Object.values(datasets).map(function (dataset) {\n    return /*#__PURE__*/_react[\"default\"].createElement(DatasetModalTab, {\n      className: \"dataset-modal-tab\",\n      active: dataset === activeDataset,\n      key: dataset.id,\n      onClick: function onClick() {\n        return showDatasetTable(dataset.id);\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_datasetLabel[\"default\"], {\n      dataset: dataset\n    }));\n  }));\n};\nvar DatasetTabs = /*#__PURE__*/_react[\"default\"].memo(DatasetTabsUnmemoized);\nexports.DatasetTabs = DatasetTabs;\nDatasetTabs.displayName = 'DatasetTabs';\nDataTableModalFactory.deps = [_dataTable[\"default\"]];\nvar TableContainer = _styledComponents[\"default\"].div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  min-height: 100%;\\n  max-height: 100%;\\n\"])));\nfunction DataTableModalFactory(DataTable) {\n  var DataTableModal = /*#__PURE__*/function (_React$Component) {\n    (0, _inherits2[\"default\"])(DataTableModal, _React$Component);\n    var _super = _createSuper(DataTableModal);\n    function DataTableModal() {\n      var _this;\n      (0, _classCallCheck2[\"default\"])(this, DataTableModal);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"datasetCellSizeCache\", {});\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"dataId\", function (_ref2) {\n        var _ref2$dataId = _ref2.dataId,\n          dataId = _ref2$dataId === void 0 ? '' : _ref2$dataId;\n        return dataId;\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"datasets\", function (props) {\n        return props.datasets;\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"fields\", function (_ref3) {\n        var datasets = _ref3.datasets,\n          _ref3$dataId = _ref3.dataId,\n          dataId = _ref3$dataId === void 0 ? '' : _ref3$dataId;\n        return (datasets[dataId] || {}).fields;\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"columns\", (0, _reselect.createSelector)(_this.fields, function (fields) {\n        return fields.map(function (f) {\n          return f.name;\n        });\n      }));\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"colMeta\", (0, _reselect.createSelector)(_this.fields, function (fields) {\n        return fields.reduce(function (acc, _ref4) {\n          var name = _ref4.name,\n            displayName = _ref4.displayName,\n            type = _ref4.type,\n            filterProps = _ref4.filterProps,\n            format = _ref4.format;\n          return _objectSpread(_objectSpread({}, acc), {}, (0, _defineProperty2[\"default\"])({}, name, _objectSpread(_objectSpread({\n            name: displayName || name,\n            type: type\n          }, format ? {\n            format: format\n          } : {}), filterProps !== null && filterProps !== void 0 && filterProps.columnStats ? {\n            columnStats: filterProps.columnStats\n          } : {})));\n        }, {});\n      }));\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"cellSizeCache\", (0, _reselect.createSelector)(_this.dataId, _this.datasets, function (dataId, datasets) {\n        if (!datasets[dataId]) {\n          return {};\n        }\n        var _datasets$dataId = datasets[dataId],\n          fields = _datasets$dataId.fields,\n          dataContainer = _datasets$dataId.dataContainer;\n        var showCalculate = null;\n        if (!_this.datasetCellSizeCache[dataId]) {\n          showCalculate = true;\n        } else if (_this.datasetCellSizeCache[dataId].fields !== fields || _this.datasetCellSizeCache[dataId].dataContainer !== dataContainer) {\n          showCalculate = true;\n        }\n        if (!showCalculate) {\n          return _this.datasetCellSizeCache[dataId].cellSizeCache;\n        }\n        var cellSizeCache = fields.reduce(function (acc, field, colIdx) {\n          return _objectSpread(_objectSpread({}, acc), {}, (0, _defineProperty2[\"default\"])({}, field.name, (0, _cellSize.renderedSize)({\n            text: {\n              dataContainer: dataContainer,\n              column: field.name\n            },\n            colIdx: colIdx,\n            type: field.type,\n            fontSize: _this.props.theme.cellFontSize,\n            font: _this.props.theme.fontFamily,\n            minCellSize: MIN_STATS_CELL_SIZE\n          })));\n        }, {}); // save it to cache\n\n        _this.datasetCellSizeCache[dataId] = {\n          cellSizeCache: cellSizeCache,\n          fields: fields,\n          dataContainer: dataContainer\n        };\n        return cellSizeCache;\n      }));\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"copyTableColumn\", function (column) {\n        var _this$props = _this.props,\n          _this$props$dataId = _this$props.dataId,\n          dataId = _this$props$dataId === void 0 ? '' : _this$props$dataId,\n          copyTableColumn = _this$props.copyTableColumn;\n        copyTableColumn(dataId, column);\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"pinTableColumn\", function (column) {\n        var _this$props2 = _this.props,\n          _this$props2$dataId = _this$props2.dataId,\n          dataId = _this$props2$dataId === void 0 ? '' : _this$props2$dataId,\n          pinTableColumn = _this$props2.pinTableColumn;\n        pinTableColumn(dataId, column);\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"sortTableColumn\", function (column, mode) {\n        var _this$props3 = _this.props,\n          _this$props3$dataId = _this$props3.dataId,\n          dataId = _this$props3$dataId === void 0 ? '' : _this$props3$dataId,\n          sortTableColumn = _this$props3.sortTableColumn;\n        sortTableColumn(dataId, column, mode);\n      });\n      return _this;\n    }\n    (0, _createClass2[\"default\"])(DataTableModal, [{\n      key: \"render\",\n      value: function render() {\n        var _this$props4 = this.props,\n          datasets = _this$props4.datasets,\n          dataId = _this$props4.dataId,\n          showDatasetTable = _this$props4.showDatasetTable,\n          _this$props4$showTab = _this$props4.showTab,\n          showTab = _this$props4$showTab === void 0 ? true : _this$props4$showTab;\n        if (!datasets || !dataId) {\n          return null;\n        }\n        var activeDataset = datasets[dataId];\n        var columns = this.columns(this.props);\n        var colMeta = this.colMeta(this.props);\n        var cellSizeCache = this.cellSizeCache(this.props);\n        return /*#__PURE__*/_react[\"default\"].createElement(StyledModal, {\n          className: \"dataset-modal\",\n          id: \"dataset-modal\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(_canvas[\"default\"], null), /*#__PURE__*/_react[\"default\"].createElement(TableContainer, null, showTab ? /*#__PURE__*/_react[\"default\"].createElement(DatasetTabs, {\n          activeDataset: activeDataset,\n          datasets: datasets,\n          showDatasetTable: showDatasetTable\n        }) : null, datasets[dataId] ? /*#__PURE__*/_react[\"default\"].createElement(DataTable, {\n          key: dataId,\n          dataId: dataId,\n          columns: columns,\n          colMeta: colMeta,\n          cellSizeCache: cellSizeCache,\n          dataContainer: activeDataset.dataContainer,\n          pinnedColumns: activeDataset.pinnedColumns,\n          sortOrder: activeDataset.sortOrder,\n          sortColumn: activeDataset.sortColumn,\n          copyTableColumn: this.copyTableColumn,\n          pinTableColumn: this.pinTableColumn,\n          sortTableColumn: this.sortTableColumn,\n          showStats: true\n        }) : null));\n      }\n    }]);\n    return DataTableModal;\n  }(_react[\"default\"].Component);\n  return (0, _styledComponents.withTheme)(DataTableModal);\n}\nvar _default = DataTableModalFactory;\nexports[\"default\"] = _default;","map":{"version":3,"names":["value","exports","DatasetTabs","DatasetModalTab","_classCallCheck2","_interopRequireDefault","require","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_datasetLabel","_dataTable","_reselect","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","MIN_STATS_CELL_SIZE","dgSettings","sidePadding","verticalPadding","height","StyledModal","_styledComponents","div","_templateObject","_taggedTemplateLiteral2","DatasetCatalog","_templateObject2","_templateObject3","props","active","DatasetTabsUnmemoized","_ref","showDatasetTable","_react","createElement","values","datasets","map","dataset","className","activeDataset","key","id","memo","displayName","DataTableModalFactory","deps","TableContainer","_templateObject4","DataTable","DataTableModal","_React$Component","_super","_createSuper","_this","_len","arguments","length","args","Array","_key","concat","_defineProperty2","_ref2","_ref2$dataId","dataId","_ref3","_ref3$dataId","fields","createSelector","f","name","_ref4","type","filterProps","_objectSpread","acc","format","columnStats","_datasets$dataId","dataContainer","showCalculate","datasetCellSizeCache","cellSizeCache","reduce","field","colIdx","_cellSize","renderedSize","text","column","fontSize","theme","cellFontSize","font","fontFamily","minCellSize","_this$props","_this$props$dataId","copyTableColumn","_this$props2","_this$props2$dataId","pinTableColumn","mode","_this$props3","_this$props3$dataId","sortTableColumn","render","_this$props4","_this$props4$showTab","showTab","columns","colMeta","_canvas"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/modals/data-table-modal.tsx"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport styled, {withTheme} from 'styled-components';\nimport DatasetLabel from '../common/dataset-label';\nimport DataTableFactory from '../common/data-table';\nimport {createSelector} from 'reselect';\nimport {renderedSize} from '../common/data-table/cell-size';\nimport CanvasHack from '../common/data-table/canvas';\nimport KeplerTable, {Datasets} from '@kepler.gl/table';\n\nconst MIN_STATS_CELL_SIZE = 142;\n\nconst dgSettings = {\n  sidePadding: '38px',\n  verticalPadding: '16px',\n  height: '36px'\n};\n\nconst StyledModal = styled.div`\n  min-height: 85vh;\n  overflow: hidden;\n  display: flex;\n`;\n\nconst DatasetCatalog = styled.div`\n  display: flex;\n  padding: ${dgSettings.verticalPadding} ${dgSettings.sidePadding} 0;\n`;\n\ninterface DatasetModalTabProps {\n  active?: boolean;\n}\n\nexport const DatasetModalTab = styled.div<DatasetModalTabProps>`\n  align-items: center;\n  border-bottom: 3px solid ${props => (props.active ? 'black' : 'transparent')};\n  cursor: pointer;\n  display: flex;\n  height: 35px;\n  margin: 0 3px;\n  padding: 0 5px;\n\n  :first-child {\n    margin-left: 0;\n    padding-left: 0;\n  }\n`;\n\ninterface DatasetTabsUnmemoizedProps {\n  activeDataset: KeplerTable;\n  datasets: Datasets;\n  showDatasetTable: (id: string) => void;\n}\n\nconst DatasetTabsUnmemoized: React.FC<DatasetTabsUnmemoizedProps> = ({\n  activeDataset,\n  datasets,\n  showDatasetTable\n}) => (\n  <DatasetCatalog className=\"dataset-modal-catalog\">\n    {Object.values(datasets).map(dataset => (\n      <DatasetModalTab\n        className=\"dataset-modal-tab\"\n        active={dataset === activeDataset}\n        key={dataset.id}\n        onClick={() => showDatasetTable(dataset.id)}\n      >\n        <DatasetLabel dataset={dataset} />\n      </DatasetModalTab>\n    ))}\n  </DatasetCatalog>\n);\n\nexport const DatasetTabs = React.memo(DatasetTabsUnmemoized);\n\nDatasetTabs.displayName = 'DatasetTabs';\n\nDataTableModalFactory.deps = [DataTableFactory];\n\nconst TableContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  min-height: 100%;\n  max-height: 100%;\n`;\n\ninterface DataTableModalProps {\n  theme: any;\n  dataId?: string;\n  sortTableColumn: (id: string, column: string, mode?: string) => void;\n  pinTableColumn: (id: string, column: string) => void;\n  copyTableColumn: (id: string, column: string) => void;\n  datasets: Datasets;\n  showDatasetTable: (id: string) => void;\n  showTab?: boolean;\n}\n\nfunction DataTableModalFactory(\n  DataTable: ReturnType<typeof DataTableFactory>\n): React.ComponentType<Omit<DataTableModalProps, 'theme'>> {\n  class DataTableModal extends React.Component<DataTableModalProps> {\n    datasetCellSizeCache = {};\n    dataId = ({dataId = ''}: DataTableModalProps) => dataId;\n    datasets = (props: DataTableModalProps) => props.datasets;\n    fields = ({datasets, dataId = ''}: DataTableModalProps) => (datasets[dataId] || {}).fields;\n    columns = createSelector(this.fields, fields => fields.map(f => f.name));\n    colMeta = createSelector(this.fields, fields =>\n      fields.reduce(\n        (acc, {name, displayName, type, filterProps, format}) => ({\n          ...acc,\n          [name]: {\n            name: displayName || name,\n            type,\n            ...(format ? {format} : {}),\n            ...(filterProps?.columnStats ? {columnStats: filterProps.columnStats} : {})\n          }\n        }),\n        {}\n      )\n    );\n\n    cellSizeCache = createSelector(this.dataId, this.datasets, (dataId, datasets) => {\n      if (!datasets[dataId]) {\n        return {};\n      }\n      const {fields, dataContainer} = datasets[dataId];\n\n      let showCalculate: boolean | null = null;\n      if (!this.datasetCellSizeCache[dataId]) {\n        showCalculate = true;\n      } else if (\n        this.datasetCellSizeCache[dataId].fields !== fields ||\n        this.datasetCellSizeCache[dataId].dataContainer !== dataContainer\n      ) {\n        showCalculate = true;\n      }\n\n      if (!showCalculate) {\n        return this.datasetCellSizeCache[dataId].cellSizeCache;\n      }\n\n      const cellSizeCache = fields.reduce(\n        (acc, field, colIdx) => ({\n          ...acc,\n          [field.name]: renderedSize({\n            text: {\n              dataContainer,\n              column: field.name\n            },\n            colIdx,\n            type: field.type,\n            fontSize: this.props.theme.cellFontSize,\n            font: this.props.theme.fontFamily,\n            minCellSize: MIN_STATS_CELL_SIZE\n          })\n        }),\n        {}\n      );\n      // save it to cache\n      this.datasetCellSizeCache[dataId] = {\n        cellSizeCache,\n        fields,\n        dataContainer\n      };\n      return cellSizeCache;\n    });\n\n    copyTableColumn = (column: string) => {\n      const {dataId = '', copyTableColumn} = this.props;\n      copyTableColumn(dataId, column);\n    };\n\n    pinTableColumn = (column: string) => {\n      const {dataId = '', pinTableColumn} = this.props;\n      pinTableColumn(dataId, column);\n    };\n\n    sortTableColumn = (column: string, mode?: string) => {\n      const {dataId = '', sortTableColumn} = this.props;\n      sortTableColumn(dataId, column, mode);\n    };\n\n    render() {\n      const {datasets, dataId, showDatasetTable, showTab = true} = this.props;\n      if (!datasets || !dataId) {\n        return null;\n      }\n      const activeDataset = datasets[dataId];\n      const columns = this.columns(this.props);\n      const colMeta = this.colMeta(this.props);\n      const cellSizeCache = this.cellSizeCache(this.props);\n\n      return (\n        <StyledModal className=\"dataset-modal\" id=\"dataset-modal\">\n          <CanvasHack />\n          <TableContainer>\n            {showTab ? (\n              <DatasetTabs\n                activeDataset={activeDataset}\n                datasets={datasets}\n                showDatasetTable={showDatasetTable}\n              />\n            ) : null}\n            {datasets[dataId] ? (\n              <DataTable\n                key={dataId}\n                dataId={dataId}\n                columns={columns}\n                colMeta={colMeta}\n                cellSizeCache={cellSizeCache}\n                dataContainer={activeDataset.dataContainer}\n                pinnedColumns={activeDataset.pinnedColumns}\n                sortOrder={activeDataset.sortOrder}\n                sortColumn={activeDataset.sortColumn}\n                copyTableColumn={this.copyTableColumn}\n                pinTableColumn={this.pinTableColumn}\n                sortTableColumn={this.sortTableColumn}\n                showStats\n              />\n            ) : null}\n          </TableContainer>\n        </StyledModal>\n      );\n    }\n  }\n  return withTheme(DataTableModal);\n}\n\nexport default DataTableModalFactory;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}