{"ast":null,"code":"import _regeneratorRuntime from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nexport function waitForGLTFAssets(_x) {\n  return _waitForGLTFAssets.apply(this, arguments);\n}\nfunction _waitForGLTFAssets() {\n  _waitForGLTFAssets = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(gltfObjects) {\n    var remaining;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          remaining = [];\n          gltfObjects.scenes.forEach(function (scene) {\n            scene.traverse(function (model) {\n              Object.values(model.model.getUniforms()).forEach(function (uniform) {\n                if (uniform.loaded === false) {\n                  remaining.push(uniform);\n                }\n              });\n            });\n          });\n          _context.next = 4;\n          return waitWhileCondition(function () {\n            return remaining.some(function (uniform) {\n              return !uniform.loaded;\n            });\n          });\n        case 4:\n          return _context.abrupt(\"return\", _context.sent);\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _waitForGLTFAssets.apply(this, arguments);\n}\nfunction waitWhileCondition(_x2) {\n  return _waitWhileCondition.apply(this, arguments);\n}\nfunction _waitWhileCondition() {\n  _waitWhileCondition = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(condition) {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          if (!condition()) {\n            _context2.next = 5;\n            break;\n          }\n          _context2.next = 3;\n          return new Promise(function (resolve) {\n            return requestAnimationFrame(resolve);\n          });\n        case 3:\n          _context2.next = 0;\n          break;\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _waitWhileCondition.apply(this, arguments);\n}","map":{"version":3,"names":["waitForGLTFAssets","_x","_waitForGLTFAssets","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","gltfObjects","remaining","wrap","_callee$","_context","prev","next","scenes","forEach","scene","traverse","model","Object","values","getUniforms","uniform","loaded","push","waitWhileCondition","some","abrupt","sent","stop","_x2","_waitWhileCondition","_callee2","condition","_callee2$","_context2","Promise","resolve","requestAnimationFrame"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/layers/node_modules/@deck.gl/mesh-layers/src/scenegraph-layer/gltf-utils.ts"],"sourcesContent":["/* global requestAnimationFrame */\nimport type {GroupNode, ModelNode} from '@luma.gl/experimental';\n\nexport async function waitForGLTFAssets(gltfObjects: {scenes: GroupNode[]}): Promise<void> {\n  const remaining: any[] = [];\n\n  gltfObjects.scenes.forEach(scene => {\n    scene.traverse((model: ModelNode) => {\n      Object.values(model.model.getUniforms()).forEach((uniform: any) => {\n        if (uniform.loaded === false) {\n          remaining.push(uniform);\n        }\n      });\n    });\n  });\n\n  return await waitWhileCondition(() => remaining.some(uniform => !uniform.loaded));\n}\n\nasync function waitWhileCondition(condition: () => boolean): Promise<void> {\n  while (condition()) {\n    await new Promise(resolve => requestAnimationFrame(resolve));\n  }\n}\n"],"mappings":";;AAGA,gBAAsBA,iBAAfA,CAAAC,EAAA;EAAA,OAAAC,kBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAcN,SAAAF,mBAAA;EAAAA,kBAAA,GAAAG,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAdM,SAAAC,QAAiCC,WAAjC;IAAA,IAAAC,SAAA;IAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UACCL,SAAgB,GAAG,EAAzB;UAEAD,WAAW,CAACO,MAAZ,CAAmBC,OAAnB,CAA2B,UAAAC,KAAK,EAAI;YAClCA,KAAK,CAACC,QAAN,CAAgB,UAAAC,KAAD,EAAsB;cACnCC,MAAM,CAACC,MAAP,CAAcF,KAAK,CAACA,KAAN,CAAYG,WAAZ,EAAd,EAAyCN,OAAzC,CAAkD,UAAAO,OAAD,EAAkB;gBACjE,IAAIA,OAAO,CAACC,MAAR,KAAmB,KAAvB,EAA8B;kBAC5Bf,SAAS,CAACgB,IAAV,CAAeF,OAAf;gBACD;cACF,CAJD;YAKD,CAND;UAOD,CARD;UAAAX,QAAA,CAAAE,IAAA;UAAA,OAUaY,kBAAkB,CAAC;YAAA,OAAMjB,SAAS,CAACkB,IAAV,CAAe,UAAAJ,OAAO;cAAA,OAAI,CAACA,OAAO,CAACC,MAAnC;YAAA,EAAP;UAAA,EAA/B;QAAA;UAAA,OAAAZ,QAAA,CAAAgB,MAAA,WAAAhB,QAAA,CAAAiB,IAAA;QAAA;QAAA;UAAA,OAAAjB,QAAA,CAAAkB,IAAA;MAAA;IAAA,GAAAvB,OAAA;EAAA,CACD;EAAA,OAAAN,kBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAEcuB,kBAAfA,CAAAK,GAAA;EAAA,OAAAC,mBAAA,CAAA9B,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAA6B,oBAAA;EAAAA,mBAAA,GAAA5B,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAA2B,SAAkCC,SAAlC;IAAA,OAAA7B,mBAAA,GAAAK,IAAA,UAAAyB,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAvB,IAAA,GAAAuB,SAAA,CAAAtB,IAAA;QAAA;UAAA,KACSoB,SAAS,EAAhB;YAAAE,SAAA,CAAAtB,IAAA;YAAA;UAAA;UAAAsB,SAAA,CAAAtB,IAAA;UAAA,OACQ,IAAIuB,OAAJ,CAAY,UAAAC,OAAO;YAAA,OAAIC,qBAAqB,CAACD,OAAD,CAA5C;UAAA,EAAN;QAAA;UAAAF,SAAA,CAAAtB,IAAA;UAAA;QAAA;QAAA;UAAA,OAAAsB,SAAA,CAAAN,IAAA;MAAA;IAAA,GAAAG,QAAA;EAAA,CAEH;EAAA,OAAAD,mBAAA,CAAA9B,KAAA,OAAAC,SAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}