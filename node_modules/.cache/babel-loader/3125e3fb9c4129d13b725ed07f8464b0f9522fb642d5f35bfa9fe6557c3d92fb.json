{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _classnames2 = _interopRequireDefault(require(\"classnames\"));\nvar _button = _interopRequireDefault(require(\"./button\"));\nvar _icons = require(\"../../common/icons\");\nvar _optionDropdown = _interopRequireDefault(require(\"./option-dropdown\"));\nvar _constants = require(\"@kepler.gl/constants\");\nvar _fieldToken = _interopRequireDefault(require(\"../../common/field-token\"));\nvar _templateObject;\nvar StyledHeaderCell = _styledComponents[\"default\"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  border-bottom: 1px solid \", \";\\n  border-top: 1px solid \", \";\\n  padding-top: \", \"px;\\n  padding-right: 0;\\n  padding-bottom: \", \"px;\\n  padding-left: \", \"px;\\n  align-items: center;\\n  justify-content: space-between;\\n  display: flex;\\n  flex-direction: row;\\n  background-color: \", \";\\n\\n  &:hover {\\n    .more {\\n      color: \", \";\\n    }\\n  }\\n  .n-sort-idx {\\n    font-size: 9px;\\n  }\\n  .details {\\n    font-weight: 500;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: flex-start;\\n    height: 100%;\\n    overflow: hidden;\\n    flex-grow: 1;\\n\\n    .col-name {\\n      display: flex;\\n      align-items: center;\\n      justify-content: space-between;\\n      cursor: pointer;\\n\\n      .col-name__left {\\n        display: flex;\\n        align-items: center;\\n        overflow: hidden;\\n        svg {\\n          margin-left: 6px;\\n        }\\n      }\\n      .col-name__name {\\n        overflow: hidden;\\n        white-space: nowrap;\\n      }\\n    }\\n  }\\n\\n  .more {\\n    color: transparent;\\n    margin-left: 5px;\\n  }\\n\"])), function (props) {\n  return props.theme.headerCellBorderColor;\n}, function (props) {\n  return props.theme.headerCellBorderColor;\n}, function (props) {\n  return props.theme.headerPaddingTop;\n}, function (props) {\n  return props.theme.headerPaddingBottom;\n}, function (props) {\n  return props.theme.cellPaddingSide;\n}, function (props) {\n  return props.theme.headerCellBackground;\n}, function (props) {\n  return props.theme.headerCellIconColor;\n});\nvar HeaderCellFactory = function HeaderCellFactory(FieldToken) {\n  var HeaderCell = function HeaderCell(_ref) {\n    var _classnames;\n    var cellInfo = _ref.cellInfo,\n      columns = _ref.columns,\n      isPinned = _ref.isPinned,\n      props = _ref.props,\n      toggleMoreOptions = _ref.toggleMoreOptions,\n      moreOptionsColumn = _ref.moreOptionsColumn;\n    var columnIndex = cellInfo.columnIndex,\n      key = cellInfo.key,\n      style = cellInfo.style;\n    var colMeta = props.colMeta,\n      _props$sortColumn = props.sortColumn,\n      sortColumn = _props$sortColumn === void 0 ? {} : _props$sortColumn,\n      _sortTableColumn = props.sortTableColumn,\n      _pinTableColumn = props.pinTableColumn,\n      _copyTableColumn = props.copyTableColumn;\n    var column = columns[columnIndex];\n    var isGhost = column.ghost;\n    var isSorted = sortColumn[column];\n    var firstCell = columnIndex === 0;\n    return /*#__PURE__*/_react[\"default\"].createElement(StyledHeaderCell, {\n      className: (0, _classnames2[\"default\"])('header-cell', (_classnames = {}, (0, _defineProperty2[\"default\"])(_classnames, \"column-\".concat(columnIndex), true), (0, _defineProperty2[\"default\"])(_classnames, 'pinned-header-cell', isPinned), (0, _defineProperty2[\"default\"])(_classnames, 'first-cell', firstCell), _classnames)),\n      key: key,\n      style: style,\n      onClick: function onClick(e) {\n        e.shiftKey ? _sortTableColumn(column) : null;\n      },\n      onDoubleClick: function onDoubleClick() {\n        return _sortTableColumn(column);\n      },\n      title: column\n    }, isGhost ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", null) : /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"section\", {\n      className: \"details\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"col-name\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"col-name__left\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"col-name__name\"\n    }, colMeta[column].name), /*#__PURE__*/_react[\"default\"].createElement(_button[\"default\"], {\n      className: \"col-name__sort\",\n      onClick: function onClick() {\n        return _sortTableColumn(column);\n      }\n    }, isSorted ? isSorted === _constants.SORT_ORDER.ASCENDING ? /*#__PURE__*/_react[\"default\"].createElement(_icons.ArrowUp, {\n      height: \"14px\"\n    }) : /*#__PURE__*/_react[\"default\"].createElement(_icons.ArrowDown, {\n      height: \"14px\"\n    }) : null)), /*#__PURE__*/_react[\"default\"].createElement(_button[\"default\"], {\n      className: \"more\",\n      onClick: function onClick() {\n        return toggleMoreOptions(column);\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_icons.VertThreeDots, {\n      height: \"14px\"\n    }))), /*#__PURE__*/_react[\"default\"].createElement(FieldToken, {\n      type: colMeta[column].type\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"section\", {\n      className: \"options\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_optionDropdown[\"default\"], {\n      isOpened: moreOptionsColumn === column,\n      column: column,\n      toggleMoreOptions: toggleMoreOptions,\n      sortTableColumn: function sortTableColumn(mode) {\n        return _sortTableColumn(column, mode);\n      },\n      pinTableColumn: function pinTableColumn() {\n        return _pinTableColumn(column);\n      },\n      copyTableColumn: function copyTableColumn() {\n        return _copyTableColumn(column);\n      }\n    }))));\n  };\n  return HeaderCell;\n};\nHeaderCellFactory.deps = [_fieldToken[\"default\"]];\nvar _default = HeaderCellFactory;\nexports[\"default\"] = _default;","map":{"version":3,"names":["value","exports","_taggedTemplateLiteral2","_interopRequireDefault","require","_react","_styledComponents","_classnames2","_button","_icons","_optionDropdown","_constants","_fieldToken","_templateObject","StyledHeaderCell","div","props","theme","headerCellBorderColor","headerPaddingTop","headerPaddingBottom","cellPaddingSide","headerCellBackground","headerCellIconColor","HeaderCellFactory","FieldToken","HeaderCell","sortColumn","_ref","_classnames","cellInfo","columns","isPinned","toggleMoreOptions","moreOptionsColumn","columnIndex","key","style","colMeta","_props$sortColumn","_sortTableColumn","sortTableColumn","_pinTableColumn","pinTableColumn","_copyTableColumn","copyTableColumn","column","isGhost","ghost","isSorted","firstCell","createElement","className","_defineProperty2","concat","onClick","e","shiftKey","onDoubleClick","title","Fragment","name","SORT_ORDER","ASCENDING","ArrowUp","height","ArrowDown","VertThreeDots","type"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/common/data-table/header-cell.tsx"],"sourcesContent":["import React, {CSSProperties} from 'react';\nimport styled from 'styled-components';\nimport classnames from 'classnames';\nimport Button from './button';\nimport {ArrowUp, ArrowDown, VertThreeDots} from '../../common/icons';\nimport OptionDropdown from './option-dropdown';\nimport {SORT_ORDER} from '@kepler.gl/constants';\nimport FieldTokenFactory, {FieldTokenProps} from '../../common/field-token';\nimport {DataTableProps} from './index';\n\nconst StyledHeaderCell = styled.div`\n  border-bottom: 1px solid ${props => props.theme.headerCellBorderColor};\n  border-top: 1px solid ${props => props.theme.headerCellBorderColor};\n  padding-top: ${props => props.theme.headerPaddingTop}px;\n  padding-right: 0;\n  padding-bottom: ${props => props.theme.headerPaddingBottom}px;\n  padding-left: ${props => props.theme.cellPaddingSide}px;\n  align-items: center;\n  justify-content: space-between;\n  display: flex;\n  flex-direction: row;\n  background-color: ${props => props.theme.headerCellBackground};\n\n  &:hover {\n    .more {\n      color: ${props => props.theme.headerCellIconColor};\n    }\n  }\n  .n-sort-idx {\n    font-size: 9px;\n  }\n  .details {\n    font-weight: 500;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    height: 100%;\n    overflow: hidden;\n    flex-grow: 1;\n\n    .col-name {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      cursor: pointer;\n\n      .col-name__left {\n        display: flex;\n        align-items: center;\n        overflow: hidden;\n        svg {\n          margin-left: 6px;\n        }\n      }\n      .col-name__name {\n        overflow: hidden;\n        white-space: nowrap;\n      }\n    }\n  }\n\n  .more {\n    color: transparent;\n    margin-left: 5px;\n  }\n`;\n\ntype CellInfo = {\n  columnIndex: number;\n  isScrolling: boolean;\n  isVisible: boolean;\n  key: string;\n  parent: any;\n  rowIndex: number;\n  style: CSSProperties;\n};\n\ntype HeaderCellProps = {\n  // passed down from react virtualized Grid\n  cellInfo: CellInfo;\n  columns: DataTableProps['columns'];\n  isPinned?: boolean;\n  props: DataTableProps;\n  toggleMoreOptions: (moreOptionsColumn: string) => void;\n  moreOptionsColumn: null | string;\n};\n\nconst HeaderCellFactory = (FieldToken: React.FC<FieldTokenProps>) => {\n  const HeaderCell = ({\n    cellInfo,\n    columns,\n    isPinned,\n    props,\n    toggleMoreOptions,\n    moreOptionsColumn\n  }: HeaderCellProps) => {\n    const {columnIndex, key, style} = cellInfo;\n    const {colMeta, sortColumn = {}, sortTableColumn, pinTableColumn, copyTableColumn} = props;\n    const column = columns[columnIndex];\n\n    const isGhost = column.ghost;\n    const isSorted = sortColumn[column];\n    const firstCell = columnIndex === 0;\n    return (\n      <StyledHeaderCell\n        className={classnames('header-cell', {\n          [`column-${columnIndex}`]: true,\n          'pinned-header-cell': isPinned,\n          'first-cell': firstCell\n        })}\n        key={key}\n        style={style}\n        onClick={e => {\n          e.shiftKey ? sortTableColumn(column) : null;\n        }}\n        onDoubleClick={() => sortTableColumn(column)}\n        title={column}\n      >\n        {isGhost ? (\n          <div />\n        ) : (\n          <>\n            <section className=\"details\">\n              <div className=\"col-name\">\n                <div className=\"col-name__left\">\n                  <div className=\"col-name__name\">{colMeta[column].name}</div>\n                  <Button className=\"col-name__sort\" onClick={() => sortTableColumn(column)}>\n                    {isSorted ? (\n                      isSorted === SORT_ORDER.ASCENDING ? (\n                        <ArrowUp height=\"14px\" />\n                      ) : (\n                        <ArrowDown height=\"14px\" />\n                      )\n                    ) : null}\n                  </Button>\n                </div>\n                <Button className=\"more\" onClick={() => toggleMoreOptions(column)}>\n                  <VertThreeDots height=\"14px\" />\n                </Button>\n              </div>\n              <FieldToken type={colMeta[column].type} />\n            </section>\n\n            <section className=\"options\">\n              <OptionDropdown\n                isOpened={moreOptionsColumn === column}\n                column={column}\n                toggleMoreOptions={toggleMoreOptions}\n                sortTableColumn={mode => sortTableColumn(column, mode)}\n                pinTableColumn={() => pinTableColumn(column)}\n                copyTableColumn={() => copyTableColumn(column)}\n              />\n            </section>\n          </>\n        )}\n      </StyledHeaderCell>\n    );\n  };\n  return HeaderCell;\n};\nHeaderCellFactory.deps = [FieldTokenFactory];\nexport default HeaderCellFactory;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}