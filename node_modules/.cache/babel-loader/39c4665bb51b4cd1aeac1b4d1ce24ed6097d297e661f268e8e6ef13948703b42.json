{"ast":null,"code":"import _regeneratorRuntime from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _wrapNativeSuper from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _Symbol$asyncIterator;\nvar ArrayQueue = /*#__PURE__*/function (_Array) {\n  _inherits(ArrayQueue, _Array);\n  var _super = _createSuper(ArrayQueue);\n  function ArrayQueue() {\n    _classCallCheck(this, ArrayQueue);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ArrayQueue, [{\n    key: \"enqueue\",\n    value: function enqueue(value) {\n      return this.push(value);\n    }\n  }, {\n    key: \"dequeue\",\n    value: function dequeue() {\n      return this.shift();\n    }\n  }]);\n  return ArrayQueue;\n}( /*#__PURE__*/_wrapNativeSuper(Array));\n_Symbol$asyncIterator = Symbol.asyncIterator;\nvar AsyncQueue = /*#__PURE__*/function (_Symbol$asyncIterator2) {\n  function AsyncQueue() {\n    _classCallCheck(this, AsyncQueue);\n    _defineProperty(this, \"_values\", void 0);\n    _defineProperty(this, \"_settlers\", void 0);\n    _defineProperty(this, \"_closed\", void 0);\n    this._values = new ArrayQueue();\n    this._settlers = new ArrayQueue();\n    this._closed = false;\n  }\n  _createClass(AsyncQueue, [{\n    key: \"close\",\n    value: function close() {\n      while (this._settlers.length > 0) {\n        this._settlers.dequeue().resolve({\n          done: true\n        });\n      }\n      this._closed = true;\n    }\n  }, {\n    key: _Symbol$asyncIterator2,\n    value: function value() {\n      return this;\n    }\n  }, {\n    key: \"enqueue\",\n    value: function enqueue(value) {\n      if (this._closed) {\n        throw new Error('Closed');\n      }\n      if (this._settlers.length > 0) {\n        if (this._values.length > 0) {\n          throw new Error('Illegal internal state');\n        }\n        var settler = this._settlers.dequeue();\n        if (value instanceof Error) {\n          settler.reject(value);\n        } else {\n          settler.resolve({\n            value: value\n          });\n        }\n      } else {\n        this._values.enqueue(value);\n      }\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      var _this = this;\n      if (this._values.length > 0) {\n        var value = this._values.dequeue();\n        if (value instanceof Error) {\n          return Promise.reject(value);\n        }\n        return Promise.resolve({\n          value: value\n        });\n      }\n      if (this._closed) {\n        if (this._settlers.length > 0) {\n          throw new Error('Illegal internal state');\n        }\n        return Promise.resolve({\n          done: true\n        });\n      }\n      return new Promise(function (resolve, reject) {\n        _this._settlers.enqueue({\n          resolve: resolve,\n          reject: reject\n        });\n      });\n    }\n  }]);\n  return AsyncQueue;\n}(_Symbol$asyncIterator);\nexport { AsyncQueue as default };\nexport function takeAsync(_x) {\n  return _takeAsync.apply(this, arguments);\n}\nfunction _takeAsync() {\n  _takeAsync = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(asyncIterable) {\n    var count,\n      result,\n      iterator,\n      _yield$iterator$next,\n      value,\n      done,\n      _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          count = _args.length > 1 && _args[1] !== undefined ? _args[1] : Infinity;\n          result = [];\n          iterator = asyncIterable[Symbol.asyncIterator]();\n        case 3:\n          if (!(result.length < count)) {\n            _context.next = 14;\n            break;\n          }\n          _context.next = 6;\n          return iterator.next();\n        case 6:\n          _yield$iterator$next = _context.sent;\n          value = _yield$iterator$next.value;\n          done = _yield$iterator$next.done;\n          if (!done) {\n            _context.next = 11;\n            break;\n          }\n          return _context.abrupt(\"break\", 14);\n        case 11:\n          result.push(value);\n          _context.next = 3;\n          break;\n        case 14:\n          return _context.abrupt(\"return\", result);\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _takeAsync.apply(this, arguments);\n}","map":{"version":3,"names":["ArrayQueue","_Array","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","enqueue","push","dequeue","shift","_wrapNativeSuper","Array","_Symbol$asyncIterator","Symbol","asyncIterator","AsyncQueue","_Symbol$asyncIterator2","_defineProperty","_values","_settlers","_closed","close","length","resolve","done","Error","settler","reject","next","_this","Promise","default","takeAsync","_x","_takeAsync","_asyncToGenerator","_regeneratorRuntime","mark","_callee","asyncIterable","count","result","iterator","_yield$iterator$next","_args","wrap","_callee$","_context","prev","undefined","Infinity","sent","abrupt","stop"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@loaders.gl/schema/src/lib/utils/async-queue.ts"],"sourcesContent":["// From https://github.com/rauschma/async-iter-demo/tree/master/src under MIT license\n// http://2ality.com/2016/10/asynchronous-iteration.html\n\nclass ArrayQueue<T> extends Array<T> {\n  enqueue(value: T) {\n    // Add at the end\n    return this.push(value);\n  }\n  dequeue(): T {\n    // Remove first element\n    return this.shift() as T;\n  }\n}\n\nexport default class AsyncQueue<T> {\n  private _values: ArrayQueue<T | Error>;\n  private _settlers: ArrayQueue<{resolve: (value: any) => void; reject: (reason?: any) => void}>;\n  private _closed: boolean;\n\n  constructor() {\n    // enqueues > dequeues\n    this._values = new ArrayQueue<T>();\n    // dequeues > enqueues\n    this._settlers = new ArrayQueue<{\n      resolve: (value: any) => void;\n      reject: (reason?: any) => void;\n    }>();\n    this._closed = false;\n  }\n\n  close(): void {\n    while (this._settlers.length > 0) {\n      this._settlers.dequeue().resolve({done: true});\n    }\n    this._closed = true;\n  }\n\n  [Symbol.asyncIterator](): AsyncIterator<T> {\n    return this;\n  }\n\n  enqueue(value: T | Error): void {\n    if (this._closed) {\n      throw new Error('Closed');\n    }\n\n    if (this._settlers.length > 0) {\n      if (this._values.length > 0) {\n        throw new Error('Illegal internal state');\n      }\n      const settler = this._settlers.dequeue();\n      if (value instanceof Error) {\n        settler.reject(value);\n      } else {\n        settler.resolve({value});\n      }\n    } else {\n      this._values.enqueue(value);\n    }\n  }\n\n  /**\n   * @returns a Promise for an IteratorResult\n   */\n  next(): Promise<any> {\n    if (this._values.length > 0) {\n      const value = this._values.dequeue();\n      if (value instanceof Error) {\n        return Promise.reject(value);\n      }\n      return Promise.resolve({value});\n    }\n\n    if (this._closed) {\n      if (this._settlers.length > 0) {\n        throw new Error('Illegal internal state');\n      }\n      return Promise.resolve({done: true});\n    }\n    // Wait for new values to be enqueued\n    return new Promise((resolve, reject) => {\n      this._settlers.enqueue({resolve, reject});\n    });\n  }\n}\n\n/**\n * @returns a Promise for an Array with the elements in `asyncIterable`\n */\nexport async function takeAsync(\n  asyncIterable: AsyncIterable<any>,\n  count = Infinity\n): Promise<any[]> {\n  const result: Array<any> = [];\n  const iterator = asyncIterable[Symbol.asyncIterator]();\n  while (result.length < count) {\n    const {value, done} = await iterator.next();\n    if (done) {\n      break;\n    }\n    result.push(value);\n  }\n  return result;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}