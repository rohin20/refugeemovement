{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport { global } from '@loaders.gl/loader-utils';\nimport { isPureObject, isObject } from '../../javascript-utils/is-type';\nimport { fetchFile } from '../fetch/fetch-file';\nimport { NullLog, ConsoleLog } from './loggers';\nvar DEFAULT_LOADER_OPTIONS = {\n  baseUri: '',\n  fetch: null,\n  CDN: 'https://unpkg.com/@loaders.gl',\n  worker: true,\n  log: new ConsoleLog(),\n  metadata: false,\n  transforms: [],\n  reuseWorkers: true\n};\nvar DEPRECATED_LOADER_OPTIONS = {\n  dataType: '(no longer used)',\n  method: 'fetch.method',\n  headers: 'fetch.headers',\n  body: 'fetch.body',\n  mode: 'fetch.mode',\n  credentials: 'fetch.credentials',\n  cache: 'fetch.cache',\n  redirect: 'fetch.redirect',\n  referrer: 'fetch.referrer',\n  referrerPolicy: 'fetch.referrerPolicy',\n  integrity: 'fetch.integrity',\n  keepalive: 'fetch.keepalive',\n  signal: 'fetch.signal'\n};\nexport var getGlobalLoaderState = function getGlobalLoaderState() {\n  global.loaders = global.loaders || {};\n  var loaders = global.loaders;\n  loaders._state = loaders._state || {};\n  return loaders._state;\n};\nvar getGlobalLoaderOptions = function getGlobalLoaderOptions() {\n  var state = getGlobalLoaderState();\n  state.globalOptions = state.globalOptions || _objectSpread({}, DEFAULT_LOADER_OPTIONS);\n  return state.globalOptions;\n};\nexport function setGlobalOptions(options) {\n  var state = getGlobalLoaderState();\n  var globalOptions = getGlobalLoaderOptions();\n  state.globalOptions = normalizeOptionsInternal(globalOptions, options);\n}\nexport function normalizeOptions(options, loader, loaders, url) {\n  loaders = loaders || [];\n  loaders = Array.isArray(loaders) ? loaders : [loaders];\n  validateOptions(options, loaders);\n  return normalizeOptionsInternal(loader, options, url);\n}\nexport function getFetchFunction(options, context) {\n  var globalOptions = getGlobalLoaderOptions();\n  var fetch = options.fetch || globalOptions.fetch;\n  if (typeof fetch === 'function') {\n    return fetch;\n  }\n  if (isObject(fetch)) {\n    return function (url) {\n      return fetchFile(url, fetch);\n    };\n  }\n  if (context && context.fetch) {\n    return context.fetch;\n  }\n  return function (url) {\n    return fetchFile(url, options);\n  };\n}\nfunction validateOptions(options, loaders) {\n  var log = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : console;\n  validateOptionsObject(options, null, log, DEFAULT_LOADER_OPTIONS, DEPRECATED_LOADER_OPTIONS, loaders);\n  var _iterator = _createForOfIteratorHelper(loaders),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var loader = _step.value;\n      var idOptions = options && options[loader.id] || {};\n      var loaderOptions = loader.options && loader.options[loader.id] || {};\n      var deprecatedOptions = loader.defaultOptions && loader.defaultOptions[loader.id] || {};\n      validateOptionsObject(idOptions, loader.id, log, loaderOptions, deprecatedOptions, loaders);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\nfunction validateOptionsObject(options, id, log, defaultOptions, deprecatedOptions, loaders) {\n  var loaderName = id || 'Top level';\n  var prefix = id ? \"\".concat(id, \".\") : '';\n  for (var key in options) {\n    var isSubOptions = !id && isObject(options[key]);\n    if (!(key in defaultOptions)) {\n      if (key in deprecatedOptions) {\n        log.warn(\"\".concat(loaderName, \" loader option '\").concat(prefix).concat(key, \"' deprecated, use '\").concat(deprecatedOptions[key], \"'\"));\n      } else if (!isSubOptions) {\n        var suggestion = findSimilarOption(key, loaders);\n        log.warn(\"\".concat(loaderName, \" loader option '\").concat(prefix).concat(key, \"' not recognized. \").concat(suggestion));\n      }\n    }\n  }\n}\nfunction findSimilarOption(optionKey, loaders) {\n  var lowerCaseOptionKey = optionKey.toLowerCase();\n  var bestSuggestion = '';\n  var _iterator2 = _createForOfIteratorHelper(loaders),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var loader = _step2.value;\n      for (var key in loader.options) {\n        if (optionKey === key) {\n          return \"Did you mean '\".concat(loader.id, \".\").concat(key, \"'?\");\n        }\n        var lowerCaseKey = key.toLowerCase();\n        var isPartialMatch = lowerCaseOptionKey.startsWith(lowerCaseKey) || lowerCaseKey.startsWith(lowerCaseOptionKey);\n        if (isPartialMatch) {\n          bestSuggestion = bestSuggestion || \"Did you mean '\".concat(loader.id, \".\").concat(key, \"'?\");\n        }\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  return bestSuggestion;\n}\nfunction normalizeOptionsInternal(loader, options, url) {\n  var loaderDefaultOptions = loader.options || {};\n  var mergedOptions = _objectSpread({}, loaderDefaultOptions);\n  if (mergedOptions.log === null) {\n    mergedOptions.log = new NullLog();\n  }\n  mergeNestedFields(mergedOptions, getGlobalLoaderOptions());\n  mergeNestedFields(mergedOptions, options);\n  addUrlOptions(mergedOptions, url);\n  return mergedOptions;\n}\nfunction mergeNestedFields(mergedOptions, options) {\n  for (var key in options) {\n    if (key in options) {\n      var value = options[key];\n      if (isPureObject(value) && isPureObject(mergedOptions[key])) {\n        mergedOptions[key] = _objectSpread(_objectSpread({}, mergedOptions[key]), options[key]);\n      } else {\n        mergedOptions[key] = options[key];\n      }\n    }\n  }\n}\nfunction addUrlOptions(options, url) {\n  if (url && !options.baseUri) {\n    options.baseUri = url;\n  }\n}","map":{"version":3,"names":["global","isPureObject","isObject","fetchFile","NullLog","ConsoleLog","DEFAULT_LOADER_OPTIONS","baseUri","fetch","CDN","worker","log","metadata","transforms","reuseWorkers","DEPRECATED_LOADER_OPTIONS","dataType","method","headers","body","mode","credentials","cache","redirect","referrer","referrerPolicy","integrity","keepalive","signal","getGlobalLoaderState","loaders","_state","getGlobalLoaderOptions","state","globalOptions","_objectSpread","setGlobalOptions","options","normalizeOptionsInternal","normalizeOptions","loader","url","Array","isArray","validateOptions","getFetchFunction","context","arguments","length","undefined","console","validateOptionsObject","_iterator","_createForOfIteratorHelper","_step","s","n","done","value","idOptions","id","loaderOptions","deprecatedOptions","defaultOptions","err","e","f","loaderName","prefix","concat","key","isSubOptions","warn","suggestion","findSimilarOption","optionKey","lowerCaseOptionKey","toLowerCase","bestSuggestion","_iterator2","_step2","lowerCaseKey","isPartialMatch","startsWith","loaderDefaultOptions","mergedOptions","mergeNestedFields","addUrlOptions"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/kepler.gl/node_modules/@loaders.gl/core/src/lib/loader-utils/option-utils.js"],"sourcesContent":["import {global} from '@loaders.gl/loader-utils';\nimport {isPureObject, isObject} from '../../javascript-utils/is-type';\nimport {fetchFile} from '../fetch/fetch-file';\nimport {NullLog, ConsoleLog} from './loggers';\n\nconst DEFAULT_LOADER_OPTIONS = {\n  baseUri: '',\n  fetch: null,\n  CDN: 'https://unpkg.com/@loaders.gl',\n  worker: true, // By default, use worker if provided by loader\n  log: new ConsoleLog(), // A probe.gl compatible (`log.log()()` syntax) that just logs to console\n  metadata: false, // TODO - currently only implemented for parseInBatches, adds initial metadata batch,\n  transforms: [],\n  reuseWorkers: true // By default reuse workers\n};\n\nconst DEPRECATED_LOADER_OPTIONS = {\n  dataType: '(no longer used)',\n  // Warn if fetch options are used on top-level\n  method: 'fetch.method',\n  headers: 'fetch.headers',\n  body: 'fetch.body',\n  mode: 'fetch.mode',\n  credentials: 'fetch.credentials',\n  cache: 'fetch.cache',\n  redirect: 'fetch.redirect',\n  referrer: 'fetch.referrer',\n  referrerPolicy: 'fetch.referrerPolicy',\n  integrity: 'fetch.integrity',\n  keepalive: 'fetch.keepalive',\n  signal: 'fetch.signal'\n};\n\n// Helper to reliably get global loader state\n// Wraps initialization of global variable in function to defeat overly agressive tree-shakers\nexport const getGlobalLoaderState = () => {\n  // @ts-ignore\n  global.loaders = global.loaders || {};\n  // @ts-ignore\n  const {loaders} = global;\n\n  // Add _state object to keep separate from modules added to global.loaders\n  loaders._state = loaders._state || {};\n  return loaders._state;\n};\n\n// Store global loader options on the global object to increase chances of cross loaders-version interoperability\n// NOTE: This use case is not reliable but can help when testing new versions of loaders.gl with existing frameworks\nconst getGlobalLoaderOptions = () => {\n  const state = getGlobalLoaderState();\n  // Ensure all default loader options from this library are mentioned\n  state.globalOptions = state.globalOptions || {...DEFAULT_LOADER_OPTIONS};\n  return state.globalOptions;\n};\n\n// Set global loader options\nexport function setGlobalOptions(options) {\n  const state = getGlobalLoaderState();\n  const globalOptions = getGlobalLoaderOptions();\n  state.globalOptions = normalizeOptionsInternal(globalOptions, options);\n}\n\n// Merges options with global opts and loader defaults, also injects baseUri\n// Merges options with global opts and loader defaults, also injects baseUri\nexport function normalizeOptions(options, loader, loaders, url) {\n  loaders = loaders || [];\n  loaders = Array.isArray(loaders) ? loaders : [loaders];\n\n  validateOptions(options, loaders);\n  return normalizeOptionsInternal(loader, options, url);\n}\n\nexport function getFetchFunction(options, context) {\n  const globalOptions = getGlobalLoaderOptions();\n\n  const fetch = options.fetch || globalOptions.fetch;\n\n  // options.fetch can be a function\n  if (typeof fetch === 'function') {\n    return fetch;\n  }\n\n  // options.fetch can be an options object\n  if (isObject(fetch)) {\n    return url => fetchFile(url, fetch);\n  }\n\n  // else refer to context (from parent loader) if available\n  if (context && context.fetch) {\n    return context.fetch;\n  }\n\n  // else return the default fetch function\n\n  // TODO DEPRECATED, support for root level fetch options will be removed in 3.0\n  return url => fetchFile(url, options);\n\n  // return fetchFile;\n}\n\n// VALIDATE OPTIONS\n\n/**\n * Warn for unsupported options\n * @param {object} options\n * @param {*} loaders\n * @param {*} log\n */\nfunction validateOptions(\n  options,\n  loaders,\n  // eslint-disable-next-line\n  log = console\n) {\n  // Check top level options\n  validateOptionsObject(\n    options,\n    null,\n    log,\n    DEFAULT_LOADER_OPTIONS,\n    DEPRECATED_LOADER_OPTIONS,\n    loaders\n  );\n  for (const loader of loaders) {\n    // Get the scoped, loader specific options from the user supplied options\n    const idOptions = (options && options[loader.id]) || {};\n\n    // Get scoped, loader specific default and deprecated options from the selected loader\n    const loaderOptions = (loader.options && loader.options[loader.id]) || {};\n    const deprecatedOptions = (loader.defaultOptions && loader.defaultOptions[loader.id]) || {};\n\n    // Validate loader specific options\n    validateOptionsObject(idOptions, loader.id, log, loaderOptions, deprecatedOptions, loaders);\n  }\n}\n\n// eslint-disable-next-line max-params\nfunction validateOptionsObject(options, id, log, defaultOptions, deprecatedOptions, loaders) {\n  const loaderName = id || 'Top level';\n  const prefix = id ? `${id}.` : '';\n\n  for (const key in options) {\n    // If top level option value is an object it could options for a loader, so ignore\n    const isSubOptions = !id && isObject(options[key]);\n    if (!(key in defaultOptions)) {\n      // Issue deprecation warnings\n      if (key in deprecatedOptions) {\n        log.warn(\n          `${loaderName} loader option \\'${prefix}${key}\\' deprecated, use \\'${\n            deprecatedOptions[key]\n          }\\'`\n        );\n      } else if (!isSubOptions) {\n        const suggestion = findSimilarOption(key, loaders);\n        log.warn(`${loaderName} loader option \\'${prefix}${key}\\' not recognized. ${suggestion}`);\n      }\n    }\n  }\n}\n\nfunction findSimilarOption(optionKey, loaders) {\n  const lowerCaseOptionKey = optionKey.toLowerCase();\n  let bestSuggestion = '';\n  for (const loader of loaders) {\n    for (const key in loader.options) {\n      if (optionKey === key) {\n        return `Did you mean \\'${loader.id}.${key}\\'?`;\n      }\n      const lowerCaseKey = key.toLowerCase();\n      const isPartialMatch =\n        lowerCaseOptionKey.startsWith(lowerCaseKey) || lowerCaseKey.startsWith(lowerCaseOptionKey);\n      if (isPartialMatch) {\n        bestSuggestion = bestSuggestion || `Did you mean \\'${loader.id}.${key}\\'?`;\n      }\n    }\n  }\n  return bestSuggestion;\n}\n\nfunction normalizeOptionsInternal(loader, options, url) {\n  const loaderDefaultOptions = loader.options || {};\n\n  const mergedOptions = {...loaderDefaultOptions};\n\n  // LOGGING: options.log can be set to `null` to defeat logging\n  if (mergedOptions.log === null) {\n    mergedOptions.log = new NullLog();\n  }\n\n  mergeNestedFields(mergedOptions, getGlobalLoaderOptions());\n  mergeNestedFields(mergedOptions, options);\n\n  addUrlOptions(mergedOptions, url);\n\n  return mergedOptions;\n}\n\n// Merge nested options objects\nfunction mergeNestedFields(mergedOptions, options) {\n  for (const key in options) {\n    // Check for nested options\n    // object in options => either no key in defaultOptions or object in defaultOptions\n    if (key in options) {\n      const value = options[key];\n      if (isPureObject(value) && isPureObject(mergedOptions[key])) {\n        mergedOptions[key] = {\n          ...mergedOptions[key],\n          ...options[key]\n        };\n      } else {\n        mergedOptions[key] = options[key];\n      }\n    }\n    // else: No need to merge nested opts, and the initial merge already copied over the nested options\n  }\n}\n\n// Harvest information from the url\n// TODO - baseUri should be a directory, i.e. remove file component from baseUri\n// TODO - extract extension?\n// TODO - extract query parameters?\n// TODO - should these be injected on context instead of options?\nfunction addUrlOptions(options, url) {\n  if (url && !options.baseUri) {\n    options.baseUri = url;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}