{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMapLayersFromSplitMaps = exports.onViewPortChange = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _constants = require(\"@kepler.gl/constants\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nvar onViewPortChange = function onViewPortChange(viewState, onUpdateMap, onViewStateChange) {\n  var primary = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var width = viewState.width,\n    height = viewState.height,\n    restViewState = (0, _objectWithoutProperties2[\"default\"])(viewState, [\"width\", \"height\"]); // react-map-gl sends 0,0 dimensions during initialization\n  // after we have received proper dimensions from observeDimensions\n\n  var next = _objectSpread(_objectSpread({}, width > 0 && height > 0 ? viewState : restViewState), {}, {\n    // enabling transition in two maps may lead to endless update loops\n    transitionDuration: primary ? _constants.TRANSITION_DURATION : 0\n  });\n  if (onViewStateChange && typeof onViewStateChange === 'function') {\n    onViewStateChange(next);\n  }\n  onUpdateMap(next);\n};\nexports.onViewPortChange = onViewPortChange;\nvar getMapLayersFromSplitMaps = function getMapLayersFromSplitMaps(splitMaps, mapIndex) {\n  var _splitMaps;\n  return (_splitMaps = splitMaps[mapIndex || '']) === null || _splitMaps === void 0 ? void 0 : _splitMaps.layers;\n};\nexports.getMapLayersFromSplitMaps = getMapLayersFromSplitMaps;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","getMapLayersFromSplitMaps","onViewPortChange","_defineProperty2","_objectWithoutProperties2","_constants","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","primary","arguments","length","undefined","width","viewState","restViewState"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/utils/src/map-utils.ts"],"sourcesContent":["import {TRANSITION_DURATION} from '@kepler.gl/constants';\nimport {SplitMapLayers, SplitMap} from '@kepler.gl/types';\n\nexport const onViewPortChange = (\n  viewState: any,\n  onUpdateMap: (next: any) => any,\n  onViewStateChange?: (next: any) => void | null,\n  primary: boolean = false\n): void => {\n  const {width, height, ...restViewState} = viewState;\n  // react-map-gl sends 0,0 dimensions during initialization\n  // after we have received proper dimensions from observeDimensions\n  const next = {\n    ...(width > 0 && height > 0 ? viewState : restViewState),\n    // enabling transition in two maps may lead to endless update loops\n    transitionDuration: primary ? TRANSITION_DURATION : 0\n  };\n  if (onViewStateChange && typeof onViewStateChange === 'function') {\n    onViewStateChange(next);\n  }\n\n  onUpdateMap(next);\n};\n\nexport const getMapLayersFromSplitMaps = (\n  splitMaps: SplitMap[],\n  mapIndex?: number | undefined\n): SplitMapLayers | undefined | null => {\n  return splitMaps[mapIndex || '']?.layers;\n};\n"],"mappings":";;;;;;;;;;;;;AAAA;;;;;;;AAQW,YADT;;AACS,IAAAA,sBACK,GAAAC,OADL;AAGTC,MAAA,CAAAC,cAAA,CAAAC,OAAA;;AACA;AAEEA,OAAA,CAAAC,yBAAA,GAAAD,OAAA,CAAAE,gBAAA;AAFQ,IAAVC,gBAAA,GAAAP,sBAAA,CAAAC,OAAA;AAKA,IAAAO,yBAAyB,GAAAR,sBAAA,CAAAC,OAA6B,iDAAY;AAEjE,IAAAQ,UAAA,GAAAR,OAAA;AAED,SAAAS,OAAYA,CAAAC,MAAZ,EAAAC,cAAA;EAAA,IAAAC,IAAA,GAAAX,MAAA,CAAAW,IAAA,CAAAF,MAAA;EAAA,IAAAT,MAAA,CAAAY,qBAAA;IAAA,IAAAC,OAAA,GAAAb,MAAA,CAAAY,qBAAA,CAAAH,MAAA;IAAA,IAAAC,cAAA,EAAAG,OAAA,GAAAA,OAAA,CAAAC,MAAA,WAAAC,GAAA;MAAA,OAAAf,MAAA,CAAAgB,wBAAA,CAAAP,MAAA,EAAAM,GAAA,EAAAE,UAAA;IAAA;IAAAN,IAAA,CAAAO,IAAA,CAAAC,KAAA,CAAAR,IAAA,EAAAE,OAAA;EAAA;EAAA,OAAAF,IAAA;AAAA;;;;;;;;;;;;;;;;;;;EAGK,IAAMS,OAAA,GAAAC,SAAA,CAAAC,MAA4B,QAAAD,SAA5B,QAAAE,SAA4B,GACvCF,SACA,WACsC;EAAA,IAAAG,KAAA,GAAAC,SAAA,CAAAD,KAAA;;IACtCE,aAAA,IAAO,GAAApB,yBAAP,aAAAmB,SAAA,sBAAO;EAJF"},"metadata":{},"sourceType":"script","externalDependencies":[]}