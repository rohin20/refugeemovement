{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = RangePlotFactory;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _styledComponents = _interopRequireWildcard(require(\"styled-components\"));\nvar _rangeBrush = _interopRequireDefault(require(\"./range-brush\"));\nvar _histogramPlot = _interopRequireDefault(require(\"./histogram-plot\"));\nvar _lineChart = _interopRequireDefault(require(\"./line-chart\"));\nvar _utils = require(\"@kepler.gl/utils\");\nvar _styles = require(\"@kepler.gl/styles\");\nvar _templateObject;\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nvar StyledRangePlot = _styledComponents[\"default\"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  margin-bottom: \", \"px;\\n  display: flex;\\n  position: 'relative';\\n\"])), function (props) {\n  return props.theme.sliderBarHeight;\n});\nRangePlotFactory.deps = [_rangeBrush[\"default\"], _histogramPlot[\"default\"], _lineChart[\"default\"]];\nfunction RangePlotFactory(RangeBrush, HistogramPlot, LineChartPlot) {\n  var RangePlot = function RangePlot(_ref) {\n    var onBrush = _ref.onBrush,\n      range = _ref.range,\n      value = _ref.value,\n      width = _ref.width,\n      plotType = _ref.plotType,\n      lineChart = _ref.lineChart,\n      histogram = _ref.histogram,\n      isEnlarged = _ref.isEnlarged,\n      isRanged = _ref.isRanged,\n      theme = _ref.theme,\n      chartProps = (0, _objectWithoutProperties2[\"default\"])(_ref, [\"onBrush\", \"range\", \"value\", \"width\", \"plotType\", \"lineChart\", \"histogram\", \"isEnlarged\", \"isRanged\", \"theme\"]);\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      brushing = _useState2[0],\n      setBrushing = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n      hoveredDP = _useState4[0],\n      onMouseMove = _useState4[1];\n    var _useState5 = (0, _react.useState)(false),\n      _useState6 = (0, _slicedToArray2[\"default\"])(_useState5, 2),\n      enableChartHover = _useState6[0],\n      setEnableChartHover = _useState6[1];\n    var height = isEnlarged ? (0, _utils.hasMobileWidth)(_styles.breakPointValues) ? theme.rangePlotHLargePalm : theme.rangePlotHLarge : theme.rangePlotH;\n    var onBrushStart = (0, _react.useCallback)(function () {\n      setBrushing(true);\n      onMouseMove(null);\n      setEnableChartHover(false);\n    }, [setBrushing, onMouseMove, setEnableChartHover]);\n    var onBrushEnd = (0, _react.useCallback)(function () {\n      setBrushing(false);\n      setEnableChartHover(true);\n    }, [setBrushing, setEnableChartHover]);\n    var onMouseoverHandle = (0, _react.useCallback)(function () {\n      onMouseMove(null);\n      setEnableChartHover(false);\n    }, [onMouseMove, setEnableChartHover]);\n    var onMouseoutHandle = (0, _react.useCallback)(function () {\n      setEnableChartHover(true);\n    }, [setEnableChartHover]); // JsDom have limited support for SVG, d3 will fail\n\n    var brushComponent = (0, _utils.isTest)() ? null : /*#__PURE__*/_react[\"default\"].createElement(RangeBrush, (0, _extends2[\"default\"])({\n      onBrush: onBrush,\n      onBrushStart: onBrushStart,\n      onBrushEnd: onBrushEnd,\n      range: range,\n      value: value,\n      width: width,\n      height: height,\n      isRanged: isRanged,\n      onMouseoverHandle: onMouseoverHandle,\n      onMouseoutHandle: onMouseoutHandle\n    }, chartProps));\n    var commonProps = _objectSpread({\n      width: width,\n      value: value,\n      height: height,\n      margin: isEnlarged ? theme.rangePlotMarginLarge : theme.rangePlotMargin,\n      brushComponent: brushComponent,\n      brushing: brushing,\n      isEnlarged: isEnlarged,\n      enableChartHover: enableChartHover,\n      onMouseMove: onMouseMove,\n      hoveredDP: hoveredDP,\n      isRanged: isRanged\n    }, chartProps);\n    return /*#__PURE__*/_react[\"default\"].createElement(StyledRangePlot, {\n      style: {\n        height: \"\".concat(isEnlarged ? (0, _utils.hasMobileWidth)(_styles.breakPointValues) ? theme.rangePlotContainerHLargePalm : theme.rangePlotContainerHLarge : theme.rangePlotContainerH, \"px\")\n      },\n      className: \"kg-range-slider__plot\"\n    }, plotType === 'lineChart' && lineChart ? /*#__PURE__*/_react[\"default\"].createElement(LineChartPlot, (0, _extends2[\"default\"])({\n      lineChart: lineChart\n    }, commonProps)) : /*#__PURE__*/_react[\"default\"].createElement(HistogramPlot, (0, _extends2[\"default\"])({\n      histogram: histogram\n    }, commonProps)));\n  };\n  return (0, _styledComponents.withTheme)(RangePlot);\n}","map":{"version":3,"names":["value","exports","RangePlotFactory","_defineProperty2","_interopRequireDefault","require","_extends2","_react","_interopRequireWildcard","_styledComponents","_rangeBrush","_histogramPlot","_lineChart","_utils","_styles","_templateObject","ownKeys","isRanged","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","chartProps","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","StyledRangePlot","div","_taggedTemplateLiteral2","props","theme","sliderBarHeight","RangeBrush","HistogramPlot","LineChartPlot","RangePlot","_ref","onBrush","width","plotType","lineChart","isEnlarged","_objectWithoutProperties2","_useState","useState","_useState2","_slicedToArray2","brushing","setBrushing","_useState3","_useState4","hoveredDP","onMouseMove","_useState5","_useState6","setEnableChartHover","height","hasMobileWidth","breakPointValues","rangePlotHLargePalm","rangePlotHLarge","rangePlotH","onBrushStart","useCallback","onBrushEnd","onMouseoutHandle","brushComponent","isTest","createElement","range","onMouseoverHandle","commonProps","margin","rangePlotMarginLarge","rangePlotMargin"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/common/range-plot.tsx"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {useState, useCallback} from 'react';\nimport styled, {withTheme} from 'styled-components';\nimport RangeBrushFactory, {OnBrush, RangeBrushProps} from './range-brush';\nimport HistogramPlotFactory from './histogram-plot';\nimport LineChartFactory, {HoverDP} from './line-chart';\nimport {isTest, hasMobileWidth} from '@kepler.gl/utils';\nimport {breakPointValues} from '@kepler.gl/styles';\nimport {LineChart} from '@kepler.gl/types';\n\nconst StyledRangePlot = styled.div`\n  margin-bottom: ${props => props.theme.sliderBarHeight}px;\n  display: flex;\n  position: 'relative';\n`;\n\ninterface RangePlotProps {\n  onBrush: OnBrush;\n  range: number[];\n  value: number[];\n  width: number;\n  plotType?: string;\n  lineChart?: LineChart;\n  histogram?: {x0: number; x1: number}[];\n  isEnlarged?: boolean;\n  isRanged?: boolean;\n  theme: any;\n  timeFormat?: string;\n  timezone?: string | null;\n  playbackControlWidth?: number;\n}\n\nRangePlotFactory.deps = [RangeBrushFactory, HistogramPlotFactory, LineChartFactory];\n\nexport default function RangePlotFactory(\n  RangeBrush: ReturnType<typeof RangeBrushFactory>,\n  HistogramPlot: ReturnType<typeof HistogramPlotFactory>,\n  LineChartPlot: ReturnType<typeof LineChartFactory>\n) {\n  const RangePlot = ({\n    onBrush,\n    range,\n    value,\n    width,\n    plotType,\n    lineChart,\n    histogram,\n    isEnlarged,\n    isRanged,\n    theme,\n    ...chartProps\n  }: RangePlotProps & Partial<RangeBrushProps>) => {\n    const [brushing, setBrushing] = useState(false);\n    const [hoveredDP, onMouseMove] = useState<HoverDP | null>(null);\n    const [enableChartHover, setEnableChartHover] = useState(false);\n    const height = isEnlarged\n      ? hasMobileWidth(breakPointValues)\n        ? theme.rangePlotHLargePalm\n        : theme.rangePlotHLarge\n      : theme.rangePlotH;\n\n    const onBrushStart = useCallback(() => {\n      setBrushing(true);\n      onMouseMove(null);\n      setEnableChartHover(false);\n    }, [setBrushing, onMouseMove, setEnableChartHover]);\n\n    const onBrushEnd = useCallback(() => {\n      setBrushing(false);\n      setEnableChartHover(true);\n    }, [setBrushing, setEnableChartHover]);\n\n    const onMouseoverHandle = useCallback(() => {\n      onMouseMove(null);\n      setEnableChartHover(false);\n    }, [onMouseMove, setEnableChartHover]);\n\n    const onMouseoutHandle = useCallback(() => {\n      setEnableChartHover(true);\n    }, [setEnableChartHover]);\n\n    // JsDom have limited support for SVG, d3 will fail\n    const brushComponent = isTest() ? null : (\n      <RangeBrush\n        onBrush={onBrush}\n        onBrushStart={onBrushStart}\n        onBrushEnd={onBrushEnd}\n        range={range}\n        value={value}\n        width={width}\n        height={height}\n        isRanged={isRanged}\n        onMouseoverHandle={onMouseoverHandle}\n        onMouseoutHandle={onMouseoutHandle}\n        {...chartProps}\n      />\n    );\n\n    const commonProps = {\n      width,\n      value,\n      height,\n      margin: isEnlarged ? theme.rangePlotMarginLarge : theme.rangePlotMargin,\n      brushComponent,\n      brushing,\n      isEnlarged,\n      enableChartHover,\n      onMouseMove,\n      hoveredDP,\n      isRanged,\n      ...chartProps\n    };\n\n    return (\n      <StyledRangePlot\n        style={{\n          height: `${\n            isEnlarged\n              ? hasMobileWidth(breakPointValues)\n                ? theme.rangePlotContainerHLargePalm\n                : theme.rangePlotContainerHLarge\n              : theme.rangePlotContainerH\n          }px`\n        }}\n        className=\"kg-range-slider__plot\"\n      >\n        {plotType === 'lineChart' && lineChart ? (\n          <LineChartPlot lineChart={lineChart} {...commonProps} />\n        ) : (\n          <HistogramPlot histogram={histogram} {...commonProps} />\n        )}\n      </StyledRangePlot>\n    );\n  };\n\n  return withTheme(RangePlot);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}