{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = TimeRangeSliderFactory;\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _lodash = _interopRequireDefault(require(\"lodash.throttle\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _rangeSlider = _interopRequireDefault(require(\"./range-slider\"));\nvar _timeSliderMarker = _interopRequireDefault(require(\"./time-slider-marker\"));\nvar _playbackControls = _interopRequireDefault(require(\"./animation-control/playback-controls\"));\nvar _timeRangeSliderTimeTitle = _interopRequireDefault(require(\"./time-range-slider-time-title\"));\nvar _templateObject;\nvar animationControlWidth = 176;\nvar StyledSliderContainer = _styledComponents[\"default\"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  align-items: flex-end;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  padding-left: \", \"px;\\n\\n  .timeline-container .kg-slider {\\n    display: none;\\n  }\\n\\n  .playback-controls {\\n    margin-left: 22px;\\n  }\\n\"])), function (props) {\n  return props.isEnlarged ? 24 : 0;\n});\nTimeRangeSliderFactory.deps = [_playbackControls[\"default\"], _rangeSlider[\"default\"], _timeSliderMarker[\"default\"], _timeRangeSliderTimeTitle[\"default\"]];\nfunction TimeRangeSliderFactory(PlaybackControls, RangeSlider, TimeSliderMarker, TimeRangeSliderTimeTitle) {\n  var TimeRangeSlider = function TimeRangeSlider(props) {\n    var domain = props.domain,\n      value = props.value,\n      isEnlarged = props.isEnlarged,\n      hideTimeTitle = props.hideTimeTitle,\n      isAnimating = props.isAnimating,\n      resetAnimation = props.resetAnimation,\n      timeFormat = props.timeFormat,\n      timezone = props.timezone,\n      histogram = props.histogram,\n      plotType = props.plotType,\n      lineChart = props.lineChart,\n      step = props.step,\n      isAnimatable = props.isAnimatable,\n      speed = props.speed,\n      animationWindow = props.animationWindow,\n      updateAnimationSpeed = props.updateAnimationSpeed,\n      setFilterAnimationWindow = props.setFilterAnimationWindow,\n      toggleAnimation = props.toggleAnimation,\n      onChange = props.onChange;\n    var throttledOnchange = (0, _react.useMemo)(function () {\n      return (0, _lodash[\"default\"])(onChange, 20);\n    }, [onChange]);\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"time-range-slider\"\n    }, !hideTimeTitle ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"time-range-slider__title\",\n      style: {\n        width: isEnlarged ? \"calc(100% - \".concat(animationControlWidth, \"px)\") : '100%'\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(TimeRangeSliderTimeTitle, {\n      timeFormat: timeFormat,\n      timezone: timezone,\n      value: value,\n      isEnlarged: isEnlarged\n    })) : null, /*#__PURE__*/_react[\"default\"].createElement(StyledSliderContainer, {\n      className: \"time-range-slider__container\",\n      isEnlarged: isEnlarged\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"timeline-container\",\n      style: {\n        width: isEnlarged ? \"calc(100% - \".concat(animationControlWidth, \"px)\") : '100%'\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(RangeSlider, {\n      range: domain,\n      value0: value[0],\n      value1: value[1],\n      histogram: histogram,\n      lineChart: lineChart,\n      plotType: plotType,\n      isEnlarged: isEnlarged,\n      showInput: false,\n      step: step,\n      onChange: throttledOnchange,\n      xAxis: TimeSliderMarker,\n      timezone: timezone,\n      timeFormat: timeFormat\n    })), isEnlarged ? /*#__PURE__*/_react[\"default\"].createElement(PlaybackControls, {\n      isAnimatable: isAnimatable,\n      width: animationControlWidth,\n      speed: speed,\n      animationWindow: animationWindow,\n      updateAnimationSpeed: updateAnimationSpeed,\n      setFilterAnimationWindow: setFilterAnimationWindow,\n      pauseAnimation: toggleAnimation,\n      resetAnimation: resetAnimation,\n      isAnimating: isAnimating,\n      startAnimation: toggleAnimation\n    }) : null));\n  };\n  return /*#__PURE__*/_react[\"default\"].memo(TimeRangeSlider);\n}","map":{"version":3,"names":["exports","TimeRangeSliderFactory","_taggedTemplateLiteral2","_interopRequireDefault","require","_react","_interopRequireWildcard","_lodash","_styledComponents","_rangeSlider","_timeSliderMarker","_playbackControls","_timeRangeSliderTimeTitle","_templateObject","animationControlWidth","StyledSliderContainer","div","props","isEnlarged","deps","PlaybackControls","RangeSlider","TimeSliderMarker","TimeRangeSliderTimeTitle","TimeRangeSlider","domain","value","hideTimeTitle","isAnimating","resetAnimation","timeFormat","timezone","histogram","plotType","lineChart","step","isAnimatable","speed","animationWindow","updateAnimationSpeed","setFilterAnimationWindow","toggleAnimation","onChange","throttledOnchange","useMemo","createElement","className","style","width","concat","range","value0","value1","showInput"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/common/time-range-slider.tsx"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {useMemo} from 'react';\nimport throttle from 'lodash.throttle';\nimport styled from 'styled-components';\n\nimport RangeSliderFactory from './range-slider';\nimport TimeSliderMarkerFactory from './time-slider-marker';\nimport PlaybackControlsFactory from './animation-control/playback-controls';\nimport TimeRangeSliderTimeTitleFactory from './time-range-slider-time-title';\nimport {HistogramBin, LineChart} from '@kepler.gl/types';\n\nconst animationControlWidth = 176;\n\ninterface StyledSliderContainerProps {\n  isEnlarged?: boolean;\n}\n\ntype TimeRangeSliderProps = {\n  domain?: [number, number];\n  value: [number, number];\n  isEnlarged?: boolean;\n  hideTimeTitle?: boolean;\n  isAnimating: boolean;\n  timeFormat: string;\n  timezone?: string | null;\n  histogram?: HistogramBin[];\n  plotType?: string;\n  lineChart?: LineChart;\n  step: number;\n  isAnimatable?: boolean;\n  speed: number;\n  animationWindow: string;\n  resetAnimation?: () => void;\n  toggleAnimation: () => void;\n  updateAnimationSpeed?: (val: number) => void;\n  setFilterAnimationWindow?: (id: string) => void;\n  onChange: (v: number[]) => void;\n};\n\nconst StyledSliderContainer = styled.div<StyledSliderContainerProps>`\n  align-items: flex-end;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding-left: ${props => (props.isEnlarged ? 24 : 0)}px;\n\n  .timeline-container .kg-slider {\n    display: none;\n  }\n\n  .playback-controls {\n    margin-left: 22px;\n  }\n`;\n\nTimeRangeSliderFactory.deps = [\n  PlaybackControlsFactory,\n  RangeSliderFactory,\n  TimeSliderMarkerFactory,\n  TimeRangeSliderTimeTitleFactory\n];\n\nexport default function TimeRangeSliderFactory(\n  PlaybackControls: ReturnType<typeof PlaybackControlsFactory>,\n  RangeSlider: ReturnType<typeof RangeSliderFactory>,\n  TimeSliderMarker: ReturnType<typeof TimeSliderMarkerFactory>,\n  TimeRangeSliderTimeTitle: ReturnType<typeof TimeRangeSliderTimeTitleFactory>\n) {\n  const TimeRangeSlider: React.FC<TimeRangeSliderProps> = props => {\n    const {\n      domain,\n      value,\n      isEnlarged,\n      hideTimeTitle,\n      isAnimating,\n      resetAnimation,\n      timeFormat,\n      timezone,\n      histogram,\n      plotType,\n      lineChart,\n      step,\n      isAnimatable,\n      speed,\n      animationWindow,\n      updateAnimationSpeed,\n      setFilterAnimationWindow,\n      toggleAnimation,\n      onChange\n    } = props;\n    const throttledOnchange = useMemo(() => throttle(onChange, 20), [onChange]);\n\n    return (\n      <div className=\"time-range-slider\">\n        {!hideTimeTitle ? (\n          <div\n            className=\"time-range-slider__title\"\n            style={{\n              width: isEnlarged ? `calc(100% - ${animationControlWidth}px)` : '100%'\n            }}\n          >\n            <TimeRangeSliderTimeTitle\n              timeFormat={timeFormat}\n              timezone={timezone}\n              value={value}\n              isEnlarged={isEnlarged}\n            />\n          </div>\n        ) : null}\n        <StyledSliderContainer className=\"time-range-slider__container\" isEnlarged={isEnlarged}>\n          <div\n            className=\"timeline-container\"\n            style={{\n              width: isEnlarged ? `calc(100% - ${animationControlWidth}px)` : '100%'\n            }}\n          >\n            <RangeSlider\n              range={domain}\n              value0={value[0]}\n              value1={value[1]}\n              histogram={histogram}\n              lineChart={lineChart}\n              plotType={plotType}\n              isEnlarged={isEnlarged}\n              showInput={false}\n              step={step}\n              onChange={throttledOnchange}\n              xAxis={TimeSliderMarker}\n              timezone={timezone}\n              timeFormat={timeFormat}\n            />\n          </div>\n          {isEnlarged ? (\n            <PlaybackControls\n              isAnimatable={isAnimatable}\n              width={animationControlWidth}\n              speed={speed}\n              animationWindow={animationWindow}\n              updateAnimationSpeed={updateAnimationSpeed}\n              setFilterAnimationWindow={setFilterAnimationWindow}\n              pauseAnimation={toggleAnimation}\n              resetAnimation={resetAnimation}\n              isAnimating={isAnimating}\n              startAnimation={toggleAnimation}\n            />\n          ) : null}\n        </StyledSliderContainer>\n      </div>\n    );\n  };\n\n  return React.memo(TimeRangeSlider);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}