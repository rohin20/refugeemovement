{"ast":null,"code":"import _classCallCheck from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _get from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport ComponentState from '../lifecycle/component-state';\nvar LayerState = /*#__PURE__*/function (_ComponentState) {\n  _inherits(LayerState, _ComponentState);\n  var _super = _createSuper(LayerState);\n  function LayerState(_ref) {\n    var _this;\n    var attributeManager = _ref.attributeManager,\n      layer = _ref.layer;\n    _classCallCheck(this, LayerState);\n    _this = _super.call(this, layer);\n    _defineProperty(_assertThisInitialized(_this), \"attributeManager\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"needsRedraw\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"needsUpdate\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"subLayers\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"usesPickingColorCache\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"changeFlags\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"viewport\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"uniformTransitions\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"propsInTransition\", void 0);\n    _this.attributeManager = attributeManager;\n    _this.needsRedraw = true;\n    _this.needsUpdate = true;\n    _this.subLayers = null;\n    _this.usesPickingColorCache = false;\n    return _this;\n  }\n  _createClass(LayerState, [{\n    key: \"layer\",\n    get: function get() {\n      return this.component;\n    },\n    set: function set(layer) {\n      this.component = layer;\n    }\n  }, {\n    key: \"_fetch\",\n    value: function _fetch(propName, url) {\n      var fetch = this.component.props.fetch;\n      if (fetch) {\n        return fetch(url, {\n          propName: propName,\n          layer: this.layer\n        });\n      }\n      return _get(_getPrototypeOf(LayerState.prototype), \"_fetch\", this).call(this, propName, url);\n    }\n  }, {\n    key: \"_onResolve\",\n    value: function _onResolve(propName, value) {\n      var onDataLoad = this.component.props.onDataLoad;\n      if (propName === 'data' && onDataLoad) {\n        onDataLoad(value, {\n          propName: propName,\n          layer: this.layer\n        });\n      }\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(propName, error) {\n      this.layer.raiseError(error, \"loading \".concat(propName, \" of \").concat(this.layer));\n    }\n  }]);\n  return LayerState;\n}(ComponentState);\nexport { LayerState as default };","map":{"version":3,"names":["ComponentState","LayerState","_ComponentState","_inherits","_super","_createSuper","_ref","_this","attributeManager","layer","_classCallCheck","call","_defineProperty","_assertThisInitialized","needsRedraw","needsUpdate","subLayers","usesPickingColorCache","_createClass","key","get","component","set","value","_fetch","propName","url","fetch","props","_get","_getPrototypeOf","prototype","_onResolve","onDataLoad","_onError","error","raiseError","concat","default"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@deck.gl/core/src/lib/layer-state.ts"],"sourcesContent":["import ComponentState from '../lifecycle/component-state';\n\nimport type Layer from './layer';\nimport type AttributeManager from './attribute/attribute-manager';\nimport type Viewport from '../viewports/viewport';\nimport type UniformTransitionManager from './uniform-transition-manager';\n\nexport type ChangeFlags = {\n  // Primary changeFlags, can be strings stating reason for change\n  dataChanged: string | false | {startRow: number; endRow?: number}[];\n  propsChanged: string | false;\n  updateTriggersChanged: Record<string, true> | false;\n  extensionsChanged: boolean;\n  viewportChanged: boolean;\n  stateChanged: boolean;\n\n  // Derived changeFlags\n  propsOrDataChanged: boolean;\n  somethingChanged: boolean;\n};\n\nexport default class LayerState<LayerT extends Layer> extends ComponentState<LayerT> {\n  attributeManager: AttributeManager | null;\n  needsRedraw: boolean;\n  needsUpdate: boolean;\n  /**\n   * Sublayers rendered in a previous cycle\n   */\n  subLayers: Layer[] | null;\n  /**\n   * If the layer is using the shared instancedPickingColors buffer\n   */\n  usesPickingColorCache: boolean;\n  /**\n   * Dirty flags of the layer's props and state\n   */\n  changeFlags!: ChangeFlags;\n\n  /** The last viewport rendered by this layer */\n  viewport?: Viewport;\n\n  uniformTransitions!: UniformTransitionManager;\n  /** Populated during uniform transition to replace user-supplied values */\n  propsInTransition?: LayerT['props'];\n\n  constructor({\n    attributeManager,\n    layer\n  }: {\n    attributeManager: AttributeManager | null;\n    layer: LayerT;\n  }) {\n    super(layer);\n    this.attributeManager = attributeManager;\n    this.needsRedraw = true;\n    this.needsUpdate = true;\n    this.subLayers = null;\n    this.usesPickingColorCache = false;\n  }\n\n  get layer(): LayerT {\n    return this.component;\n  }\n\n  set layer(layer: LayerT) {\n    this.component = layer;\n  }\n\n  /* Override base Component methods with Layer-specific handling */\n\n  protected _fetch(propName, url: string) {\n    const fetch = this.component.props.fetch;\n    if (fetch) {\n      return fetch(url, {propName, layer: this.layer});\n    }\n    return super._fetch(propName, url);\n  }\n\n  protected _onResolve(propName: string, value: any) {\n    const onDataLoad = this.component.props.onDataLoad;\n    if (propName === 'data' && onDataLoad) {\n      onDataLoad(value, {propName, layer: this.layer});\n    }\n  }\n\n  protected _onError(propName: string, error: Error) {\n    this.layer.raiseError(error, `loading ${propName} of ${this.layer}`);\n  }\n}\n"],"mappings":";;;;;;;;AAAA,OAAOA,cAAP,MAA2B,8BAA3B;AAAA,IAqBqBC,UAAN,0BAAAC,eAAA;EAAAC,SAAA,CAAAF,UAAA,EAAAC,eAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,UAAA;EAwBb,SAAAA,WAAAK,IAAA,EAMG;IAAA,IAAAC,KAAA;IAAA,IALDC,gBADU,GAAAF,IAAA,CACVE,gBADU;MAEVC,KAAA,GAAAH,IAAA,CAAAG,KAAA;IAAAC,eAAA,OAAAT,UAAA;IAKAM,KAAA,GAAAH,MAAA,CAAAO,IAAA,OAAMF,KAAN;IADCG,eAAA,CAAAC,sBAAA,CAAAN,KAAA;IAAAK,eAAA,CAAAC,sBAAA,CAAAN,KAAA;IAAAK,eAAA,CAAAC,sBAAA,CAAAN,KAAA;IAAAK,eAAA,CAAAC,sBAAA,CAAAN,KAAA;IAAAK,eAAA,CAAAC,sBAAA,CAAAN,KAAA;IAAAK,eAAA,CAAAC,sBAAA,CAAAN,KAAA;IAAAK,eAAA,CAAAC,sBAAA,CAAAN,KAAA;IAAAK,eAAA,CAAAC,sBAAA,CAAAN,KAAA;IAAAK,eAAA,CAAAC,sBAAA,CAAAN,KAAA;IAEDA,KAAA,CAAKC,gBAAL,GAAwBA,gBAAxB;IACAD,KAAA,CAAKO,WAAL,GAAmB,IAAnB;IACAP,KAAA,CAAKQ,WAAL,GAAmB,IAAnB;IACAR,KAAA,CAAKS,SAAL,GAAiB,IAAjB;IACAT,KAAA,CAAKU,qBAAL,GAA6B,KAA7B;IAAA,OAAAV,KAAA;EACD;EAAAW,YAAA,CAAAjB,UAAA;IAAAkB,GAAA;IAAAC,GAAA,EAEQ,SAAAA,IAAA,EAAW;MAClB,OAAO,KAAKC,SAAZ;IACD;IAAAC,GAAA,EAEQ,SAAAA,IAACb,KAAD,EAAgB;MACvB,KAAKY,SAAL,GAAiBZ,KAAjB;IACD;EAAA;IAAAU,GAAA;IAAAI,KAAA,EAIS,SAAAC,OAAOC,QAAD,EAAWC,GAAX,EAAwB;MACtC,IAAMC,KAAK,GAAG,KAAKN,SAAL,CAAeO,KAAf,CAAqBD,KAAnC;MACA,IAAIA,KAAJ,EAAW;QACT,OAAOA,KAAK,CAACD,GAAD,EAAM;UAACD,QAAD,EAACA,QAAD;UAAWhB,KAAK,EAAE,KAAKA;QAAvB,CAAN,CAAZ;MACD;MACD,OAAAoB,IAAA,CAAAC,eAAA,CAAA7B,UAAA,CAAA8B,SAAA,mBAAApB,IAAA,OAAoBc,QAAb,EAAuBC,GAAvB;IACR;EAAA;IAAAP,GAAA;IAAAI,KAAA,EAES,SAAAS,WAAWP,QAAD,EAAmBF,KAAnB,EAA+B;MACjD,IAAMU,UAAU,GAAG,KAAKZ,SAAL,CAAeO,KAAf,CAAqBK,UAAxC;MACA,IAAIR,QAAQ,KAAK,MAAb,IAAuBQ,UAA3B,EAAuC;QACrCA,UAAU,CAACV,KAAD,EAAQ;UAACE,QAAD,EAACA,QAAD;UAAWhB,KAAK,EAAE,KAAKA;QAAvB,CAAR,CAAV;MACD;IACF;EAAA;IAAAU,GAAA;IAAAI,KAAA,EAES,SAAAW,SAAST,QAAD,EAAmBU,KAAnB,EAAiC;MACjD,KAAK1B,KAAL,CAAW2B,UAAX,CAAsBD,KAAtB,aAAAE,MAAA,CAAwCZ,QAAxC,UAAAY,MAAA,CAAuD,KAAK5B,KAA5D;IACD;EAAA;EAAA,OAAAR,UAAA;AAAA,EAlE2DD,cAA/C;AAAA,SAAMC,UAAN,IAAAqC,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}