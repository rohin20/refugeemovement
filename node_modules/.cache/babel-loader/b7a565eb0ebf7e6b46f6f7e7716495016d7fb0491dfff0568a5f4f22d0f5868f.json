{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _imagePreview = _interopRequireDefault(require(\"../common/image-preview\"));\nvar _constants = require(\"@kepler.gl/constants\");\nvar _styledComponents2 = require(\"../common/styled-components\");\nvar _switch = _interopRequireDefault(require(\"../common/switch\"));\nvar _reactIntl = require(\"react-intl\");\nvar _localization = require(\"@kepler.gl/localization\");\nvar _templateObject;\nvar ImageOptionList = _styledComponents[\"default\"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  width: 250px;\\n\\n  .image-option-section {\\n    .image-option-section-title {\\n      font-weight: 500;\\n      font-size: 14px;\\n    }\\n  }\\n\\n  .button-list {\\n    display: flex;\\n    flex-direction: row;\\n    padding: 8px 0px;\\n  }\\n\\n  input {\\n    margin-right: 8px;\\n  }\\n\"])));\nvar ExportImageModalFactory = function ExportImageModalFactory() {\n  /** @type {typeof import('./export-image-modal').ExportImageModal} */\n  var ExportImageModal = function ExportImageModal(_ref) {\n    var mapW = _ref.mapW,\n      mapH = _ref.mapH,\n      exportImage = _ref.exportImage,\n      onUpdateImageSetting = _ref.onUpdateImageSetting,\n      cleanupExportImage = _ref.cleanupExportImage,\n      intl = _ref.intl;\n    var legend = exportImage.legend,\n      ratio = exportImage.ratio,\n      resolution = exportImage.resolution;\n    (0, _react.useEffect)(function () {\n      onUpdateImageSetting({\n        exporting: true\n      });\n      return cleanupExportImage;\n    }, [onUpdateImageSetting, cleanupExportImage]);\n    (0, _react.useEffect)(function () {\n      if (mapH !== exportImage.mapH || mapW !== exportImage.mapW) {\n        onUpdateImageSetting({\n          mapH: mapH,\n          mapW: mapW\n        });\n      }\n    }, [mapH, mapW, exportImage, onUpdateImageSetting]);\n    return /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.StyledModalContent, {\n      className: \"export-image-modal\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(ImageOptionList, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"image-option-section\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"image-option-section-title\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n      id: 'modal.exportImage.ratioTitle'\n    })), /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n      id: 'modal.exportImage.ratioDescription'\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"button-list\",\n      id: \"export-image-modal__option_ratio\"\n    }, _constants.EXPORT_IMG_RATIO_OPTIONS.filter(function (op) {\n      return !op.hidden;\n    }).map(function (op) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.SelectionButton, {\n        key: op.id,\n        selected: ratio === op.id,\n        onClick: function onClick() {\n          return onUpdateImageSetting({\n            ratio: op.id\n          });\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n        id: op.label\n      }), ratio === op.id && /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.CheckMark, null));\n    }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"image-option-section\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"image-option-section-title\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n      id: 'modal.exportImage.resolutionTitle'\n    })), /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n      id: 'modal.exportImage.resolutionDescription'\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"button-list\",\n      id: \"export-image-modal__option_resolution\"\n    }, _constants.EXPORT_IMG_RESOLUTION_OPTIONS.map(function (op) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.SelectionButton, {\n        key: op.id,\n        selected: resolution === op.id,\n        onClick: function onClick() {\n          return op.available && onUpdateImageSetting({\n            resolution: op.id\n          });\n        }\n      }, op.label, resolution === op.id && /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.CheckMark, null));\n    }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"image-option-section\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"image-option-section-title\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n      id: 'modal.exportImage.mapLegendTitle'\n    })), /*#__PURE__*/_react[\"default\"].createElement(_switch[\"default\"], {\n      type: \"checkbox\",\n      id: \"add-map-legend\",\n      checked: legend,\n      label: intl.formatMessage({\n        id: 'modal.exportImage.mapLegendAdd'\n      }),\n      onChange: function onChange() {\n        return onUpdateImageSetting({\n          legend: !legend\n        });\n      }\n    }))), /*#__PURE__*/_react[\"default\"].createElement(_imagePreview[\"default\"], {\n      exportImage: exportImage\n    }));\n  };\n  return (0, _reactIntl.injectIntl)(ExportImageModal);\n};\nvar _default = ExportImageModalFactory;\nexports[\"default\"] = _default;","map":{"version":3,"names":["value","_taggedTemplateLiteral2","_interopRequireDefault","require","_react","_interopRequireWildcard","_styledComponents","_imagePreview","_constants","_styledComponents2","_switch","_reactIntl","_localization","_templateObject","ImageOptionList","div","ExportImageModalFactory","ExportImageModal","_ref","mapW","mapH","exportImage","onUpdateImageSetting","cleanupExportImage","intl","legend","ratio","resolution","useEffect","exporting","createElement","StyledModalContent","className","FormattedMessage","id","EXPORT_IMG_RATIO_OPTIONS","filter","op","hidden","map","SelectionButton","key","selected","onClick","label","CheckMark","EXPORT_IMG_RESOLUTION_OPTIONS","available"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/modals/export-image-modal.tsx"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {useEffect} from 'react';\nimport styled from 'styled-components';\nimport ImagePreview from '../common/image-preview';\nimport {SetExportImageSettingUpdaterAction} from '@kepler.gl/actions';\n\nimport {\n  EXPORT_IMG_RATIO_OPTIONS,\n  EXPORT_IMG_RESOLUTION_OPTIONS,\n  ExportImage\n} from '@kepler.gl/constants';\n\nimport {StyledModalContent, SelectionButton, CheckMark} from '../common/styled-components';\nimport Switch from '../common/switch';\nimport {injectIntl, IntlShape} from 'react-intl';\nimport {FormattedMessage} from '@kepler.gl/localization';\n\nconst ImageOptionList = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 250px;\n\n  .image-option-section {\n    .image-option-section-title {\n      font-weight: 500;\n      font-size: 14px;\n    }\n  }\n\n  .button-list {\n    display: flex;\n    flex-direction: row;\n    padding: 8px 0px;\n  }\n\n  input {\n    margin-right: 8px;\n  }\n`;\n\nexport interface ExportImageModalProps {\n  exportImage: ExportImage;\n  mapW: number;\n  mapH: number;\n  onUpdateImageSetting: (payload: SetExportImageSettingUpdaterAction['payload']) => void;\n  cleanupExportImage: () => void;\n  intl: IntlShape;\n}\n\nconst ExportImageModalFactory = () => {\n  /** @type {typeof import('./export-image-modal').ExportImageModal} */\n  const ExportImageModal: React.FC<ExportImageModalProps> = ({\n    mapW,\n    mapH,\n    exportImage,\n    onUpdateImageSetting,\n    cleanupExportImage,\n    intl\n  }) => {\n    const {legend, ratio, resolution} = exportImage;\n\n    useEffect(() => {\n      onUpdateImageSetting({\n        exporting: true\n      });\n      return cleanupExportImage;\n    }, [onUpdateImageSetting, cleanupExportImage]);\n\n    useEffect(() => {\n      if (mapH !== exportImage.mapH || mapW !== exportImage.mapW) {\n        onUpdateImageSetting({\n          mapH,\n          mapW\n        });\n      }\n    }, [mapH, mapW, exportImage, onUpdateImageSetting]);\n\n    return (\n      <StyledModalContent className=\"export-image-modal\">\n        <ImageOptionList>\n          <div className=\"image-option-section\">\n            <div className=\"image-option-section-title\">\n              <FormattedMessage id={'modal.exportImage.ratioTitle'} />\n            </div>\n            <FormattedMessage id={'modal.exportImage.ratioDescription'} />\n            <div className=\"button-list\" id=\"export-image-modal__option_ratio\">\n              {EXPORT_IMG_RATIO_OPTIONS.filter(op => !op.hidden).map(op => (\n                <SelectionButton\n                  key={op.id}\n                  selected={ratio === op.id}\n                  onClick={() => onUpdateImageSetting({ratio: op.id})}\n                >\n                  <FormattedMessage id={op.label} />\n                  {ratio === op.id && <CheckMark />}\n                </SelectionButton>\n              ))}\n            </div>\n          </div>\n          <div className=\"image-option-section\">\n            <div className=\"image-option-section-title\">\n              <FormattedMessage id={'modal.exportImage.resolutionTitle'} />\n            </div>\n            <FormattedMessage id={'modal.exportImage.resolutionDescription'} />\n            <div className=\"button-list\" id=\"export-image-modal__option_resolution\">\n              {EXPORT_IMG_RESOLUTION_OPTIONS.map(op => (\n                <SelectionButton\n                  key={op.id}\n                  selected={resolution === op.id}\n                  onClick={() => op.available && onUpdateImageSetting({resolution: op.id})}\n                >\n                  {op.label}\n                  {resolution === op.id && <CheckMark />}\n                </SelectionButton>\n              ))}\n            </div>\n          </div>\n          <div className=\"image-option-section\">\n            <div className=\"image-option-section-title\">\n              <FormattedMessage id={'modal.exportImage.mapLegendTitle'} />\n            </div>\n            <Switch\n              type=\"checkbox\"\n              id=\"add-map-legend\"\n              checked={legend}\n              label={intl.formatMessage({id: 'modal.exportImage.mapLegendAdd'})}\n              onChange={() => onUpdateImageSetting({legend: !legend})}\n            />\n          </div>\n        </ImageOptionList>\n        <ImagePreview exportImage={exportImage} />\n      </StyledModalContent>\n    );\n  };\n\n  return injectIntl(ExportImageModal);\n};\n\nexport default ExportImageModalFactory;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}