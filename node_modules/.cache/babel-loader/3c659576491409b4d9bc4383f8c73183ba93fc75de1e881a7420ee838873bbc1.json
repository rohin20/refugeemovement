{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _toConsumableArray from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Matrix4 } from '@math.gl/core';\nimport { log } from '@luma.gl/webgl';\nimport ScenegraphNode from './scenegraph-node';\nvar GroupNode = /*#__PURE__*/function (_ScenegraphNode) {\n  _inherits(GroupNode, _ScenegraphNode);\n  var _super = _createSuper(GroupNode);\n  function GroupNode() {\n    var _this;\n    _classCallCheck(this, GroupNode);\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    props = Array.isArray(props) ? {\n      children: props\n    } : props;\n    var _props = props,\n      _props$children = _props.children,\n      children = _props$children === void 0 ? [] : _props$children;\n    log.assert(children.every(function (child) {\n      return child instanceof ScenegraphNode;\n    }), 'every child must an instance of ScenegraphNode');\n    _this = _super.call(this, props);\n    _this.children = children;\n    return _this;\n  }\n  _createClass(GroupNode, [{\n    key: \"add\",\n    value: function add() {\n      for (var _len = arguments.length, children = new Array(_len), _key = 0; _key < _len; _key++) {\n        children[_key] = arguments[_key];\n      }\n      for (var _i = 0, _children = children; _i < _children.length; _i++) {\n        var child = _children[_i];\n        if (Array.isArray(child)) {\n          this.add.apply(this, _toConsumableArray(child));\n        } else {\n          this.children.push(child);\n        }\n      }\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(child) {\n      var children = this.children;\n      var indexOf = children.indexOf(child);\n      if (indexOf > -1) {\n        children.splice(indexOf, 1);\n      }\n      return this;\n    }\n  }, {\n    key: \"removeAll\",\n    value: function removeAll() {\n      this.children = [];\n      return this;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      this.children.forEach(function (child) {\n        return child.delete();\n      });\n      this.removeAll();\n      _get(_getPrototypeOf(GroupNode.prototype), \"delete\", this).call(this);\n    }\n  }, {\n    key: \"traverse\",\n    value: function traverse(visitor) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$worldMatrix = _ref.worldMatrix,\n        worldMatrix = _ref$worldMatrix === void 0 ? new Matrix4() : _ref$worldMatrix;\n      var modelMatrix = new Matrix4(worldMatrix).multiplyRight(this.matrix);\n      var _iterator = _createForOfIteratorHelper(this.children),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var child = _step.value;\n          if (child instanceof GroupNode) {\n            child.traverse(visitor, {\n              worldMatrix: modelMatrix\n            });\n          } else {\n            visitor(child, {\n              worldMatrix: modelMatrix\n            });\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }]);\n  return GroupNode;\n}(ScenegraphNode);\nexport { GroupNode as default };","map":{"version":3,"names":["Matrix4","log","ScenegraphNode","GroupNode","_ScenegraphNode","_inherits","_super","_createSuper","_this","_classCallCheck","props","arguments","length","undefined","Array","isArray","children","_props","_props$children","assert","every","child","call","_createClass","key","value","add","_len","_key","_i","_children","apply","_toConsumableArray","push","remove","indexOf","splice","removeAll","_delete","forEach","delete","_get","_getPrototypeOf","prototype","traverse","visitor","_ref","_ref$worldMatrix","worldMatrix","modelMatrix","multiplyRight","matrix","_iterator","_createForOfIteratorHelper","_step","s","n","done","err","e","f","default"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@luma.gl/experimental/src/scenegraph/group-node.js"],"sourcesContent":["import {Matrix4} from '@math.gl/core';\nimport {log} from '@luma.gl/webgl';\nimport ScenegraphNode from './scenegraph-node';\n\nexport default class GroupNode extends ScenegraphNode {\n  constructor(props = {}) {\n    props = Array.isArray(props) ? {children: props} : props;\n    const {children = []} = props;\n    log.assert(\n      children.every(child => child instanceof ScenegraphNode),\n      'every child must an instance of ScenegraphNode'\n    );\n    super(props);\n    this.children = children;\n  }\n\n  // Unpacks arrays and nested arrays of children\n  add(...children) {\n    for (const child of children) {\n      if (Array.isArray(child)) {\n        this.add(...child);\n      } else {\n        this.children.push(child);\n      }\n    }\n    return this;\n  }\n\n  remove(child) {\n    const children = this.children;\n    const indexOf = children.indexOf(child);\n    if (indexOf > -1) {\n      children.splice(indexOf, 1);\n    }\n    return this;\n  }\n\n  removeAll() {\n    this.children = [];\n    return this;\n  }\n\n  delete() {\n    this.children.forEach(child => child.delete());\n    this.removeAll();\n    super.delete();\n  }\n\n  traverse(visitor, {worldMatrix = new Matrix4()} = {}) {\n    const modelMatrix = new Matrix4(worldMatrix).multiplyRight(this.matrix);\n\n    for (const child of this.children) {\n      if (child instanceof GroupNode) {\n        child.traverse(visitor, {worldMatrix: modelMatrix});\n      } else {\n        visitor(child, {worldMatrix: modelMatrix});\n      }\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}