{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _styledComponents = _interopRequireWildcard(require(\"styled-components\"));\nvar _reactSortableHoc = require(\"react-sortable-hoc\");\nvar _portaled = _interopRequireDefault(require(\"../../common/portaled\"));\nvar _styledComponents2 = require(\"../../common/styled-components\");\nvar _icons = require(\"../../common/icons\");\nvar _colorPalette = _interopRequireDefault(require(\"./color-palette\"));\nvar _customPicker = _interopRequireDefault(require(\"./custom-picker\"));\nvar _utils = require(\"@kepler.gl/utils\");\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9;\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar dragHandleActive = (0, _styledComponents.css)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  .layer__drag-handle {\\n    color: \", \";\\n    opacity: 1;\\n    cursor: move;\\n  }\\n\"])), function (props) {\n  return props.theme.textColorHl;\n});\nvar StyledSortableItem = _styledComponents[\"default\"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  align-items: center;\\n  padding-top: 6px;\\n  padding-bottom: 6px;\\n  z-index: \", \";\\n\\n  :not(.sorting) {\\n    :hover {\\n      background-color: \", \";\\n      \", \";\\n    }\\n  }\\n\\n  &.sorting-colors {\\n    background-color: \", \";\\n    \", \";\\n  }\\n\"])), function (props) {\n  return props.theme.dropdownWrapperZ + 1;\n}, function (props) {\n  return props.theme.panelBackgroundHover;\n}, dragHandleActive, function (props) {\n  return props.theme.panelBackgroundHover;\n}, dragHandleActive);\nvar StyledDragHandle = _styledComponents[\"default\"].div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  align-items: center;\\n  opacity: 0;\\n\"])));\nvar StyledTrash = _styledComponents[\"default\"].div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  color: \", \";\\n  svg {\\n    :hover {\\n      color: \", \";\\n    }\\n  }\\n  height: 12px;\\n  margin-left: auto;\\n  margin-right: 12px;\\n  :hover {\\n    cursor: pointer;\\n  }\\n\"])), function (props) {\n  return props.theme.textColor;\n}, function (props) {\n  return props.theme.subtextColorActive;\n});\nvar StyledLine = _styledComponents[\"default\"].div(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  width: calc(100% - 16px);\\n  height: 1px;\\n  background-color: \", \";\\n  margin-top: 8px;\\n  margin-left: 8px;\\n\"])), function (props) {\n  return props.theme.labelColor;\n});\nvar StyledSwatch = _styledComponents[\"default\"].div.attrs({\n  className: 'custom-palette__swatch'\n})(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  background-color: \", \";\\n  width: 32px;\\n  height: 18px;\\n  display: inline-block;\\n  :hover {\\n    box-shadow: \", \";\\n    cursor: pointer;\\n  }\\n\"])), function (props) {\n  return props.color;\n}, function (props) {\n  return props.theme.boxShadow;\n});\nvar StyledColorRange = _styledComponents[\"default\"].div(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  padding: 0 8px;\\n  :hover {\\n    background-color: \", \";\\n    cursor: pointer;\\n  }\\n\"])), function (props) {\n  return props.theme.panelBackgroundHover;\n});\nvar StyledButtonContainer = _styledComponents[\"default\"].div(_templateObject8 || (_templateObject8 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  margin-top: 11px;\\n  display: flex;\\n  direction: rtl;\\n\"])));\nvar StyledInlineInput = _styledComponents[\"default\"].div(_templateObject9 || (_templateObject9 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  margin-left: 12px;\\n  input {\\n    color: \", \";\\n    font-size: 10px;\\n  }\\n\"])), function (props) {\n  return props.theme.textColorHl;\n});\nvar SortableItem = (0, _reactSortableHoc.SortableElement)(function (_ref) {\n  var children = _ref.children,\n    isSorting = _ref.isSorting;\n  return /*#__PURE__*/_react[\"default\"].createElement(StyledSortableItem, {\n    className: (0, _classnames[\"default\"])('custom-palette__sortable-items', {\n      sorting: isSorting\n    })\n  }, children);\n}); // TODO: Should className be applied to the div here?\n\nvar WrappedSortableContainer = (0, _reactSortableHoc.SortableContainer)(function (_ref2) {\n  var children = _ref2.children,\n    className = _ref2.className;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: className\n  }, children);\n});\nvar DragHandle = (0, _reactSortableHoc.SortableHandle)(function (_ref3) {\n  var className = _ref3.className,\n    children = _ref3.children;\n  return /*#__PURE__*/_react[\"default\"].createElement(StyledDragHandle, {\n    className: className\n  }, children);\n});\nvar CustomPalette = /*#__PURE__*/function (_Component) {\n  (0, _inherits2[\"default\"])(CustomPalette, _Component);\n  var _super = _createSuper(CustomPalette);\n  function CustomPalette() {\n    var _this;\n    (0, _classCallCheck2[\"default\"])(this, CustomPalette);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"state\", {\n      isSorting: false\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"root\", /*#__PURE__*/(0, _react.createRef)());\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_onPickerUpdate\", function (color) {\n      var colors = _this.props.customPalette.colors;\n      var newColors = (0, _toConsumableArray2[\"default\"])(colors);\n      newColors[_this.props.showSketcher] = color.hex;\n      _this._setColorPaletteUI(newColors);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_onColorDelete\", function (index) {\n      var colors = _this.props.customPalette.colors;\n      var newColors = (0, _toConsumableArray2[\"default\"])(colors);\n      if (newColors.length > 1) {\n        newColors.splice(index, 1);\n      }\n      _this._setColorPaletteUI(newColors);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_onColorAdd\", function () {\n      var colors = _this.props.customPalette.colors; // add the last color\n\n      var newColors = [].concat((0, _toConsumableArray2[\"default\"])(colors), [colors[colors.length - 1]]);\n      _this._setColorPaletteUI(newColors);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_onSwatchClick\", function (index) {\n      _this.props.onToggleSketcher(index);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_onSwatchClose\", function () {\n      _this.props.onToggleSketcher(false);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_onApply\", function (event) {\n      event.stopPropagation();\n      event.preventDefault();\n      _this.props.onCancel();\n      _this.props.onApply(_this.props.customPalette, event);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_onSortEnd\", function (_ref4) {\n      var oldIndex = _ref4.oldIndex,\n        newIndex = _ref4.newIndex;\n      var colors = _this.props.customPalette.colors;\n      var newColors = (0, _utils.arrayMove)(colors, oldIndex, newIndex);\n      _this._setColorPaletteUI(newColors);\n      _this.setState({\n        isSorting: false\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_onSortStart\", function () {\n      _this.setState({\n        isSorting: true\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_inputColorHex\", function (index, _ref5) {\n      var value = _ref5.target.value;\n      var colors = _this.props.customPalette.colors;\n      var newColors = (0, _toConsumableArray2[\"default\"])(colors);\n      newColors[index] = value.toUpperCase();\n      _this._setColorPaletteUI(newColors);\n    });\n    return _this;\n  }\n  (0, _createClass2[\"default\"])(CustomPalette, [{\n    key: \"_setColorPaletteUI\",\n    value: function _setColorPaletteUI(colors) {\n      this.props.setCustomPalette({\n        colors: colors\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var colors = this.props.customPalette.colors;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"custom-palette-panel\",\n        ref: this.root\n      }, /*#__PURE__*/_react[\"default\"].createElement(StyledColorRange, null, /*#__PURE__*/_react[\"default\"].createElement(_colorPalette[\"default\"], {\n        colors: colors\n      })), /*#__PURE__*/_react[\"default\"].createElement(WrappedSortableContainer, {\n        className: \"custom-palette-container\",\n        onSortEnd: this._onSortEnd,\n        onSortStart: this._onSortStart,\n        lockAxis: \"y\",\n        helperClass: \"sorting-colors\",\n        useDragHandle: true\n      }, colors.map(function (color, index) {\n        return /*#__PURE__*/_react[\"default\"].createElement(SortableItem, {\n          key: index,\n          index: index,\n          isSorting: _this2.state.isSorting\n        }, /*#__PURE__*/_react[\"default\"].createElement(DragHandle, {\n          className: \"layer__drag-handle\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(_icons.VertDots, {\n          height: \"20px\"\n        })), /*#__PURE__*/_react[\"default\"].createElement(StyledSwatch, {\n          color: color,\n          onClick: function onClick() {\n            return _this2._onSwatchClick(index);\n          }\n        }), /*#__PURE__*/_react[\"default\"].createElement(StyledInlineInput, null, /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.InlineInput, {\n          type: \"text\",\n          className: \"custom-palette-hex__input\",\n          value: color.toUpperCase(),\n          onClick: function onClick(e) {\n            e.stopPropagation();\n          },\n          onChange: function onChange(e) {\n            return _this2._inputColorHex(index, e);\n          },\n          id: \"input-layer-label-\".concat(index)\n        })), /*#__PURE__*/_react[\"default\"].createElement(StyledTrash, {\n          onClick: function onClick() {\n            return _this2._onColorDelete(index);\n          }\n        }, /*#__PURE__*/_react[\"default\"].createElement(_icons.Trash, {\n          className: \"trashbin\"\n        })));\n      })), /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.Button, {\n        className: \"add-step__button\",\n        link: true,\n        onClick: this._onColorAdd\n      }, \"+ Add Step\"), /*#__PURE__*/_react[\"default\"].createElement(StyledLine, null), /*#__PURE__*/_react[\"default\"].createElement(StyledButtonContainer, null, /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.Button, {\n        className: \"confirm-apply__button\",\n        link: true,\n        onClick: this._onApply\n      }, \"Confirm\"), /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.Button, {\n        link: true,\n        onClick: this.props.onCancel\n      }, \"Cancel\")), /*#__PURE__*/_react[\"default\"].createElement(_portaled[\"default\"], {\n        isOpened: this.props.showSketcher !== false,\n        left: 280,\n        top: -300\n      }, /*#__PURE__*/_react[\"default\"].createElement(_customPicker[\"default\"], {\n        color: colors[this.props.showSketcher],\n        onChange: this._onPickerUpdate,\n        onSwatchClose: this._onSwatchClose\n      })));\n    }\n  }]);\n  return CustomPalette;\n}(_react.Component);\nvar _default = CustomPalette;\nexports[\"default\"] = _default;","map":{"version":3,"names":["exports","_toConsumableArray2","_interopRequireDefault","require","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_taggedTemplateLiteral2","_reactSortableHoc","_portaled","_styledComponents2","_icons","_colorPalette","_customPicker","_utils","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","dragHandleActive","_styledComponents","css","props","theme","textColorHl","StyledSortableItem","div","dropdownWrapperZ","panelBackgroundHover","StyledDragHandle","StyledTrash","StyledLine","StyledSwatch","attrs","className","color","boxShadow","StyledColorRange","StyledButtonContainer","StyledInlineInput","SortableItem","SortableElement","_ref","children","isSorting","_react","createElement","sorting","CustomPalette","_Component","_len","length","args","Array","_key","_this","_super","concat","newColors","colors","_setColorPaletteUI","index","customPalette","splice","onToggleSketcher","event","stopPropagation","preventDefault","onApply","_ref4","oldIndex","setState","_ref5","value","target","toUpperCase","key","setCustomPalette","render","_this2","ref","root","WrappedSortableContainer","onSortEnd","_onSortEnd","onSortStart","_onSortStart","lockAxis","helperClass","useDragHandle","map","state","DragHandle","VertDots","height","onClick","_onSwatchClick","InlineInput","type","onChange","_inputColorHex","id","_onColorDelete","Trash","Button"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/side-panel/layer-panel/custom-palette.tsx"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component, createRef, MouseEventHandler, MouseEvent} from 'react';\nimport classnames from 'classnames';\nimport styled, {css} from 'styled-components';\nimport {SortableContainer, SortableElement, SortableHandle} from 'react-sortable-hoc';\nimport Portaled from '../../common/portaled';\n\nimport {Button, InlineInput} from '../../common/styled-components';\nimport {VertDots, Trash} from '../../common/icons';\nimport ColorPalette from './color-palette';\nimport CustomPicker from './custom-picker';\nimport {arrayMove} from '@kepler.gl/utils';\nimport {ColorRange} from '@kepler.gl/constants';\nimport {NestedPartial} from '@kepler.gl/types';\n\ntype CustomPaletteProps = {\n  customPalette: ColorRange;\n  showSketcher?: boolean | number;\n  setCustomPalette: (c: NestedPartial<ColorRange>) => void;\n  onCancel: () => void;\n  onToggleSketcher: (i: boolean | number) => void;\n  onApply: (p: ColorRange, e: MouseEvent) => void;\n};\n\nconst dragHandleActive = css`\n  .layer__drag-handle {\n    color: ${props => props.theme.textColorHl};\n    opacity: 1;\n    cursor: move;\n  }\n`;\n\nconst StyledSortableItem = styled.div`\n  display: flex;\n  align-items: center;\n  padding-top: 6px;\n  padding-bottom: 6px;\n  z-index: ${props => props.theme.dropdownWrapperZ + 1};\n\n  :not(.sorting) {\n    :hover {\n      background-color: ${props => props.theme.panelBackgroundHover};\n      ${dragHandleActive};\n    }\n  }\n\n  &.sorting-colors {\n    background-color: ${props => props.theme.panelBackgroundHover};\n    ${dragHandleActive};\n  }\n`;\n\nconst StyledDragHandle = styled.div`\n  display: flex;\n  align-items: center;\n  opacity: 0;\n`;\n\nconst StyledTrash = styled.div`\n  color: ${props => props.theme.textColor};\n  svg {\n    :hover {\n      color: ${props => props.theme.subtextColorActive};\n    }\n  }\n  height: 12px;\n  margin-left: auto;\n  margin-right: 12px;\n  :hover {\n    cursor: pointer;\n  }\n`;\n\nconst StyledLine = styled.div`\n  width: calc(100% - 16px);\n  height: 1px;\n  background-color: ${props => props.theme.labelColor};\n  margin-top: 8px;\n  margin-left: 8px;\n`;\n\nconst StyledSwatch = styled.div.attrs({\n  className: 'custom-palette__swatch'\n})`\n  background-color: ${props => props.color};\n  width: 32px;\n  height: 18px;\n  display: inline-block;\n  :hover {\n    box-shadow: ${props => props.theme.boxShadow};\n    cursor: pointer;\n  }\n`;\n\nconst StyledColorRange = styled.div`\n  padding: 0 8px;\n  :hover {\n    background-color: ${props => props.theme.panelBackgroundHover};\n    cursor: pointer;\n  }\n`;\n\nconst StyledButtonContainer = styled.div`\n  margin-top: 11px;\n  display: flex;\n  direction: rtl;\n`;\n\nconst StyledInlineInput = styled.div`\n  margin-left: 12px;\n  input {\n    color: ${props => props.theme.textColorHl};\n    font-size: 10px;\n  }\n`;\n\nconst SortableItem = SortableElement(({children, isSorting}) => (\n  <StyledSortableItem\n    className={classnames('custom-palette__sortable-items', {sorting: isSorting})}\n  >\n    {children}\n  </StyledSortableItem>\n));\n\n// TODO: Should className be applied to the div here?\nconst WrappedSortableContainer = SortableContainer(({children, className}) => (\n  <div className={className}>{children}</div>\n));\n\nconst DragHandle = SortableHandle(({className, children}) => (\n  <StyledDragHandle className={className}>{children}</StyledDragHandle>\n));\n\nclass CustomPalette extends Component<CustomPaletteProps> {\n  state = {\n    isSorting: false\n  };\n\n  root = createRef<HTMLDivElement>();\n\n  _setColorPaletteUI(colors: string[]) {\n    this.props.setCustomPalette({\n      colors\n    });\n  }\n\n  _onPickerUpdate = (color: {hex: string}) => {\n    const {colors} = this.props.customPalette;\n    const newColors = [...colors];\n    newColors[this.props.showSketcher as number] = color.hex;\n    this._setColorPaletteUI(newColors);\n  };\n\n  _onColorDelete = (index: number) => {\n    const {colors} = this.props.customPalette;\n    const newColors = [...colors];\n    if (newColors.length > 1) {\n      newColors.splice(index, 1);\n    }\n    this._setColorPaletteUI(newColors);\n  };\n\n  _onColorAdd = () => {\n    const {colors} = this.props.customPalette;\n    // add the last color\n    const newColors = [...colors, colors[colors.length - 1]];\n    this._setColorPaletteUI(newColors);\n  };\n\n  _onSwatchClick = (index: number) => {\n    this.props.onToggleSketcher(index);\n  };\n\n  _onSwatchClose = () => {\n    this.props.onToggleSketcher(false);\n  };\n\n  _onApply: MouseEventHandler = event => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    this.props.onCancel();\n    this.props.onApply(this.props.customPalette, event);\n  };\n\n  _onSortEnd = ({oldIndex, newIndex}) => {\n    const {colors} = this.props.customPalette;\n    const newColors = arrayMove(colors, oldIndex, newIndex);\n    this._setColorPaletteUI(newColors);\n    this.setState({isSorting: false});\n  };\n\n  _onSortStart = () => {\n    this.setState({isSorting: true});\n  };\n\n  _inputColorHex = (index: number, {target: {value}}) => {\n    const {colors} = this.props.customPalette;\n    const newColors = [...colors];\n    newColors[index] = value.toUpperCase();\n    this._setColorPaletteUI(newColors);\n  };\n\n  render() {\n    const {colors} = this.props.customPalette;\n\n    return (\n      <div className=\"custom-palette-panel\" ref={this.root}>\n        <StyledColorRange>\n          <ColorPalette colors={colors} />\n        </StyledColorRange>\n        <WrappedSortableContainer\n          className=\"custom-palette-container\"\n          onSortEnd={this._onSortEnd}\n          onSortStart={this._onSortStart}\n          lockAxis=\"y\"\n          helperClass=\"sorting-colors\"\n          useDragHandle\n        >\n          {colors.map((color, index) => (\n            <SortableItem key={index} index={index} isSorting={this.state.isSorting}>\n              <DragHandle className=\"layer__drag-handle\">\n                <VertDots height=\"20px\" />\n              </DragHandle>\n              <StyledSwatch color={color} onClick={() => this._onSwatchClick(index)} />\n              <StyledInlineInput>\n                <InlineInput\n                  type=\"text\"\n                  className=\"custom-palette-hex__input\"\n                  value={color.toUpperCase()}\n                  onClick={e => {\n                    e.stopPropagation();\n                  }}\n                  onChange={e => this._inputColorHex(index, e)}\n                  id={`input-layer-label-${index}`}\n                />\n              </StyledInlineInput>\n              <StyledTrash onClick={() => this._onColorDelete(index)}>\n                <Trash className=\"trashbin\" />\n              </StyledTrash>\n            </SortableItem>\n          ))}\n        </WrappedSortableContainer>\n        {/* Add Step Button */}\n        <Button className=\"add-step__button\" link onClick={this._onColorAdd}>\n          + Add Step\n        </Button>\n        <StyledLine />\n        {/* Cancel or Confirm Buttons */}\n        <StyledButtonContainer>\n          <Button className=\"confirm-apply__button\" link onClick={this._onApply}>\n            Confirm\n          </Button>\n          <Button link onClick={this.props.onCancel}>\n            Cancel\n          </Button>\n        </StyledButtonContainer>\n\n        <Portaled isOpened={this.props.showSketcher !== false} left={280} top={-300}>\n          <CustomPicker\n            color={colors[this.props.showSketcher as number]}\n            onChange={this._onPickerUpdate}\n            onSwatchClose={this._onSwatchClose}\n          />\n        </Portaled>\n      </div>\n    );\n  }\n}\n\nexport default CustomPalette;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}