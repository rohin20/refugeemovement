{"ast":null,"code":"import _regeneratorRuntime from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _asyncIterator from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/asyncIterator.js\";\nimport { concatenateArrayBuffers } from '../binary-utils/array-buffer-utils';\nexport function forEach(_x, _x2) {\n  return _forEach.apply(this, arguments);\n}\nfunction _forEach() {\n  _forEach = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(iterator, visitor) {\n    var _yield$iterator$next, done, value, cancel;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!true) {\n            _context.next = 14;\n            break;\n          }\n          _context.next = 3;\n          return iterator.next();\n        case 3:\n          _yield$iterator$next = _context.sent;\n          done = _yield$iterator$next.done;\n          value = _yield$iterator$next.value;\n          if (!done) {\n            _context.next = 9;\n            break;\n          }\n          iterator.return();\n          return _context.abrupt(\"return\");\n        case 9:\n          cancel = visitor(value);\n          if (!cancel) {\n            _context.next = 12;\n            break;\n          }\n          return _context.abrupt(\"return\");\n        case 12:\n          _context.next = 0;\n          break;\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _forEach.apply(this, arguments);\n}\nexport function concatenateArrayBuffersAsync(_x3) {\n  return _concatenateArrayBuffersAsync.apply(this, arguments);\n}\nfunction _concatenateArrayBuffersAsync() {\n  _concatenateArrayBuffersAsync = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(asyncIterator) {\n    var arrayBuffers, _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, chunk;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          arrayBuffers = [];\n          _iteratorAbruptCompletion = false;\n          _didIteratorError = false;\n          _context2.prev = 3;\n          _iterator = _asyncIterator(asyncIterator);\n        case 5:\n          _context2.next = 7;\n          return _iterator.next();\n        case 7:\n          if (!(_iteratorAbruptCompletion = !(_step = _context2.sent).done)) {\n            _context2.next = 13;\n            break;\n          }\n          chunk = _step.value;\n          arrayBuffers.push(chunk);\n        case 10:\n          _iteratorAbruptCompletion = false;\n          _context2.next = 5;\n          break;\n        case 13:\n          _context2.next = 19;\n          break;\n        case 15:\n          _context2.prev = 15;\n          _context2.t0 = _context2[\"catch\"](3);\n          _didIteratorError = true;\n          _iteratorError = _context2.t0;\n        case 19:\n          _context2.prev = 19;\n          _context2.prev = 20;\n          if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n            _context2.next = 24;\n            break;\n          }\n          _context2.next = 24;\n          return _iterator.return();\n        case 24:\n          _context2.prev = 24;\n          if (!_didIteratorError) {\n            _context2.next = 27;\n            break;\n          }\n          throw _iteratorError;\n        case 27:\n          return _context2.finish(24);\n        case 28:\n          return _context2.finish(19);\n        case 29:\n          return _context2.abrupt(\"return\", concatenateArrayBuffers.apply(void 0, arrayBuffers));\n        case 30:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[3, 15, 19, 29], [20,, 24, 28]]);\n  }));\n  return _concatenateArrayBuffersAsync.apply(this, arguments);\n}\nexport function concatenateStringsAsync(_x4) {\n  return _concatenateStringsAsync.apply(this, arguments);\n}\nfunction _concatenateStringsAsync() {\n  _concatenateStringsAsync = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(asyncIterator) {\n    var strings, _iteratorAbruptCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, chunk;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          strings = [];\n          _iteratorAbruptCompletion2 = false;\n          _didIteratorError2 = false;\n          _context3.prev = 3;\n          _iterator2 = _asyncIterator(asyncIterator);\n        case 5:\n          _context3.next = 7;\n          return _iterator2.next();\n        case 7:\n          if (!(_iteratorAbruptCompletion2 = !(_step2 = _context3.sent).done)) {\n            _context3.next = 13;\n            break;\n          }\n          chunk = _step2.value;\n          strings.push(chunk);\n        case 10:\n          _iteratorAbruptCompletion2 = false;\n          _context3.next = 5;\n          break;\n        case 13:\n          _context3.next = 19;\n          break;\n        case 15:\n          _context3.prev = 15;\n          _context3.t0 = _context3[\"catch\"](3);\n          _didIteratorError2 = true;\n          _iteratorError2 = _context3.t0;\n        case 19:\n          _context3.prev = 19;\n          _context3.prev = 20;\n          if (!(_iteratorAbruptCompletion2 && _iterator2.return != null)) {\n            _context3.next = 24;\n            break;\n          }\n          _context3.next = 24;\n          return _iterator2.return();\n        case 24:\n          _context3.prev = 24;\n          if (!_didIteratorError2) {\n            _context3.next = 27;\n            break;\n          }\n          throw _iteratorError2;\n        case 27:\n          return _context3.finish(24);\n        case 28:\n          return _context3.finish(19);\n        case 29:\n          return _context3.abrupt(\"return\", strings.join(''));\n        case 30:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[3, 15, 19, 29], [20,, 24, 28]]);\n  }));\n  return _concatenateStringsAsync.apply(this, arguments);\n}","map":{"version":3,"names":["concatenateArrayBuffers","forEach","_x","_x2","_forEach","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","iterator","visitor","_yield$iterator$next","done","value","cancel","wrap","_callee$","_context","prev","next","sent","return","abrupt","stop","concatenateArrayBuffersAsync","_x3","_concatenateArrayBuffersAsync","_callee2","asyncIterator","arrayBuffers","_iteratorAbruptCompletion","_didIteratorError","_iteratorError","_iterator","_step","chunk","_callee2$","_context2","_asyncIterator","push","t0","finish","concatenateStringsAsync","_x4","_concatenateStringsAsync","_callee3","strings","_iteratorAbruptCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_callee3$","_context3","join"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@loaders.gl/loader-utils/src/lib/iterators/async-iteration.ts"],"sourcesContent":["import {concatenateArrayBuffers} from '../binary-utils/array-buffer-utils';\n\n// GENERAL UTILITIES\n\n/**\n * Iterate over async iterator, without resetting iterator if end is not reached\n * - forEach intentionally does not reset iterator if exiting loop prematurely\n *   so that iteration can continue in a second loop\n * - It is recommended to use a standard for-await as last loop to ensure\n *   iterator gets properly reset\n *\n * TODO - optimize using sync iteration if argument is an Iterable?\n *\n * @param iterator\n * @param visitor\n */\nexport async function forEach(iterator, visitor) {\n  // eslint-disable-next-line\n  while (true) {\n    const {done, value} = await iterator.next();\n    if (done) {\n      iterator.return();\n      return;\n    }\n    const cancel = visitor(value);\n    if (cancel) {\n      return;\n    }\n  }\n}\n\n// Breaking big data into iterable chunks, concatenating iterable chunks into big data objects\n\n/**\n * Concatenates all data chunks yielded by an (async) iterator\n * This function can e.g. be used to enable atomic parsers to work on (async) iterator inputs\n */\n\nexport async function concatenateArrayBuffersAsync(\n  asyncIterator: AsyncIterable<ArrayBuffer> | Iterable<ArrayBuffer>\n): Promise<ArrayBuffer> {\n  const arrayBuffers: ArrayBuffer[] = [];\n  for await (const chunk of asyncIterator) {\n    arrayBuffers.push(chunk);\n  }\n  return concatenateArrayBuffers(...arrayBuffers);\n}\n\nexport async function concatenateStringsAsync(\n  asyncIterator: AsyncIterable<string> | Iterable<string>\n): Promise<string> {\n  const strings: string[] = [];\n  for await (const chunk of asyncIterator) {\n    strings.push(chunk);\n  }\n  return strings.join('');\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}