{"ast":null,"code":"// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactIntl = require(\"react-intl\");\nvar _styledComponents = require(\"../../common/styled-components\");\nvar _infoHelper = _interopRequireDefault(require(\"../../common/info-helper\"));\nvar _dimensionScaleSelector = _interopRequireDefault(require(\"./dimension-scale-selector\"));\nvar _utils = require(\"@kepler.gl/utils\");\nvar _fieldSelector = _interopRequireDefault(require(\"../../common/field-selector\"));\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nVisConfigByFieldSelectorFactory.deps = [_infoHelper[\"default\"], _fieldSelector[\"default\"]];\nfunction VisConfigByFieldSelectorFactory(InfoHelper, FieldSelector) {\n  var VisConfigByFieldSelector = /*#__PURE__*/function (_Component) {\n    (0, _inherits2[\"default\"])(VisConfigByFieldSelector, _Component);\n    var _super = _createSuper(VisConfigByFieldSelector);\n    function VisConfigByFieldSelector() {\n      var _this;\n      (0, _classCallCheck2[\"default\"])(this, VisConfigByFieldSelector);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_updateVisByField\", function (val) {\n        _this.props.updateField(val);\n      });\n      return _this;\n    }\n    (0, _createClass2[\"default\"])(VisConfigByFieldSelector, [{\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n          property = _this$props.property,\n          showScale = _this$props.showScale,\n          selectedField = _this$props.selectedField,\n          description = _this$props.description,\n          label = _this$props.label,\n          intl = _this$props.intl,\n          _this$props$scaleOpti = _this$props.scaleOptions,\n          scaleOptions = _this$props$scaleOpti === void 0 ? [] : _this$props$scaleOpti;\n        return /*#__PURE__*/_react[\"default\"].createElement(_styledComponents.SidePanelSection, null, /*#__PURE__*/_react[\"default\"].createElement(_styledComponents.SidePanelSection, null, /*#__PURE__*/_react[\"default\"].createElement(_styledComponents.PanelLabelWrapper, null, /*#__PURE__*/_react[\"default\"].createElement(_styledComponents.PanelLabel, null, label && /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n          id: label\n        }) || /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n          id: \"layer.propertyBasedOn\",\n          values: {\n            property: intl.formatMessage({\n              id: \"property.\".concat((0, _utils.camelize)(property)),\n              defaultMessage: property\n            })\n          }\n        })), description && /*#__PURE__*/_react[\"default\"].createElement(InfoHelper, {\n          description: description,\n          property: property,\n          id: \"\".concat(this.props.id, \"-\").concat(property)\n        })), /*#__PURE__*/_react[\"default\"].createElement(FieldSelector, {\n          fields: this.props.fields,\n          value: selectedField && selectedField.name,\n          placeholder: this.props.placeholder,\n          onSelect: this._updateVisByField,\n          erasable: true\n        })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, showScale ? /*#__PURE__*/_react[\"default\"].createElement(_dimensionScaleSelector[\"default\"], {\n          scaleType: this.props.scaleType,\n          options: scaleOptions,\n          label: \"\".concat(property, \" scale\"),\n          onSelect: this.props.updateScale,\n          disabled: scaleOptions.length < 2\n        }) : null));\n      }\n    }]);\n    return VisConfigByFieldSelector;\n  }(_react.Component);\n  return (0, _reactIntl.injectIntl)(VisConfigByFieldSelector);\n}\nvar _default = VisConfigByFieldSelectorFactory;\nexports[\"default\"] = _default;","map":{"version":3,"names":["value","exports","_classCallCheck2","_interopRequireDefault","require","_createClass2","_assertThisInitialized2","_inherits2","_defineProperty2","_react","_interopRequireWildcard","_reactIntl","_styledComponents","_infoHelper","_fieldSelector","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","VisConfigByFieldSelectorFactory","deps","InfoHelper","FieldSelector","VisConfigByFieldSelector","_Component","_super","_createSuper","_this","_len","arguments","length","args","Array","_key","apply","concat","val","props","updateField","key","render","description","_this$props","property","showScale","selectedField","label","intl","_this$props$scaleOpti","scaleOptions","createElement","SidePanelSection","PanelLabelWrapper","PanelLabel","FormattedMessage","id","values","formatMessage","_utils","camelize","defaultMessage","fields"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@kepler.gl/components/src/side-panel/layer-panel/vis-config-by-field-selector.tsx"],"sourcesContent":["// Copyright (c) 2022 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport {FormattedMessage, injectIntl, WrappedComponentProps} from 'react-intl';\n\nimport {Field} from '@kepler.gl/types';\n\nimport {PanelLabel, PanelLabelWrapper, SidePanelSection} from '../../common/styled-components';\nimport InfoHelperFactory from '../../common/info-helper';\nimport DimensionScaleSelector from './dimension-scale-selector';\nimport {camelize} from '@kepler.gl/utils';\nimport FieldSelectorFactory from '../../common/field-selector';\n\ntype VisConfigByFieldSelectorProps = {\n  channel: string;\n  fields: Field[];\n  id: string;\n  property: string;\n  showScale: boolean;\n  updateField: (\n    val: readonly (string | number | boolean | object)[] | string | number | boolean | object | null\n  ) => void;\n  updateScale: (\n    val: readonly (string | number | boolean | object)[] | string | number | boolean | object | null\n  ) => void;\n  scaleType?: string;\n  selectedField?: Field;\n  description?: string;\n  label?: string;\n  placeholder?: string;\n  scaleOptions: string[];\n} & WrappedComponentProps;\n\nVisConfigByFieldSelectorFactory.deps = [InfoHelperFactory, FieldSelectorFactory];\n\nfunction VisConfigByFieldSelectorFactory(\n  InfoHelper: ReturnType<typeof InfoHelperFactory>,\n  FieldSelector: ReturnType<typeof FieldSelectorFactory>\n) {\n  class VisConfigByFieldSelector extends Component<VisConfigByFieldSelectorProps> {\n    _updateVisByField = (\n      val:\n        | readonly (string | number | boolean | object)[]\n        | string\n        | number\n        | boolean\n        | object\n        | null\n    ) => {\n      this.props.updateField(val);\n    };\n\n    render() {\n      const {\n        property,\n        showScale,\n        selectedField,\n        description,\n        label,\n        intl,\n        scaleOptions = []\n      } = this.props;\n\n      return (\n        <SidePanelSection>\n          <SidePanelSection>\n            <PanelLabelWrapper>\n              <PanelLabel>\n                {(label && <FormattedMessage id={label} />) || (\n                  <FormattedMessage\n                    id=\"layer.propertyBasedOn\"\n                    values={{\n                      property: intl.formatMessage({\n                        id: `property.${camelize(property)}`,\n                        defaultMessage: property\n                      })\n                    }}\n                  />\n                )}\n              </PanelLabel>\n              {description && (\n                <InfoHelper\n                  description={description}\n                  property={property}\n                  id={`${this.props.id}-${property}`}\n                />\n              )}\n            </PanelLabelWrapper>\n            <FieldSelector\n              fields={this.props.fields}\n              value={selectedField && selectedField.name}\n              placeholder={this.props.placeholder}\n              onSelect={this._updateVisByField}\n              erasable\n            />\n          </SidePanelSection>\n          <div>\n            {showScale ? (\n              <DimensionScaleSelector\n                scaleType={this.props.scaleType}\n                options={scaleOptions}\n                label={`${property} scale`}\n                onSelect={this.props.updateScale}\n                disabled={scaleOptions.length < 2}\n              />\n            ) : null}\n          </div>\n        </SidePanelSection>\n      );\n    }\n  }\n  return injectIntl(VisConfigByFieldSelector);\n}\n\nexport default VisConfigByFieldSelectorFactory;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}