{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nexport function getErrorMessageFromResponseSync(response) {\n  return \"Failed to fetch resource \".concat(response.url, \"(\").concat(response.status, \"): \").concat(response.statusText, \" \");\n}\nexport function getErrorMessageFromResponse(_x) {\n  return _getErrorMessageFromResponse.apply(this, arguments);\n}\nfunction _getErrorMessageFromResponse() {\n  _getErrorMessageFromResponse = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(response) {\n    var message, contentType;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            message = \"Failed to fetch resource \".concat(response.url, \" (\").concat(response.status, \"): \");\n            _context.prev = 1;\n            contentType = response.headers.get('Content-Type');\n            if (!contentType.includes('application/json')) {\n              _context.next = 10;\n              break;\n            }\n            _context.t0 = message;\n            _context.next = 7;\n            return response.text();\n          case 7:\n            message = _context.t0 += _context.sent;\n            _context.next = 11;\n            break;\n          case 10:\n            message += response.statusText;\n          case 11:\n            _context.next = 16;\n            break;\n          case 13:\n            _context.prev = 13;\n            _context.t1 = _context[\"catch\"](1);\n            return _context.abrupt(\"return\", message);\n          case 16:\n            return _context.abrupt(\"return\", message);\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 13]]);\n  }));\n  return _getErrorMessageFromResponse.apply(this, arguments);\n}","map":{"version":3,"names":["getErrorMessageFromResponseSync","response","concat","url","status","statusText","getErrorMessageFromResponse","_x","_getErrorMessageFromResponse","apply","arguments","_callee","message","contentType","_regeneratorRuntime","wrap","_callee$","_context","prev","next","headers","get","includes","t0","text","sent","t1","abrupt","stop"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/kepler.gl/node_modules/@loaders.gl/core/src/lib/fetch/fetch-error-message.js"],"sourcesContent":["export function getErrorMessageFromResponseSync(response) {\n  return `Failed to fetch resource ${response.url}(${response.status}): ${response.statusText} `;\n}\n\nexport async function getErrorMessageFromResponse(response) {\n  let message = `Failed to fetch resource ${response.url} (${response.status}): `;\n  try {\n    const contentType = response.headers.get('Content-Type');\n    if (contentType.includes('application/json')) {\n      message += await response.text();\n    } else {\n      message += response.statusText;\n    }\n  } catch (error) {\n    // eslint forbids return in finally statement\n    return message;\n  }\n  return message;\n}\n"],"mappings":";;AAAA,OAAO,SAASA,+BAATA,CAAyCC,QAAzC,EAAmD;EACxD,mCAAAC,MAAA,CAAmCD,QAAQ,CAACE,GAA5C,OAAAD,MAAA,CAAmDD,QAAQ,CAACG,MAA5D,SAAAF,MAAA,CAAwED,QAAQ,CAACI,UAAjF;AACD;AAED,gBAAsBC,2BAAtBA,CAAAC,EAAA;EAAA,OAAAC,4BAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;;4EAAO,SAAAC,QAA2CV,QAA3C;IAAA,IAAAW,OAAA,EAAAC,WAAA;IAAA,OAAAC,mBAAA,CAAAC,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACDP,OADC,+BAAAV,MAAA,CACqCD,QAAQ,CAACE,GAD9C,QAAAD,MAAA,CACsDD,QAAQ,CAACG,MAD/D;YAAAa,QAAA,CAAAC,IAAA;YAGGL,WAHH,GAGiBZ,QAAQ,CAACmB,OAAT,CAAiBC,GAAjB,CAAqB,cAArB,CAHjB;YAAA,KAICR,WAAW,CAACS,QAAZ,CAAqB,kBAArB,CAJD;cAAAL,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAM,EAAA,GAKDX,OALC;YAAAK,QAAA,CAAAE,IAAA;YAAA,OAKgBlB,QAAQ,CAACuB,IAAT,EALhB;UAAA;YAKDZ,OALC,GAAAK,QAAA,CAAAM,EAAA,IAAAN,QAAA,CAAAQ,IAAA;YAAAR,QAAA,CAAAE,IAAA;YAAA;UAAA;YAODP,OAAO,IAAIX,QAAQ,CAACI,UAApB;UAPC;YAAAY,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;YAAA,OAAAA,QAAA,CAAAU,MAAA,WAWIf,OAXJ;UAAA;YAAA,OAAAK,QAAA,CAAAU,MAAA,WAaEf,OAbF;UAAA;UAAA;YAAA,OAAAK,QAAA,CAAAW,IAAA;QAAA;MAAA;IAAA,GAAAjB,OAAA;EAAA,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}