{"ast":null,"code":"import _toConsumableArray from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _defineProperty2 from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { VERSION, isBrowser } from '@probe.gl/env';\nimport { LocalStorage } from './utils/local-storage';\nimport { formatImage, formatTime, leftPad } from './utils/formatters';\nimport { addColor } from './utils/color';\nimport { autobind } from './utils/autobind';\nimport _assert from './utils/assert';\nimport { getHiResTimestamp } from './utils/hi-res-timestamp';\nvar originalConsole = {\n  debug: isBrowser ? console.debug || console.log : console.log,\n  log: console.log,\n  info: console.info,\n  warn: console.warn,\n  error: console.error\n};\nvar DEFAULT_SETTINGS = {\n  enabled: true,\n  level: 0\n};\nfunction noop() {}\nvar cache = {};\nvar ONCE = {\n  once: true\n};\nexport var Log = /*#__PURE__*/function () {\n  function Log() {\n    _classCallCheck(this, Log);\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        id: ''\n      },\n      id = _ref4.id;\n    _defineProperty(this, \"id\", void 0);\n    _defineProperty(this, \"VERSION\", VERSION);\n    _defineProperty(this, \"_startTs\", getHiResTimestamp());\n    _defineProperty(this, \"_deltaTs\", getHiResTimestamp());\n    _defineProperty(this, \"_storage\", void 0);\n    _defineProperty(this, \"userData\", {});\n    _defineProperty(this, \"LOG_THROTTLE_TIMEOUT\", 0);\n    this.id = id;\n    this.userData = {};\n    this._storage = new LocalStorage(\"__probe-\".concat(this.id, \"__\"), DEFAULT_SETTINGS);\n    this.timeStamp(\"\".concat(this.id, \" started\"));\n    autobind(this);\n    Object.seal(this);\n  }\n  _createClass(Log, [{\n    key: \"level\",\n    get: function get() {\n      return this.getLevel();\n    },\n    set: function set(newLevel) {\n      this.setLevel(newLevel);\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this._storage.config.enabled;\n    }\n  }, {\n    key: \"getLevel\",\n    value: function getLevel() {\n      return this._storage.config.level;\n    }\n  }, {\n    key: \"getTotal\",\n    value: function getTotal() {\n      return Number((getHiResTimestamp() - this._startTs).toPrecision(10));\n    }\n  }, {\n    key: \"getDelta\",\n    value: function getDelta() {\n      return Number((getHiResTimestamp() - this._deltaTs).toPrecision(10));\n    }\n  }, {\n    key: \"priority\",\n    get: function get() {\n      return this.level;\n    },\n    set: function set(newPriority) {\n      this.level = newPriority;\n    }\n  }, {\n    key: \"getPriority\",\n    value: function getPriority() {\n      return this.level;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      this._storage.setConfiguration({\n        enabled: enabled\n      });\n      return this;\n    }\n  }, {\n    key: \"setLevel\",\n    value: function setLevel(level) {\n      this._storage.setConfiguration({\n        level: level\n      });\n      return this;\n    }\n  }, {\n    key: \"get\",\n    value: function get(setting) {\n      return this._storage.config[setting];\n    }\n  }, {\n    key: \"set\",\n    value: function set(setting, value) {\n      this._storage.setConfiguration(_defineProperty2({}, setting, value));\n    }\n  }, {\n    key: \"settings\",\n    value: function settings() {\n      if (console.table) {\n        console.table(this._storage.config);\n      } else {\n        console.log(this._storage.config);\n      }\n    }\n  }, {\n    key: \"assert\",\n    value: function assert(condition, message) {\n      _assert(condition, message);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn(message) {\n      return this._getLogFunction(0, message, originalConsole.warn, arguments, ONCE);\n    }\n  }, {\n    key: \"error\",\n    value: function error(message) {\n      return this._getLogFunction(0, message, originalConsole.error, arguments);\n    }\n  }, {\n    key: \"deprecated\",\n    value: function deprecated(oldUsage, newUsage) {\n      return this.warn(\"`\".concat(oldUsage, \"` is deprecated and will be removed in a later version. Use `\").concat(newUsage, \"` instead\"));\n    }\n  }, {\n    key: \"removed\",\n    value: function removed(oldUsage, newUsage) {\n      return this.error(\"`\".concat(oldUsage, \"` has been removed. Use `\").concat(newUsage, \"` instead\"));\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(logLevel, message) {\n      return this._getLogFunction(logLevel, message, originalConsole.log, arguments, {\n        time: true,\n        once: true\n      });\n    }\n  }, {\n    key: \"log\",\n    value: function log(logLevel, message) {\n      return this._getLogFunction(logLevel, message, originalConsole.debug, arguments);\n    }\n  }, {\n    key: \"info\",\n    value: function info(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.info, arguments);\n    }\n  }, {\n    key: \"once\",\n    value: function once(logLevel, message) {\n      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n      return this._getLogFunction(logLevel, message, originalConsole.debug || originalConsole.info, arguments, ONCE);\n    }\n  }, {\n    key: \"table\",\n    value: function table(logLevel, _table, columns) {\n      if (_table) {\n        return this._getLogFunction(logLevel, _table, console.table || noop, columns && [columns], {\n          tag: getTableHeader(_table)\n        });\n      }\n      return noop;\n    }\n  }, {\n    key: \"image\",\n    value: function image(_ref) {\n      var logLevel = _ref.logLevel,\n        priority = _ref.priority,\n        image = _ref.image,\n        _ref$message = _ref.message,\n        message = _ref$message === void 0 ? '' : _ref$message,\n        _ref$scale = _ref.scale,\n        scale = _ref$scale === void 0 ? 1 : _ref$scale;\n      if (!this._shouldLog(logLevel || priority)) {\n        return noop;\n      }\n      return isBrowser ? logImageInBrowser({\n        image: image,\n        message: message,\n        scale: scale\n      }) : logImageInNode({\n        image: image,\n        message: message,\n        scale: scale\n      });\n    }\n  }, {\n    key: \"time\",\n    value: function time(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.time ? console.time : console.info);\n    }\n  }, {\n    key: \"timeEnd\",\n    value: function timeEnd(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.timeEnd ? console.timeEnd : console.info);\n    }\n  }, {\n    key: \"timeStamp\",\n    value: function timeStamp(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.timeStamp || noop);\n    }\n  }, {\n    key: \"group\",\n    value: function group(logLevel, message) {\n      var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n        collapsed: false\n      };\n      var options = normalizeArguments({\n        logLevel: logLevel,\n        message: message,\n        opts: opts\n      });\n      var collapsed = opts.collapsed;\n      options.method = (collapsed ? console.groupCollapsed : console.group) || console.info;\n      return this._getLogFunction(options);\n    }\n  }, {\n    key: \"groupCollapsed\",\n    value: function groupCollapsed(logLevel, message) {\n      var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return this.group(logLevel, message, Object.assign({}, opts, {\n        collapsed: true\n      }));\n    }\n  }, {\n    key: \"groupEnd\",\n    value: function groupEnd(logLevel) {\n      return this._getLogFunction(logLevel, '', console.groupEnd || noop);\n    }\n  }, {\n    key: \"withGroup\",\n    value: function withGroup(logLevel, message, func) {\n      this.group(logLevel, message)();\n      try {\n        func();\n      } finally {\n        this.groupEnd(logLevel)();\n      }\n    }\n  }, {\n    key: \"trace\",\n    value: function trace() {\n      if (console.trace) {\n        console.trace();\n      }\n    }\n  }, {\n    key: \"_shouldLog\",\n    value: function _shouldLog(logLevel) {\n      return this.isEnabled() && this.getLevel() >= normalizeLogLevel(logLevel);\n    }\n  }, {\n    key: \"_getLogFunction\",\n    value: function _getLogFunction(logLevel, message, method, args, opts) {\n      if (this._shouldLog(logLevel)) {\n        var _method;\n        opts = normalizeArguments({\n          logLevel: logLevel,\n          message: message,\n          args: args,\n          opts: opts\n        });\n        method = method || opts.method;\n        _assert(method);\n        opts.total = this.getTotal();\n        opts.delta = this.getDelta();\n        this._deltaTs = getHiResTimestamp();\n        var tag = opts.tag || opts.message;\n        if (opts.once) {\n          if (!cache[tag]) {\n            cache[tag] = getHiResTimestamp();\n          } else {\n            return noop;\n          }\n        }\n        message = decorateMessage(this.id, opts.message, opts);\n        return (_method = method).bind.apply(_method, [console, message].concat(_toConsumableArray(opts.args)));\n      }\n      return noop;\n    }\n  }]);\n  return Log;\n}();\n_defineProperty(Log, \"VERSION\", VERSION);\nfunction normalizeLogLevel(logLevel) {\n  if (!logLevel) {\n    return 0;\n  }\n  var resolvedLevel;\n  switch (typeof logLevel) {\n    case 'number':\n      resolvedLevel = logLevel;\n      break;\n    case 'object':\n      resolvedLevel = logLevel.logLevel || logLevel.priority || 0;\n      break;\n    default:\n      return 0;\n  }\n  _assert(Number.isFinite(resolvedLevel) && resolvedLevel >= 0);\n  return resolvedLevel;\n}\nexport function normalizeArguments(opts) {\n  var logLevel = opts.logLevel,\n    message = opts.message;\n  opts.logLevel = normalizeLogLevel(logLevel);\n  var args = opts.args ? Array.from(opts.args) : [];\n  while (args.length && args.shift() !== message) {}\n  switch (typeof logLevel) {\n    case 'string':\n    case 'function':\n      if (message !== undefined) {\n        args.unshift(message);\n      }\n      opts.message = logLevel;\n      break;\n    case 'object':\n      Object.assign(opts, logLevel);\n      break;\n    default:\n  }\n  if (typeof opts.message === 'function') {\n    opts.message = opts.message();\n  }\n  var messageType = typeof opts.message;\n  _assert(messageType === 'string' || messageType === 'object');\n  return Object.assign(opts, {\n    args: args\n  }, opts.opts);\n}\nfunction decorateMessage(id, message, opts) {\n  if (typeof message === 'string') {\n    var time = opts.time ? leftPad(formatTime(opts.total)) : '';\n    message = opts.time ? \"\".concat(id, \": \").concat(time, \"  \").concat(message) : \"\".concat(id, \": \").concat(message);\n    message = addColor(message, opts.color, opts.background);\n  }\n  return message;\n}\nfunction logImageInNode(_ref2) {\n  var image = _ref2.image,\n    _ref2$message = _ref2.message,\n    message = _ref2$message === void 0 ? '' : _ref2$message,\n    _ref2$scale = _ref2.scale,\n    scale = _ref2$scale === void 0 ? 1 : _ref2$scale;\n  console.warn('removed');\n  return noop;\n}\nfunction logImageInBrowser(_ref3) {\n  var image = _ref3.image,\n    _ref3$message = _ref3.message,\n    message = _ref3$message === void 0 ? '' : _ref3$message,\n    _ref3$scale = _ref3.scale,\n    scale = _ref3$scale === void 0 ? 1 : _ref3$scale;\n  if (typeof image === 'string') {\n    var img = new Image();\n    img.onload = function () {\n      var _console;\n      var args = formatImage(img, message, scale);\n      (_console = console).log.apply(_console, _toConsumableArray(args));\n    };\n    img.src = image;\n    return noop;\n  }\n  var element = image.nodeName || '';\n  if (element.toLowerCase() === 'img') {\n    var _console2;\n    (_console2 = console).log.apply(_console2, _toConsumableArray(formatImage(image, message, scale)));\n    return noop;\n  }\n  if (element.toLowerCase() === 'canvas') {\n    var _img = new Image();\n    _img.onload = function () {\n      var _console3;\n      return (_console3 = console).log.apply(_console3, _toConsumableArray(formatImage(_img, message, scale)));\n    };\n    _img.src = image.toDataURL();\n    return noop;\n  }\n  return noop;\n}\nfunction getTableHeader(table) {\n  for (var key in table) {\n    for (var title in table[key]) {\n      return title || 'untitled';\n    }\n  }\n  return 'empty';\n}","map":{"version":3,"names":["VERSION","isBrowser","LocalStorage","formatImage","formatTime","leftPad","addColor","autobind","assert","getHiResTimestamp","originalConsole","debug","console","log","info","warn","error","DEFAULT_SETTINGS","enabled","level","noop","cache","ONCE","once","Log","_classCallCheck","_ref4","arguments","length","undefined","id","_defineProperty","userData","_storage","concat","timeStamp","Object","seal","_createClass","key","get","getLevel","set","newLevel","setLevel","value","isEnabled","config","getTotal","Number","_startTs","toPrecision","getDelta","_deltaTs","newPriority","getPriority","enable","setConfiguration","setting","_defineProperty2","settings","table","condition","message","_getLogFunction","deprecated","oldUsage","newUsage","removed","probe","logLevel","time","_len","args","Array","_key","columns","tag","getTableHeader","image","_ref","priority","_ref$message","_ref$scale","scale","_shouldLog","logImageInBrowser","logImageInNode","timeEnd","group","opts","collapsed","options","normalizeArguments","method","groupCollapsed","assign","groupEnd","withGroup","func","trace","normalizeLogLevel","_method","total","delta","decorateMessage","bind","apply","_toConsumableArray","resolvedLevel","isFinite","from","shift","unshift","messageType","color","background","_ref2","_ref2$message","_ref2$scale","_ref3","_ref3$message","_ref3$scale","img","Image","onload","_console","src","element","nodeName","toLowerCase","_console2","_console3","toDataURL","title"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/@probe.gl/log/src/log.ts"],"sourcesContent":["// probe.gl, MIT license\n\n/* eslint-disable no-console */\nimport {VERSION, isBrowser} from '@probe.gl/env';\nimport {LocalStorage} from './utils/local-storage';\nimport {formatImage, formatTime, leftPad} from './utils/formatters';\nimport {addColor} from './utils/color';\nimport {autobind} from './utils/autobind';\nimport assert from './utils/assert';\nimport {getHiResTimestamp} from './utils/hi-res-timestamp';\n\n// Instrumentation in other packages may override console methods, so preserve them here\nconst originalConsole = {\n  debug: isBrowser ? console.debug || console.log : console.log,\n  log: console.log,\n  info: console.info,\n  warn: console.warn,\n  error: console.error\n};\n\ntype Table = Record<string, any>;\n\ntype LogFunction = () => void;\n\ntype LogOptions = {\n  method?;\n  time?;\n  total?: number;\n  delta?: number;\n  tag?: string;\n  message?: string;\n  once?: boolean;\n  nothrottle?: boolean;\n  args?: any;\n};\n\ntype LogSettings = {\n  enabled?: boolean;\n  level?: number;\n  [key: string]: any;\n};\n\nconst DEFAULT_SETTINGS: Required<LogSettings> = {\n  enabled: true,\n  level: 0\n};\n\nfunction noop() {} // eslint-disable-line @typescript-eslint/no-empty-function\n\nconst cache = {};\nconst ONCE = {once: true};\n\ntype LogConfiguration = {\n  enabled?: boolean;\n  level?: number;\n};\n\n/** A console wrapper */\n\nexport class Log {\n  static VERSION = VERSION;\n\n  id: string;\n  VERSION: string = VERSION;\n  _startTs: number = getHiResTimestamp();\n  _deltaTs: number = getHiResTimestamp();\n  _storage: LocalStorage<LogConfiguration>;\n  userData = {};\n\n  // TODO - fix support from throttling groups\n  LOG_THROTTLE_TIMEOUT: number = 0; // Time before throttled messages are logged again\n\n  constructor({id} = {id: ''}) {\n    this.id = id;\n    this.userData = {};\n    this._storage = new LocalStorage<LogConfiguration>(`__probe-${this.id}__`, DEFAULT_SETTINGS);\n\n    this.timeStamp(`${this.id} started`);\n\n    autobind(this);\n    Object.seal(this);\n  }\n\n  set level(newLevel: number) {\n    this.setLevel(newLevel);\n  }\n\n  get level(): number {\n    return this.getLevel();\n  }\n\n  isEnabled(): boolean {\n    return this._storage.config.enabled;\n  }\n\n  getLevel(): number {\n    return this._storage.config.level;\n  }\n\n  /** @return milliseconds, with fractions */\n  getTotal(): number {\n    return Number((getHiResTimestamp() - this._startTs).toPrecision(10));\n  }\n\n  /** @return milliseconds, with fractions */\n  getDelta(): number {\n    return Number((getHiResTimestamp() - this._deltaTs).toPrecision(10));\n  }\n\n  /** @deprecated use logLevel */\n  set priority(newPriority: number) {\n    this.level = newPriority;\n  }\n\n  /** @deprecated use logLevel */\n  get priority(): number {\n    return this.level;\n  }\n\n  /** @deprecated use logLevel */\n  getPriority(): number {\n    return this.level;\n  }\n\n  // Configure\n\n  enable(enabled: boolean = true): this {\n    this._storage.setConfiguration({enabled});\n    return this;\n  }\n\n  setLevel(level: number): this {\n    this._storage.setConfiguration({level});\n    return this;\n  }\n\n  /** return the current status of the setting */\n  get(setting: string): any {\n    return this._storage.config[setting];\n  }\n\n  // update the status of the setting\n  set(setting: string, value: any): void {\n    this._storage.setConfiguration({[setting]: value});\n  }\n\n  /** Logs the current settings as a table */\n  settings(): void {\n    if (console.table) {\n      console.table(this._storage.config);\n    } else {\n      console.log(this._storage.config);\n    }\n  }\n\n  // Unconditional logging\n\n  assert(condition: unknown, message?: string): asserts condition {\n    assert(condition, message);\n  }\n\n  /** Warn, but only once, no console flooding */\n  warn(message: string, ...args): LogFunction;\n  warn(message: string): LogFunction {\n    return this._getLogFunction(0, message, originalConsole.warn, arguments, ONCE);\n  }\n\n  /** Print an error */\n  error(message: string, ...args): LogFunction;\n  error(message: string): LogFunction {\n    return this._getLogFunction(0, message, originalConsole.error, arguments);\n  }\n\n  /** Print a deprecation warning */\n  deprecated(oldUsage: string, newUsage: string): LogFunction {\n    return this.warn(`\\`${oldUsage}\\` is deprecated and will be removed \\\nin a later version. Use \\`${newUsage}\\` instead`);\n  }\n\n  /** Print a removal warning */\n  removed(oldUsage: string, newUsage: string): LogFunction {\n    return this.error(`\\`${oldUsage}\\` has been removed. Use \\`${newUsage}\\` instead`);\n  }\n\n  // Conditional logging\n\n  /** Log to a group */\n  probe(logLevel, message?, ...args): LogFunction;\n  probe(logLevel, message?): LogFunction {\n    return this._getLogFunction(logLevel, message, originalConsole.log, arguments, {\n      time: true,\n      once: true\n    });\n  }\n\n  /** Log a debug message */\n  log(logLevel, message?, ...args): LogFunction;\n  log(logLevel, message?): LogFunction {\n    return this._getLogFunction(logLevel, message, originalConsole.debug, arguments);\n  }\n\n  /** Log a normal message */\n  info(logLevel, message?, ...args): LogFunction;\n  info(logLevel, message?): LogFunction {\n    return this._getLogFunction(logLevel, message, console.info, arguments);\n  }\n\n  /** Log a normal message, but only once, no console flooding */\n  once(logLevel, message?, ...args): LogFunction;\n  once(logLevel, message?, ...args) {\n    return this._getLogFunction(\n      logLevel,\n      message,\n      originalConsole.debug || originalConsole.info,\n      arguments,\n      ONCE\n    );\n  }\n\n  /** Logs an object as a table */\n  table(logLevel, table?, columns?): LogFunction {\n    if (table) {\n      // @ts-expect-error Not clear how this works, columns being passed as arguments\n      return this._getLogFunction(logLevel, table, console.table || noop, columns && [columns], {\n        tag: getTableHeader(table)\n      });\n    }\n    return noop;\n  }\n\n  /** logs an image under Chrome */\n  image({logLevel, priority, image, message = '', scale = 1}): LogFunction {\n    if (!this._shouldLog(logLevel || priority)) {\n      return noop;\n    }\n    return isBrowser\n      ? logImageInBrowser({image, message, scale})\n      : logImageInNode({image, message, scale});\n  }\n\n  time(logLevel, message) {\n    return this._getLogFunction(logLevel, message, console.time ? console.time : console.info);\n  }\n\n  timeEnd(logLevel, message) {\n    return this._getLogFunction(\n      logLevel,\n      message,\n      console.timeEnd ? console.timeEnd : console.info\n    );\n  }\n\n  timeStamp(logLevel, message?) {\n    return this._getLogFunction(logLevel, message, console.timeStamp || noop);\n  }\n\n  group(logLevel, message, opts = {collapsed: false}) {\n    const options = normalizeArguments({logLevel, message, opts});\n    const {collapsed} = opts;\n    // @ts-expect-error\n    options.method = (collapsed ? console.groupCollapsed : console.group) || console.info;\n\n    return this._getLogFunction(options);\n  }\n\n  groupCollapsed(logLevel, message, opts = {}) {\n    return this.group(logLevel, message, Object.assign({}, opts, {collapsed: true}));\n  }\n\n  groupEnd(logLevel) {\n    return this._getLogFunction(logLevel, '', console.groupEnd || noop);\n  }\n\n  // EXPERIMENTAL\n\n  withGroup(logLevel: number, message: string, func: Function): void {\n    this.group(logLevel, message)();\n\n    try {\n      func();\n    } finally {\n      this.groupEnd(logLevel)();\n    }\n  }\n\n  trace(): void {\n    if (console.trace) {\n      console.trace();\n    }\n  }\n\n  // PRIVATE METHODS\n\n  /** Deduces log level from a variety of arguments */\n  _shouldLog(logLevel: unknown): boolean {\n    return this.isEnabled() && this.getLevel() >= normalizeLogLevel(logLevel);\n  }\n\n  _getLogFunction(\n    logLevel: unknown,\n    message?: unknown,\n    method?: Function,\n    args?: IArguments,\n    opts?: LogOptions\n  ): LogFunction {\n    if (this._shouldLog(logLevel)) {\n      // normalized opts + timings\n      opts = normalizeArguments({logLevel, message, args, opts});\n      method = method || opts.method;\n      assert(method);\n\n      opts.total = this.getTotal();\n      opts.delta = this.getDelta();\n      // reset delta timer\n      this._deltaTs = getHiResTimestamp();\n\n      const tag = opts.tag || opts.message;\n\n      if (opts.once) {\n        if (!cache[tag]) {\n          cache[tag] = getHiResTimestamp();\n        } else {\n          return noop;\n        }\n      }\n\n      // TODO - Make throttling work with groups\n      // if (opts.nothrottle || !throttle(tag, this.LOG_THROTTLE_TIMEOUT)) {\n      //   return noop;\n      // }\n\n      message = decorateMessage(this.id, opts.message, opts);\n\n      // Bind console function so that it can be called after being returned\n      return method.bind(console, message, ...opts.args);\n    }\n    return noop;\n  }\n}\n\n/**\n * Get logLevel from first argument:\n * - log(logLevel, message, args) => logLevel\n * - log(message, args) => 0\n * - log({logLevel, ...}, message, args) => logLevel\n * - log({logLevel, message, args}) => logLevel\n */\nfunction normalizeLogLevel(logLevel: unknown): number {\n  if (!logLevel) {\n    return 0;\n  }\n  let resolvedLevel;\n\n  switch (typeof logLevel) {\n    case 'number':\n      resolvedLevel = logLevel;\n      break;\n\n    case 'object':\n      // Backward compatibility\n      // TODO - deprecate `priority`\n      // @ts-expect-error\n      resolvedLevel = logLevel.logLevel || logLevel.priority || 0;\n      break;\n\n    default:\n      return 0;\n  }\n  // 'log level must be a number'\n  assert(Number.isFinite(resolvedLevel) && resolvedLevel >= 0);\n\n  return resolvedLevel;\n}\n\n/**\n * \"Normalizes\" the various argument patterns into an object with known types\n * - log(logLevel, message, args) => {logLevel, message, args}\n * - log(message, args) => {logLevel: 0, message, args}\n * - log({logLevel, ...}, message, args) => {logLevel, message, args}\n * - log({logLevel, message, args}) => {logLevel, message, args}\n */\nexport function normalizeArguments(opts: {\n  logLevel;\n  message;\n  collapsed?: boolean;\n  args?: IArguments;\n  opts?;\n}): {\n  logLevel: number;\n  message: string;\n  args: any[];\n} {\n  const {logLevel, message} = opts;\n  opts.logLevel = normalizeLogLevel(logLevel);\n\n  // We use `arguments` instead of rest parameters (...args) because IE\n  // does not support the syntax. Rest parameters is transpiled to code with\n  // perf impact. Doing it here instead avoids constructing args when logging is\n  // disabled.\n  // TODO - remove when/if IE support is dropped\n  const args: any[] = opts.args ? Array.from(opts.args) : [];\n  // args should only contain arguments that appear after `message`\n  // eslint-disable-next-line no-empty\n  while (args.length && args.shift() !== message) {}\n\n  switch (typeof logLevel) {\n    case 'string':\n    case 'function':\n      if (message !== undefined) {\n        args.unshift(message);\n      }\n      opts.message = logLevel;\n      break;\n\n    case 'object':\n      Object.assign(opts, logLevel);\n      break;\n\n    default:\n  }\n\n  // Resolve functions into strings by calling them\n  if (typeof opts.message === 'function') {\n    opts.message = opts.message();\n  }\n  const messageType = typeof opts.message;\n  // 'log message must be a string' or object\n  assert(messageType === 'string' || messageType === 'object');\n\n  // original opts + normalized opts + opts arg + fixed up message\n  return Object.assign(opts, {args}, opts.opts);\n}\n\nfunction decorateMessage(id, message, opts) {\n  if (typeof message === 'string') {\n    const time = opts.time ? leftPad(formatTime(opts.total)) : '';\n    message = opts.time ? `${id}: ${time}  ${message}` : `${id}: ${message}`;\n    message = addColor(message, opts.color, opts.background);\n  }\n  return message;\n}\n\n/** @deprecated Function removed */\nfunction logImageInNode({image, message = '', scale = 1}) {\n  console.warn('removed');\n  return noop;\n}\n\nfunction logImageInBrowser({image, message = '', scale = 1}) {\n  if (typeof image === 'string') {\n    const img = new Image();\n    img.onload = () => {\n      const args = formatImage(img, message, scale);\n      console.log(...args);\n    };\n    img.src = image;\n    return noop;\n  }\n  const element = image.nodeName || '';\n  if (element.toLowerCase() === 'img') {\n    console.log(...formatImage(image, message, scale));\n    return noop;\n  }\n  if (element.toLowerCase() === 'canvas') {\n    const img = new Image();\n    img.onload = () => console.log(...formatImage(img, message, scale));\n    img.src = image.toDataURL();\n    return noop;\n  }\n  return noop;\n}\n\nfunction getTableHeader(table: Table): string {\n  for (const key in table) {\n    for (const title in table[key]) {\n      return title || 'untitled';\n    }\n  }\n  return 'empty';\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}