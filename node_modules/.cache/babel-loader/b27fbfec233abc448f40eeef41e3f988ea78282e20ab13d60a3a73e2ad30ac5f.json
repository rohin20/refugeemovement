{"ast":null,"code":"'use strict';\n\nvar b64 = require('rest/util/base64');\n\n/**\n * Access tokens actually are data, and using them we can derive\n * a user's username. This method attempts to do just that,\n * decoding the part of the token after the first `.` into\n * a username.\n *\n * @private\n * @param {string} token an access token\n * @return {string} username\n */\nfunction getUser(token) {\n  var data = token.split('.')[1];\n  if (!data) return null;\n  data = data.replace(/-/g, '+').replace(/_/g, '/');\n  var mod = data.length % 4;\n  if (mod === 2) data += '==';\n  if (mod === 3) data += '=';\n  if (mod === 1 || mod > 3) return null;\n  try {\n    return JSON.parse(b64.decode(data)).u;\n  } catch (err) {\n    return null;\n  }\n}\nmodule.exports = getUser;","map":{"version":3,"names":["b64","require","getUser","token","data","split","replace","mod","length","JSON","parse","decode","u","err","module","exports"],"sources":["/Users/rohinphukan/Desktop/RefugeeWebsite/node_modules/mapbox/lib/get_user.js"],"sourcesContent":["'use strict';\n\nvar b64 = require('rest/util/base64');\n\n/**\n * Access tokens actually are data, and using them we can derive\n * a user's username. This method attempts to do just that,\n * decoding the part of the token after the first `.` into\n * a username.\n *\n * @private\n * @param {string} token an access token\n * @return {string} username\n */\nfunction getUser(token) {\n  var data = token.split('.')[1];\n  if (!data) return null;\n  data = data.replace(/-/g, '+').replace(/_/g, '/');\n\n  var mod = data.length % 4;\n  if (mod === 2) data += '==';\n  if (mod === 3) data += '=';\n  if (mod === 1 || mod > 3) return null;\n\n  try {\n    return JSON.parse(b64.decode(data)).u;\n  } catch(err) {\n    return null;\n  }\n}\n\nmodule.exports = getUser;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,GAAG,GAAGC,OAAO,CAAC,kBAAkB,CAAC;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,OAAOA,CAACC,KAAK,EAAE;EACtB,IAAIC,IAAI,GAAGD,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9B,IAAI,CAACD,IAAI,EAAE,OAAO,IAAI;EACtBA,IAAI,GAAGA,IAAI,CAACE,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;EAEjD,IAAIC,GAAG,GAAGH,IAAI,CAACI,MAAM,GAAG,CAAC;EACzB,IAAID,GAAG,KAAK,CAAC,EAAEH,IAAI,IAAI,IAAI;EAC3B,IAAIG,GAAG,KAAK,CAAC,EAAEH,IAAI,IAAI,GAAG;EAC1B,IAAIG,GAAG,KAAK,CAAC,IAAIA,GAAG,GAAG,CAAC,EAAE,OAAO,IAAI;EAErC,IAAI;IACF,OAAOE,IAAI,CAACC,KAAK,CAACV,GAAG,CAACW,MAAM,CAACP,IAAI,CAAC,CAAC,CAACQ,CAAC;EACvC,CAAC,CAAC,OAAMC,GAAG,EAAE;IACX,OAAO,IAAI;EACb;AACF;AAEAC,MAAM,CAACC,OAAO,GAAGb,OAAO"},"metadata":{},"sourceType":"script","externalDependencies":[]}